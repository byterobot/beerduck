class XMLHttpRequest{constructor(){throw new Error("Loading remote resources is not supported! If you're trying to load a stylesheet, consider setting the linkcss document attribute")}}(function(t){var e,r,n,$,i,o,a=this;if("undefined"!=typeof global&&(a=global),"undefined"!=typeof window&&(a=window),"log"in(e="object"==typeof a.console?a.console:null==a.console?a.console={}:{})||(e.log=function(){}),"warn"in e||(e.warn=e.log),void 0!==a.Opal)return e.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),a.Opal;var s=globalThis.Opal={};s.global=a,a.Opal=s,s.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var l=Object.hasOwnProperty,c=Function.prototype.bind,u=Object.setPrototypeOf,_=Array.prototype.slice,d=Array.prototype.splice,p=4;function f(t,e,r){"string"==typeof t?t[e]=r:Object.defineProperty(t,e,{value:r,enumerable:!1,configurable:!0,writable:!0})}function h(t,e){if(t)return t.$$const[e]}function m(t,e){var r,n,$;if(null!=t)for(r=0,n=($=s.ancestors(t)).length;r<n;r++)if($[r].$$const&&l.call($[r].$$const,e))return $[r].$$const[e]}function y(t,e,r){if(!r)return(t||$).$const_missing(e)}function g(t){return t.hasOwnProperty("$$iclass")&&t.hasOwnProperty("$$root")}function v(t){var e=b(t);return t.$$is_module&&t.$$iclasses.push(e),e}function b(t){var e={},r=t.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var n,$=Object.getOwnPropertyNames(r),i=$.length;for(n=0;n<i;n++){var o=$[n];f(e,o,r[o])}return f(e,"$$iclass",!0),f(e,"$$module",t),e}function x(t){var e=t.length,r=t[0];if(f(r,"$$root",!0),1===e)return{first:r,last:r};for(var n=r,$=1;$<e;$++){var i=t[$];u(n,i),n=i}return{first:t[0],last:t[e-1]}}function k(t){if(!t.hasOwnProperty("$$dummy"))return t.hasOwnProperty("$$iclass")?t.$$module:t.hasOwnProperty("$$class")?t.$$class:void 0}function w(t){return"function"==typeof t&&!t.$$stub}s.uid=function(){return p+=2},s.id=function(t){return t.$$is_number?2*t+1:(null!=t.$$id||f(t,"$$id",s.uid()),t.$$id)},s.gvars={},s.exit=function(t){s.gvars.DEBUG&&e.log("Exited with status "+t)},s.exceptions=[],s.pop_exception=function(){s.gvars["!"]=s.exceptions.pop()||r},s.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},s.defineProperty=f,s.slice=_,s.truthy=function(t){return t!==r&&null!=t&&(!t.$$is_boolean||1==t)},s.falsy=function(t){return t===r||null==t||t.$$is_boolean&&0==t},s.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=$),!t.$$is_module&&!t.$$is_class)throw new s.TypeError(t.toString()+" is not a class/module");return null!=(n=h(t,e))||null!=(n=y(t,e,r))?n:void 0}},s.const_get_qualified=function(t,e,r){var n,i,o,a=s.const_cache_version;if(null!=t){if("::"===t&&(t=$),!t.$$is_module&&!t.$$is_class)throw new s.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(f(t,"$$const_cache",Object.create(null)),i=t.$$const_cache),null==(o=i[e])||o[0]!==a?(null!=(n=h(t,e))||(n=m(t,e)),i[e]=[a,n]):n=o[1],null!=n?n:y(t,e,r)}},s.const_cache_version=1,s.const_get_relative=function(t,e,r){var n,i,o,a=t[0],l=s.const_cache_version;return null==(i=t.$$const_cache)&&(f(t,"$$const_cache",Object.create(null)),i=t.$$const_cache),null==(o=i[e])||o[0]!==l?(null!=(n=h(a,e))||null!=(n=function(t,e){var r,n,$;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(null!=($=t[r].$$const[e]))return $}(t,e))||null!=(n=m(a,e))||(n=function(t,e){if(null==t||t.$$is_module)return m($,e)}(a,e)),i[e]=[l,n]):n=o[1],null!=n?n:y(a,e,r)},s.const_set=function(t,e,n){return null!=t&&"::"!==t||(t=$),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==r||(n.$$name=e),null==n.$$base_module&&(n.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=n,t.$$=t.$$const,s.const_cache_version++,t===$&&(s[e]=n),f(t,e,n),n},s.constants=function(t,e){null==e&&(e=!0);var r,n,i,o,a=[t],l={};for(e&&(a=a.concat(s.ancestors(t))),e&&t.$$is_module&&(a=a.concat([s.Object]).concat(s.ancestors(s.Object))),n=0,i=a.length;n<i&&(r=a[n],t===$||r!=$);n++)for(o in r.$$const)l[o]=!0;return Object.keys(l)},s.const_remove=function(t,e){if(s.const_cache_version++,null!=t.$$const[e]){var n=t.$$const[e];return delete t.$$const[e],n}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],r;throw s.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},s.allocate_class=function(t,e){var r,n;return n=null!=e&&e.$$bridge?function(){var t=_.call(arguments),n=new(c.apply(e.$$constructor,[null].concat(t)));return u(n,r.$$prototype),n}:function(){},t&&f(n,"displayName","::"+t),f(r=n,"$$name",t),f(r,"$$constructor",n),f(r,"$$prototype",n.prototype),f(r,"$$const",{}),f(r,"$$is_class",!0),f(r,"$$is_a_module",!0),f(r,"$$super",e),f(r,"$$cvars",{}),f(r,"$$own_included_modules",[]),f(r,"$$own_prepended_modules",[]),f(r,"$$ancestors",[]),f(r,"$$ancestors_cache_version",null),f(r.$$prototype,"$$class",r),s.Class&&u(r,s.Class.prototype),null!=e&&(u(r.$$prototype,e.$$prototype),e.$$meta&&s.build_class_singleton_class(r)),r},s.klass=function(t,e,r){var n;null==t?t=$:t.$$is_class||t.$$is_module||(t=t.$$class),null==e||e.hasOwnProperty("$$is_class")||(n=e,e=$);var i=function(t,e){var r=h(t,e);if(r){if(!r.$$is_class)throw s.TypeError.$new(e+" is not a class");return r}}(t,r);return i?(e&&function(t,e){if(t.$$super!==e)throw s.TypeError.$new("superclass mismatch for class "+t.$$name)}(i,e),i):(null==e&&(e=$),i=s.allocate_class(r,e),s.const_set(t,r,i),e.$inherited&&e.$inherited(i),n&&s.bridge(n,i),i)},s.allocate_module=function(t){var e=function(){};t&&f(e,"displayName",t+".$$constructor");var r=e;return t&&f(e,"displayName",t+".constructor"),f(r,"$$name",t),f(r,"$$prototype",e.prototype),f(r,"$$const",{}),f(r,"$$is_module",!0),f(r,"$$is_a_module",!0),f(r,"$$cvars",{}),f(r,"$$iclasses",[]),f(r,"$$own_included_modules",[]),f(r,"$$own_prepended_modules",[]),f(r,"$$ancestors",[r]),f(r,"$$ancestors_cache_version",null),u(r,s.Module.prototype),r},s.module=function(t,e){var r;return null==t?t=$:t.$$is_class||t.$$is_module||(t=t.$$class),r=function(t,e){var r=h(t,e);if(null==r&&t===$&&(r=m($,e)),r&&!r.$$is_module&&r!==$)throw s.TypeError.$new(e+" is not a module");return r}(t,e),r||(r=s.allocate_module(e),s.const_set(t,e,r),r)},s.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.hasOwnProperty("$$is_class")?s.build_class_singleton_class(t):t.hasOwnProperty("$$is_module")?s.build_module_singletin_class(t):s.build_object_singleton_class(t)},s.build_class_singleton_class=function(t){var e,r;return t.$$meta?t.$$meta:(e=t===n?o:s.get_singleton_class(t.$$super),f(r=s.allocate_class(null,e,(function(){})),"$$is_singleton",!0),f(r,"$$singleton_of",t),f(t,"$$meta",r),u(t,r.$$prototype),f(t,"$$class",s.Class),r)},s.build_module_singletin_class=function(t){if(t.$$meta)return t.$$meta;var e=s.allocate_class(null,s.Module,(function(){}));return f(e,"$$is_singleton",!0),f(e,"$$singleton_of",t),f(t,"$$meta",e),u(t,e.$$prototype),f(t,"$$class",s.Module),e},s.build_object_singleton_class=function(t){var e=t.$$class,n=s.allocate_class(r,e,(function(){}));return f(n,"$$is_singleton",!0),f(n,"$$singleton_of",t),delete n.$$prototype.$$class,f(t,"$$meta",n),u(t,t.$$meta.$$prototype),n},s.is_method=function(t){return"$"===t[0]&&"$"!==t[1]},s.instance_methods=function(t){for(var e=[],r=[],n=s.ancestors(t),$=0,i=n.length;$<i;$++){var o=n[$].$$prototype;o.hasOwnProperty("$$dummy")&&(o=o.$$define_methods_on);for(var a=Object.getOwnPropertyNames(o),l=0,c=a.length;l<c;l++){var u=a[l];if(s.is_method(u)){var _=u.slice(1),d=o[u];d.$$stub&&-1===e.indexOf(_)&&e.push(_),d.$$stub||-1!==r.indexOf(_)||-1!==e.indexOf(_)||r.push(_)}}}return r},s.own_instance_methods=function(t){var e=[],r=t.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var n=Object.getOwnPropertyNames(r),$=0,i=n.length;$<i;$++){var o=n[$];if(s.is_method(o))if(!r[o].$$stub){var a=o.slice(1);e.push(a)}}return e},s.methods=function(t){return s.instance_methods(s.get_singleton_class(t))},s.own_methods=function(t){return s.own_instance_methods(s.get_singleton_class(t))},s.receiver_methods=function(t){var e=s.get_singleton_class(t),r=s.own_instance_methods(e),n=s.own_instance_methods(e.$$super);return r.concat(n)},s.class_variables=function(t){var e,r=s.ancestors(t),n={};for(e=r.length-1;e>=0;e--){var $=r[e];for(var i in $.$$cvars)n[i]=$.$$cvars[i]}return n},s.class_variable_set=function(t,e,r){var n,$=s.ancestors(t);for(n=$.length-2;n>=0;n--){var i=$[n];if(l.call(i.$$cvars,e))return i.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},s.append_features=function(t,e){var r=s.ancestors(t),n=[];if(-1!==r.indexOf(e))throw s.ArgumentError.$new("cyclic include detected");for(var $=0,i=r.length;$<i;$++){var o=v(r[$]);f(o,"$$included",!0),n.push(o)}var a,l,c=s.ancestors(e),_=x(n);if(-1===c.indexOf(t))a=e.$$prototype,l=Object.getPrototypeOf(e.$$prototype);else{for(var d=e.$$prototype,p=Object.getPrototypeOf(d);null!=p&&(!g(p)||p.$$module!==t);)d=p,p=Object.getPrototypeOf(p);for(var h=Object.getPrototypeOf(p);h.hasOwnProperty("$$iclass")&&!g(h);)h=Object.getPrototypeOf(h);a=d,l=h}u(a,_.first),u(_.last,l),e.$$own_included_modules=function(t){for(var e,r=[],n=Object.getPrototypeOf(t.$$prototype);n&&!n.hasOwnProperty("$$class");)(e=k(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),s.const_cache_version++},s.prepend_features=function(t,e){var r=s.ancestors(t),n=[];if(-1!==r.indexOf(e))throw s.ArgumentError.$new("cyclic prepend detected");for(var $=0,i=r.length;$<i;$++){var o=v(r[$]);f(o,"$$prepended",!0),n.push(o)}var a,l,c,_=x(n),d=e.$$prototype,p=Object.getPrototypeOf(d);if(d.hasOwnProperty("$$dummy")?a=d.$$define_methods_on:(a=b(e),function(t){for(var e=t.$$prototype,r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var $=r[n];s.is_method($)&&delete e[$]}}(e),f(d,"$$dummy",!0),f(d,"$$define_methods_on",a),u(d,a),u(a,p)),-1!==s.ancestors(e).indexOf(t))throw s.RuntimeError.$new("Prepending a module multiple times is not supported");for(l=d,c=Object.getPrototypeOf(d);null!=c&&!c.hasOwnProperty("$$root")&&c!==a&&c.hasOwnProperty("$$iclass");)c=Object.getPrototypeOf(c);u(l,_.first),u(_.last,c),e.$$own_prepended_modules=function(t){var e,r=[],n=Object.getPrototypeOf(t.$$prototype);if(t.$$prototype.hasOwnProperty("$$dummy"))for(;n&&n!==t.$$prototype.$$define_methods_on;)(e=k(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),s.const_cache_version++},s.bridge=function(t,e){if(t.hasOwnProperty("$$bridge"))throw s.ArgumentError.$new("already bridged");e.$$super||s.Object,e.$$prototype,f(t,"$$bridge",e),u(t.prototype,(e.$$super||s.Object).$$prototype),f(e,"$$prototype",t.prototype),f(e.$$prototype,"$$class",e),f(e,"$$constructor",t),f(e,"$$bridge",!0)},s.ancestors=function(t){if(!t)return[];if(t.$$ancestors_cache_version===s.const_cache_version)return t.$$ancestors;var e,r,n,$=[];for(e=0,r=function(t){return t.$$own_prepended_modules.concat([t]).concat(t.$$own_included_modules)}(t),n=r.length;e<n;e++)$.push(r[e]);if(t.$$super)for(e=0,n=(r=s.ancestors(t.$$super)).length;e<n;e++)$.push(r[e]);return t.$$ancestors_cache_version=s.const_cache_version,t.$$ancestors=$,$},s.included_modules=function(t){for(var e=[],r=null,n=Object.getPrototypeOf(t.$$prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(r=k(n))&&r.$$is_module&&n.$$iclass&&n.$$included&&e.push(r);return e},s.add_stubs=function(t){for(var e=s.BasicObject.$$prototype,r=0,n=t.length;r<n;r++){var $=t[r],i=e[$];(null==i||i.$$stub)&&s.add_stub_for(e,$)}},s.add_stub_for=function(t,e){f(t,e,s.stub_for(e))},s.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,$=r.length;n<$;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},s.ac=function(t,e,r,n){var $="";throw r.$$is_a_module?$+=r.$$name+".":$+=r.$$class.$$name+"#",$+=n,s.ArgumentError.$new("["+$+"] wrong number of arguments("+t+" for "+e+")")},s.block_ac=function(t,e,r){var n="`block in "+r+"'";throw s.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},s.find_super_dispatcher=function(t,e,r,n,$){for(var i,o,a="$"+e,l=(i=t.hasOwnProperty("$$meta")?s.ancestors(t.$$meta):s.ancestors(t.$$class)).indexOf(r.$$owner)+1;l<i.length;l++){var c=i[l].$$prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty(a)){var u=c[a];u.$$stub||(o=u);break}}if(!n&&null==o&&s.Kernel.$method_missing===t.$method_missing)throw s.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return o},s.find_iter_super_dispatcher=function(t,e,r,n,$){var i=e;if(!r)throw s.RuntimeError.$new("super called outside of method");if($&&r.$$define_meth)throw s.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(i=r.$$jsid),s.find_super_dispatcher(t,i,r,n)},s.ret=function(t){throw s.returner.$v=t,s.returner},s.brk=function(t,e){throw e.$v=t,e},s.new_brk=function(){return new Error("unexpected break")},s.yield1=function(t,e){if("function"!=typeof t)throw s.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=s.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},s.yieldX=function(t,e){if("function"!=typeof t)throw s.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,$=r.length;n<$;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},s.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var $=s.rescue(t,n);if($)return $}else{if(n===s.JS.Error)return n;if(n["$==="](t))return n}}return null},s.is_a=function(t,e){if(null!=e&&t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,$=s.ancestors(t.$$is_class?s.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=$.length;r<n;r++)if($[r]===e)return!0;return!1},s.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw s.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw s.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},s.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===r)return[t];if(e.$$is_array)return e;throw s.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},s.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===r)return[t];if(e.$$is_array)return e;throw s.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},s.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(d.call(t,t.length-1,1),e.$to_hash()):s.hash2([],{})},s.kwrestargs=function(t,e){var r=[],n={},$=null,i=t.$$smap;for($ in i)e[$]||(r.push($),n[$]=i[$]);return s.hash2(r,n)},s.send=function(t,e,r,n){var $="string"==typeof e?t["$"+e]:e;return null!=$?("function"==typeof n&&($.$$p=n),$.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},s.lambda=function(t){return t.$$is_lambda=!0,t},s.def=function(t,e,r){t===s.top?s.defn(s.Object,e,r):!t.$$eval&&t.$$is_a_module?s.defn(t,e,r):s.defs(t,e,r)},s.defn=function(t,e,r){r.displayName=e,r.$$owner=t;var n=t.$$prototype;if(n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on),f(n,e,r),t.$$is_module){t.$$module_function&&s.defs(t,e,r);for(var $=0,i=t.$$iclasses,o=i.length;$<o;$++){f(i[$],e,r)}}var a=t.$$singleton_of;!t.$method_added||t.$method_added.$$stub||a?a&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1))},s.defs=function(t,e,r){if(t.$$is_string||t.$$is_number)throw s.TypeError.$new("can't define singleton");s.defn(s.get_singleton_class(t),e,r)},s.rdef=function(t,e){if(!l.call(t.$$prototype,e))throw s.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$prototype[e],t.$$is_singleton?t.$$prototype.$singleton_method_removed&&!t.$$prototype.$singleton_method_removed.$$stub&&t.$$prototype.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},s.udef=function(t,e){if(!t.$$prototype[e]||t.$$prototype[e].$$stub)throw s.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());s.add_stub_for(t.$$prototype,e),t.$$is_singleton?t.$$prototype.$singleton_method_undefined&&!t.$$prototype.$singleton_method_undefined.$$stub&&t.$$prototype.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},s.alias=function(t,e,r){var n,$="$"+e,i="$"+r,o=t.$$prototype["$"+r];if(t.$$eval)return s.alias(s.get_singleton_class(t),e,r);if(!w(o)){for(var a=t.$$super;"function"!=typeof o&&a;)o=a[i],a=a.$$super;if(!w(o)&&t.$$is_module&&(o=s.Object.$$prototype[i]),!w(o))throw s.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return o.$$alias_of&&(o=o.$$alias_of),n=function(){var t,e,r,$=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=$&&(n.$$p=null),s.send(this,o,t,$)},n.displayName=e,n.$$arity=o.$$arity,n.$$parameters=o.$$parameters,n.$$source_location=o.$$source_location,n.$$alias_of=o,n.$$alias_name=e,s.defn(t,$,n),t},s.alias_native=function(t,e,r){var n="$"+e,$=t.$$prototype[r];if("function"!=typeof $||$.$$stub)throw s.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return s.defn(t,n,$),t},s.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},s.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,$=0,i=t.$$keys,o=t.$$smap,a=i.length;$<a;$++)(r=i[$]).$$is_string?n=o[r]:(n=r.value,r=r.key),s.hash_put(e,r,n)},s.hash_put=function(e,r,n){if(r.$$is_string)return l.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var $,i,o;if($=e.$$by_identity?s.id(r):r.$hash(),!l.call(e.$$map,$))return i={key:r,key_hash:$,value:n},e.$$keys.push(i),void(e.$$map[$]=i);for(i=e.$$map[$];i;){if(r===i.key||r["$eql?"](i.key)){o=t,i.value=n;break}o=i,i=i.next}o&&(i={key:r,key_hash:$,value:n},e.$$keys.push(i),o.next=i)},s.hash_get=function(t,e){if(e.$$is_string)return l.call(t.$$smap,e)?t.$$smap[e]:void 0;var r,n;if(r=t.$$by_identity?s.id(e):e.$hash(),l.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},s.hash_delete=function(t,e){var r,n,$=t.$$keys,i=$.length;if(e.$$is_string){if(!l.call(t.$$smap,e))return;for(r=0;r<i;r++)if($[r]===e){$.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var o=e.$hash();if(l.call(t.$$map,o))for(var a,s=t.$$map[o];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<i;r++)if($[r]===s){$.splice(r,1);break}return a&&s.next?a.next=s.next:a?delete a.next:s.next?t.$$map[o]=s.next:delete t.$$map[o],n}a=s,s=s.next}},s.hash_rehash=function(e){for(var r,n,$,i=0,o=e.$$keys.length;i<o;i++)if(!e.$$keys[i].$$is_string&&(r=e.$$keys[i].key.$hash())!==e.$$keys[i].key_hash){for(n=e.$$map[e.$$keys[i].key_hash],$=t;n;){if(n===e.$$keys[i]){$&&n.next?$.next=n.next:$?delete $.next:n.next?e.$$map[e.$$keys[i].key_hash]=n.next:delete e.$$map[e.$$keys[i].key_hash];break}$=n,n=n.next}if(e.$$keys[i].key_hash=r,l.call(e.$$map,r)){for(n=e.$$map[r],$=t;n;){if(n===e.$$keys[i]){$=t;break}$=n,n=n.next}$&&($.next=e.$$keys[i])}else e.$$map[r]=e.$$keys[i]}},s.hash=function(){var t,e,r,n,$,i,o=arguments.length;if(1===o&&arguments[0].$$is_hash)return arguments[0];if(e=new s.Hash,s.hash_init(e),1===o&&arguments[0].$$is_array){for(n=(t=arguments[0]).length,r=0;r<n;r++){if(2!==t[r].length)throw s.ArgumentError.$new("value not of length 2: "+t[r].$inspect());$=t[r][0],i=t[r][1],s.hash_put(e,$,i)}return e}if(1===o){for($ in t=arguments[0])l.call(t,$)&&(i=t[$],s.hash_put(e,$,i));return e}if(o%2!=0)throw s.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<o;r+=2)$=arguments[r],i=arguments[r+1],s.hash_put(e,$,i);return e},s.hash2=function(t,e){var r=new s.Hash;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},s.range=function(t,e,r){var n=new s.Range;return n.begin=t,n.end=e,n.excl=r,n},s.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},s.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},s.global_regexp=function(t){return t.global?t:(null==t.$$g?t.$$g=new RegExp(t.source,(t.multiline?"gm":"g")+(t.ignoreCase?"i":"")):t.$$g.lastIndex=null,t.$$g)},s.global_multiline_regexp=function(t){var e;if(t.multiline){if(t.global)return t;e=null!=t.$$g?t.$$g:t.$$g=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""))}else e=null!=t.$$gm?t.$$gm:t.$$gm=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));return e.lastIndex=null,e},s.modules={},s.loaded_features=["corelib/runtime"],s.current_dir=".",s.require_table={"corelib/runtime":!0},s.normalize=function(t){var e,r,n=[];"."!==s.current_dir&&(t=s.current_dir.replace(/\/*$/,"/")+t);for(var $=0,i=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;$<i;$++)""!==(r=e[$])&&(".."===r?n.pop():n.push(r));return n.join("/")},s.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++)n=s.normalize(t[e]),s.require_table[n]||(s.loaded_features.push(n),s.require_table[n]=!0)},s.load=function(t){t=s.normalize(t),s.loaded([t]);var r=s.modules[t];if(r)r(s);else{var n=s.config.missing_require_severity,$="cannot load such file -- "+t;if("error"===n)throw s.LoadError?s.LoadError.$new($):$;"warning"===n&&e.warn("WARNING: LoadError: "+$)}return!0},s.require=function(t){return t=s.normalize(t),!s.require_table[t]&&s.load(t)},s.encodings=Object.create(null),s.set_encoding=function(t,e){if("string"==typeof t)throw s.FrozenError.$new("can't modify frozen String");var r=s.encodings[e];return r===t.encoding||(t.encoding=r),t},s.enc=function(t,e){var r=new String(t);return s.set_encoding(r,e),r.internal_encoding=r.encoding,r},s.BasicObject=n=s.allocate_class("BasicObject",null,(function(){})),s.Object=$=s.allocate_class("Object",s.BasicObject,(function(){})),s.Module=i=s.allocate_class("Module",s.Object,(function(){})),s.Class=o=s.allocate_class("Class",s.Module,(function(){})),u(s.BasicObject,s.Class.$$prototype),u(s.Object,s.Class.$$prototype),u(s.Module,s.Class.$$prototype),u(s.Class,s.Class.$$prototype),n.$$const.BasicObject=n,s.const_set($,"BasicObject",n),s.const_set($,"Object",$),s.const_set($,"Module",i),s.const_set($,"Class",o),n.$$class=o,$.$$class=o,i.$$class=o,o.$$class=o,f($.$$prototype,"toString",(function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t})),f($.$$prototype,"$require",s.require),s.$$=$.$$,s.top=new $,s.top.$to_s=s.top.$inspect=function(){return"main"},s.NilClass=s.allocate_class("NilClass",s.Object,(function(){})),s.const_set($,"NilClass",s.NilClass),(r=s.nil=new s.NilClass).$$id=4,r.call=r.apply=function(){throw s.LocalJumpError.$new("no block given")},s.breaker=new Error("unexpected break (old)"),s.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,o){var a,s,l,c,u,_,d,p,f,h,m,y,g,v,b=$(e,"Opal"),x=[b].concat(o);t.defs(b,"$bridge",a=function(e,r){return t.bridge(e,r)},a.$$arity=2),t.defs(b,"$type_error",s=function(t,e,$,o){var a;return null==$&&($=r),null==o&&(o=r),i(i(a=$)?o:a)?n(x,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+$+" gives "+o.$class()+")"):n(x,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},s.$$arity=-3),t.defs(b,"$coerce_to",l=function(t,e,r){return i(e["$==="](t))?t:(i(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},l.$$arity=3),t.defs(b,"$coerce_to!",c=function(t,e,r){var n,$=this;return n=$.$coerce_to(t,e,r),i(e["$==="](n))||$.$raise($.$type_error(t,e,r,n)),n},c.$$arity=3),t.defs(b,"$coerce_to?",u=function(t,e,n){var $=this,o=r;return i(t["$respond_to?"](n))?(o=$.$coerce_to(t,e,n),i(o["$nil?"]())?r:(i(e["$==="](o))||$.$raise($.$type_error(t,e,n,o)),o)):r},u.$$arity=3),t.defs(b,"$try_convert",_=function(t,e,n){return i(e["$==="](t))?t:i(t["$respond_to?"](n))?t.$__send__(n):r},_.$$arity=3),t.defs(b,"$compare",d=function(t,e){var $;return $=t["$<=>"](e),i($===r)&&this.$raise(n(x,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),$},d.$$arity=2),t.defs(b,"$destructure",p=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},p.$$arity=1),t.defs(b,"$respond_to?",f=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},f.$$arity=-3),t.defs(b,"$inspect_obj",h=function(e){return t.inspect(e)},h.$$arity=1),t.defs(b,"$instance_variable_name!",m=function(t){return t=n(x,"Opal")["$coerce_to!"](t,n(x,"String"),"to_str"),i(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(n(x,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1),t.defs(b,"$class_variable_name!",y=function(t){return t=n(x,"Opal")["$coerce_to!"](t,n(x,"String"),"to_str"),i(t.length<3||"@@"!==t.slice(0,2))&&this.$raise(n(x,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},y.$$arity=1),t.defs(b,"$const_name!",g=function(t){return t=n(x,"Opal")["$coerce_to!"](t,n(x,"String"),"to_str"),i(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(n(x,"NameError"),"wrong constant name "+t),t},g.$$arity=1),t.defs(b,"$pristine",v=function(e,n){for(var $,i,o,a=($=t.slice.call(arguments,1,arguments.length)).length-1;a>=0;a--)i=$[a],(o=e.$$prototype["$"+i])&&!o.$$stub&&(o.$$pristine=!0);return r},v.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module"),$nesting=[self].concat($parent_nesting),$Module_allocate$1,$Module_initialize$2,$Module_$eq_eq_eq$3,$Module_$lt$4,$Module_$lt_eq$5,$Module_$gt$6,$Module_$gt_eq$7,$Module_$lt_eq_gt$8,$Module_alias_method$9,$Module_alias_native$10,$Module_ancestors$11,$Module_append_features$12,$Module_attr_accessor$13,$Module_attr_reader$14,$Module_attr_writer$15,$Module_autoload$16,$Module_class_variables$17,$Module_class_variable_get$18,$Module_class_variable_set$19,$Module_class_variable_defined$ques$20,$Module_remove_class_variable$21,$Module_constants$22,$Module_constants$23,$Module_nesting$24,$Module_const_defined$ques$25,$Module_const_get$26,$Module_const_missing$28,$Module_const_set$29,$Module_public_constant$30,$Module_define_method$31,$Module_remove_method$33,$Module_singleton_class$ques$34,$Module_include$35,$Module_included_modules$36,$Module_include$ques$37,$Module_instance_method$38,$Module_instance_methods$39,$Module_included$40,$Module_extended$41,$Module_extend_object$42,$Module_method_added$43,$Module_method_removed$44,$Module_method_undefined$45,$Module_module_eval$46,$Module_module_exec$48,$Module_method_defined$ques$49,$Module_module_function$50,$Module_name$51,$Module_prepend$52,$Module_prepend_features$53,$Module_prepended$54,$Module_remove_const$55,$Module_to_s$56,$Module_undef_method$57,$Module_instance_variables$58,$Module_dup$59,$Module_copy_class_variables$60,$Module_copy_constants$61;return Opal.defs(self,"$allocate",$Module_allocate$1=function(){var t=Opal.allocate_module(nil,(function(){}));return this!==Opal.Module&&Object.setPrototypeOf(t,this.$$prototype),t},$Module_allocate$1.$$arity=0),Opal.def(self,"$initialize",$Module_initialize$2=function(){var t=$Module_initialize$2.$$p,e=t||nil;return t&&($Module_initialize$2.$$p=null),t&&($Module_initialize$2.$$p=null),e!==nil?$send(this,"module_eval",[],e.$to_proc()):nil},$Module_initialize$2.$$arity=0),Opal.def(self,"$===",$Module_$eq_eq_eq$3=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},$Module_$eq_eq_eq$3.$$arity=1),Opal.def(self,"$<",$Module_$lt$4=function(t){var e,r,n,$=this;if($truthy($$($nesting,"Module")["$==="](t))||$.$raise($$($nesting,"TypeError"),"compared with non class/module"),$===t)return!1;for(r=0,n=(e=Opal.ancestors($)).length;r<n;r++)if(e[r]===t)return!0;for(r=0,n=(e=Opal.ancestors(t)).length;r<n;r++)if(e[r]===$)return!1;return nil},$Module_$lt$4.$$arity=1),Opal.def(self,"$<=",$Module_$lt_eq$5=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},$Module_$lt_eq$5.$$arity=1),Opal.def(self,"$>",$Module_$gt$6=function(t){return $truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},$Module_$gt$6.$$arity=1),Opal.def(self,"$>=",$Module_$gt_eq$7=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},$Module_$gt_eq$7.$$arity=1),Opal.def(self,"$<=>",$Module_$lt_eq_gt$8=function(t){var e=nil;return this===t?0:$truthy($$($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},$Module_$lt_eq_gt$8.$$arity=1),Opal.def(self,"$alias_method",$Module_alias_method$9=function(t,e){return Opal.alias(this,t,e),this},$Module_alias_method$9.$$arity=2),Opal.def(self,"$alias_native",$Module_alias_native$10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},$Module_alias_native$10.$$arity=-2),Opal.def(self,"$ancestors",$Module_ancestors$11=function(){return Opal.ancestors(this)},$Module_ancestors$11.$$arity=0),Opal.def(self,"$append_features",$Module_append_features$12=function(t){return Opal.append_features(this,t),this},$Module_append_features$12.$$arity=1),Opal.def(self,"$attr_accessor",$Module_attr_accessor$13=function(t){var e,r=this;return e=Opal.slice.call(arguments,0,arguments.length),$send(r,"attr_reader",Opal.to_a(e)),$send(r,"attr_writer",Opal.to_a(e))},$Module_attr_accessor$13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",$Module_attr_reader$14=function(t){var e,r=this;e=Opal.slice.call(arguments,0,arguments.length);for(var n=r.$$prototype,$=e.length-1;$>=0;$--){var i=e[$],o="$"+i,a=Opal.ivar(i),s=function(t){return function(){return null==this[t]?nil:this[t]}}(a);Opal.defineProperty(n,a,nil),s.$$parameters=[],s.$$arity=0,Opal.defn(r,o,s)}return nil},$Module_attr_reader$14.$$arity=-1),Opal.def(self,"$attr_writer",$Module_attr_writer$15=function(t){var e,r=this;e=Opal.slice.call(arguments,0,arguments.length);for(var n=r.$$prototype,$=e.length-1;$>=0;$--){var i=e[$],o="$"+i+"=",a=Opal.ivar(i),s=function(t){return function(e){return this[t]=e}}(a);s.$$parameters=[["req"]],s.$$arity=1,Opal.defineProperty(n,a,nil),Opal.defn(r,o,s)}return nil},$Module_attr_writer$15.$$arity=-1),Opal.def(self,"$autoload",$Module_autoload$16=function(t,e){var r=this;return null==r.$$autoload&&(r.$$autoload={}),Opal.const_cache_version++,r.$$autoload[t]=e,nil},$Module_autoload$16.$$arity=2),Opal.def(self,"$class_variables",$Module_class_variables$17=function(){return Object.keys(Opal.class_variables(this))},$Module_class_variables$17.$$arity=0),Opal.def(self,"$class_variable_get",$Module_class_variable_get$18=function(t){var e=this;t=$$($nesting,"Opal")["$class_variable_name!"](t);var r=Opal.class_variables(e)[t];return null==r&&e.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),r},$Module_class_variable_get$18.$$arity=1),Opal.def(self,"$class_variable_set",$Module_class_variable_set$19=function(t,e){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},$Module_class_variable_set$19.$$arity=2),Opal.def(self,"$class_variable_defined?",$Module_class_variable_defined$ques$20=function(t){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},$Module_class_variable_defined$ques$20.$$arity=1),Opal.def(self,"$remove_class_variable",$Module_remove_class_variable$21=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},$Module_remove_class_variable$21.$$arity=1),Opal.def(self,"$constants",$Module_constants$22=function(t){return null==t&&(t=!0),Opal.constants(this,t)},$Module_constants$22.$$arity=-1),Opal.defs(self,"$constants",$Module_constants$23=function(t){if(null==t){var e,r,n,$=(this.$$nesting||[]).concat(Opal.Object),i={};for(r=0,n=$.length;r<n;r++)for(e in $[r].$$const)i[e]=!0;return Object.keys(i)}return Opal.constants(this,t)},$Module_constants$23.$$arity=-1),Opal.defs(self,"$nesting",$Module_nesting$24=function(){return this.$$nesting||[]},$Module_nesting$24.$$arity=0),Opal.def(self,"$const_defined?",$Module_const_defined$ques$25=function(t,e){var r=this;null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var n,$,i=[r];for(e&&(i=i.concat(Opal.ancestors(r)),r.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),n=0,$=i.length;n<$;n++)if(null!=i[n].$$const[t])return!0;return!1},$Module_const_defined$ques$25.$$arity=-2),Opal.def(self,"$const_get",$Module_const_get$26=function(t,e){var r,n=this;return null==e&&(e=!0),0===(t=$$($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[n],((r=function(t,e){r.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},$Module_const_get$26.$$arity=-2),Opal.def(self,"$const_missing",$Module_const_missing$28=function(t){var e,r=this;if(r.$$autoload){var n=r.$$autoload[t];if(n)return r.$require(n),r.$const_get(t)}return e=r["$=="]($$($nesting,"Object"))?t:r+"::"+t,r.$raise($$($nesting,"NameError").$new("uninitialized constant "+e,t))},$Module_const_missing$28.$$arity=1),Opal.def(self,"$const_set",$Module_const_set$29=function(t,e){var r;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},$Module_const_set$29.$$arity=2),Opal.def(self,"$public_constant",$Module_public_constant$30=function(t){return nil},$Module_public_constant$30.$$arity=1),Opal.def(self,"$define_method",$Module_define_method$31=function(t,e){var r,n,$=$Module_define_method$31.$$p,i=$||nil,o=this,a=nil;$&&($Module_define_method$31.$$p=null),$&&($Module_define_method$31.$$p=null),$truthy(void 0===e&&i===nil)&&o.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),i=$truthy(r=i)?r:(a=e,$$($nesting,"Proc")["$==="](a)?e:$$($nesting,"Method")["$==="](a)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](a)?$lambda((n=function(t){var r,$=n.$$s||this,i=nil;return r=Opal.slice.call(arguments,0,arguments.length),i=e.$bind($),$send(i,"call",Opal.to_a(r))},n.$$s=o,n.$$arity=-1,n)):o.$raise($$($nesting,"TypeError"),"wrong argument type "+i.$class()+" (expected Proc/Method)"));var s="$"+t;return i.$$jsid=t,i.$$s=null,i.$$def=i,i.$$define_meth=!0,Opal.defn(o,s,i),t},$Module_define_method$31.$$arity=-2),Opal.def(self,"$remove_method",$Module_remove_method$33=function(t){for(var e,r=this,n=0,$=(e=Opal.slice.call(arguments,0,arguments.length)).length;n<$;n++)Opal.rdef(r,"$"+e[n]);return r},$Module_remove_method$33.$$arity=-1),Opal.def(self,"$singleton_class?",$Module_singleton_class$ques$34=function(){return!!this.$$is_singleton},$Module_singleton_class$ques$34.$$arity=0),Opal.def(self,"$include",$Module_include$35=function(t){for(var e,r=this,n=(e=Opal.slice.call(arguments,0,arguments.length)).length-1;n>=0;n--){var $=e[n];$.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$append_features(r),$.$included(r)}return r},$Module_include$35.$$arity=-1),Opal.def(self,"$included_modules",$Module_included_modules$36=function(){return Opal.included_modules(this)},$Module_included_modules$36.$$arity=0),Opal.def(self,"$include?",$Module_include$ques$37=function(t){var e=this;t.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,n,$,i=Opal.ancestors(e);for(r=0,n=i.length;r<n;r++)if(($=i[r])===t&&$!==e)return!0;return!1},$Module_include$ques$37.$$arity=1),Opal.def(self,"$instance_method",$Module_instance_method$38=function(t){var e=this,r=e.$$prototype["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},$Module_instance_method$38.$$arity=1),Opal.def(self,"$instance_methods",$Module_instance_methods$39=function(t){return null==t&&(t=!0),$truthy(t)?Opal.instance_methods(this):Opal.own_instance_methods(this)},$Module_instance_methods$39.$$arity=-1),Opal.def(self,"$included",$Module_included$40=function(t){return nil},$Module_included$40.$$arity=1),Opal.def(self,"$extended",$Module_extended$41=function(t){return nil},$Module_extended$41.$$arity=1),Opal.def(self,"$extend_object",$Module_extend_object$42=function(t){return nil},$Module_extend_object$42.$$arity=1),Opal.def(self,"$method_added",$Module_method_added$43=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_added$43.$$arity=-1),Opal.def(self,"$method_removed",$Module_method_removed$44=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_removed$44.$$arity=-1),Opal.def(self,"$method_undefined",$Module_method_undefined$45=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_undefined$45.$$arity=-1),Opal.def(self,"$module_eval",$Module_module_eval$46=function $$module_eval($a){var $iter=$Module_module_eval$46.$$p,block=$iter||nil,$post_args,args,$b,$$47,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($Module_module_eval$46.$$p=null),$iter&&($Module_module_eval$46.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],($$47=function(){var self=$$47.$$s||this;return function(self){return eval(compiled)}(self)},$$47.$$s=self,$$47.$$arity=0,$$47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},$Module_module_eval$46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",$Module_module_exec$48=function(t){var e,r=$Module_module_exec$48.$$p,n=r||nil,$=this;r&&($Module_module_exec$48.$$p=null),r&&($Module_module_exec$48.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),n===nil&&$.$raise($$($nesting,"LocalJumpError"),"no block given");var i,o=n.$$s;return n.$$s=null,i=n.apply($,e),n.$$s=o,i},$Module_module_exec$48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",$Module_method_defined$ques$49=function(t){var e=this.$$prototype["$"+t];return!!e&&!e.$$stub},$Module_method_defined$ques$49.$$arity=1),Opal.def(self,"$module_function",$Module_module_function$50=function(t){var e,r=this;if(0===(e=Opal.slice.call(arguments,0,arguments.length)).length)r.$$module_function=!0;else for(var n=0,$=e.length;n<$;n++){var i=e[n],o="$"+i,a=r.$$prototype[o];Opal.defs(r,o,a)}return r},$Module_module_function$50.$$arity=-1),Opal.def(self,"$name",$Module_name$51=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],r=t;r;){if(r.$$name===nil||null==r.$$name)return nil;if(e.unshift(r.$$name),(r=r.$$base_module)===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},$Module_name$51.$$arity=0),Opal.def(self,"$prepend",$Module_prepend$52=function(t){var e,r=this;0===(e=Opal.slice.call(arguments,0,arguments.length)).length&&r.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var n=e.length-1;n>=0;n--){var $=e[n];$.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$prepend_features(r),$.$prepended(r)}return r},$Module_prepend$52.$$arity=-1),Opal.def(self,"$prepend_features",$Module_prepend_features$53=function(t){var e=this;return e.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)"),Opal.prepend_features(e,t),e},$Module_prepend_features$53.$$arity=1),Opal.def(self,"$prepended",$Module_prepended$54=function(t){return nil},$Module_prepended$54.$$arity=1),Opal.def(self,"$remove_const",$Module_remove_const$55=function(t){return Opal.const_remove(this,t)},$Module_remove_const$55.$$arity=1),Opal.def(self,"$to_s",$Module_to_s$56=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},$Module_to_s$56.$$arity=0),Opal.def(self,"$undef_method",$Module_undef_method$57=function(t){for(var e,r=this,n=0,$=(e=Opal.slice.call(arguments,0,arguments.length)).length;n<$;n++)Opal.udef(r,"$"+e[n]);return r},$Module_undef_method$57.$$arity=-1),Opal.def(self,"$instance_variables",$Module_instance_variables$58=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var r=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!e["$include?"](n)&&r.push("@"+n);return r},$Module_instance_variables$58.$$arity=0),Opal.def(self,"$dup",$Module_dup$59=function(){var t=$Module_dup$59.$$p,e=this,r=nil,n=nil,$=nil,i=nil;for(t&&($Module_dup$59.$$p=null),$=0,i=arguments.length,n=new Array(i);$<i;$++)n[$]=arguments[$];return(r=$send(e,Opal.find_super_dispatcher(e,"dup",$Module_dup$59,!1),n,t)).$copy_class_variables(e),r.$copy_constants(e),r},$Module_dup$59.$$arity=0),Opal.def(self,"$copy_class_variables",$Module_copy_class_variables$60=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},$Module_copy_class_variables$60.$$arity=1),Opal.def(self,"$copy_constants",$Module_copy_constants$61=function(t){var e,r=t.$$const;for(e in r)Opal.const_set(this,e,r[e])},$Module_copy_constants$61.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,$=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),o=t.send;return t.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,a){var s,l,c,u,_,d,p,f=i(e,null,"Class"),h=[f].concat(a);return t.defs(f,"$new",s=function(e){var r=s.$$p,i=r||n;if(r&&(s.$$p=null),r&&(s.$$p=null),null==e&&(e=$(h,"Object")),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var a=t.allocate_class(n,e);return e.$inherited(a),i!==n&&o(a,"class_eval",[],i.$to_proc()),a},s.$$arity=-1),t.def(f,"$allocate",l=function(){var e=new this.$$constructor;return e.$$id=t.uid(),e},l.$$arity=0),t.def(f,"$inherited",c=function(t){return n},c.$$arity=1),t.def(f,"$initialize_dup",u=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},u.$$arity=1),t.def(f,"$new",_=function(e){var r,$=_.$$p,i=$||n,o=this;$&&(_.$$p=null),$&&(_.$$p=null),r=t.slice.call(arguments,0,arguments.length);var a=o.$allocate();return t.send(a,a.$initialize,r,i),a},_.$$arity=-1),t.def(f,"$superclass",d=function(){return this.$$super||n},d.$$arity=0),t.def(f,"$to_s",p=function(){var e=this;p.$$p&&(p.$$p=null);var r=e.$$singleton_of;return r&&r.$$is_a_module?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+t.id(r).$to_s(16)+">>":o(e,t.find_super_dispatcher(e,"to_s",p,!1),[],null)},p.$$arity=0),n&&"to_s"}(r[0],0,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"BasicObject"),$nesting=[self].concat($parent_nesting),$BasicObject_initialize$1,$BasicObject_$eq_eq$2,$BasicObject_eql$ques$3,$BasicObject___id__$4,$BasicObject___send__$5,$BasicObject_$excl$6,$BasicObject_$not_eq$7,$BasicObject_instance_eval$8,$BasicObject_instance_exec$10,$BasicObject_singleton_method_added$11,$BasicObject_singleton_method_removed$12,$BasicObject_singleton_method_undefined$13,$BasicObject_class$14,$BasicObject_method_missing$15;return Opal.def(self,"$initialize",$BasicObject_initialize$1=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_initialize$1.$$arity=-1),Opal.def(self,"$==",$BasicObject_$eq_eq$2=function(t){return this===t},$BasicObject_$eq_eq$2.$$arity=1),Opal.def(self,"$eql?",$BasicObject_eql$ques$3=function(t){return this["$=="](t)},$BasicObject_eql$ques$3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",$BasicObject___id__$4=function(){var t=this;return null!=t.$$id||Opal.defineProperty(t,"$$id",Opal.uid()),t.$$id},$BasicObject___id__$4.$$arity=0),Opal.def(self,"$__send__",$BasicObject___send__$5=function(t,e){var r,n=$BasicObject___send__$5.$$p,$=n||nil,i=this;n&&($BasicObject___send__$5.$$p=null),n&&($BasicObject___send__$5.$$p=null),r=Opal.slice.call(arguments,1,arguments.length);var o=i["$"+t];return o?($!==nil&&(o.$$p=$),o.apply(i,r)):($!==nil&&(i.$method_missing.$$p=$),i.$method_missing.apply(i,[t].concat(r)))},$BasicObject___send__$5.$$arity=-2),Opal.def(self,"$!",$BasicObject_$excl$6=function(){return!1},$BasicObject_$excl$6.$$arity=0),Opal.def(self,"$!=",$BasicObject_$not_eq$7=function(t){return this["$=="](t)["$!"]()},$BasicObject_$not_eq$7.$$arity=1),Opal.def(self,"$instance_eval",$BasicObject_instance_eval$8=function $$instance_eval($a){var $iter=$BasicObject_instance_eval$8.$$p,block=$iter||nil,$post_args,args,$b,$$9,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($BasicObject_instance_eval$8.$$p=null),$iter&&($BasicObject_instance_eval$8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],($$9=function(){var self=$$9.$$s||this;return function(self){return eval(compiled)}(self)},$$9.$$s=self,$$9.$$arity=0,$$9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},$BasicObject_instance_eval$8.$$arity=-1),Opal.def(self,"$instance_exec",$BasicObject_instance_exec$10=function(t){var e,r=$BasicObject_instance_exec$10.$$p,n=r||nil,$=this;r&&($BasicObject_instance_exec$10.$$p=null),r&&($BasicObject_instance_exec$10.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),$truthy(n)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var i,o=n.$$s;if(n.$$s=null,$.$$is_a_module){$.$$eval=!0;try{i=n.apply($,e)}finally{$.$$eval=!1}}else i=n.apply($,e);return n.$$s=o,i},$BasicObject_instance_exec$10.$$arity=-1),Opal.def(self,"$singleton_method_added",$BasicObject_singleton_method_added$11=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_added$11.$$arity=-1),Opal.def(self,"$singleton_method_removed",$BasicObject_singleton_method_removed$12=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_removed$12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",$BasicObject_singleton_method_undefined$13=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_undefined$13.$$arity=-1),Opal.def(self,"$class",$BasicObject_class$14=function(){return this.$$class},$BasicObject_class$14.$$arity=0),Opal.def(self,"$method_missing",$BasicObject_method_missing$15=function(t,e){var r=$BasicObject_method_missing$15.$$p,n=this,$=nil;return r&&($BasicObject_method_missing$15.$$p=null),r&&($BasicObject_method_missing$15.$$p=null),Opal.slice.call(arguments,1,arguments.length),$=$truthy(n.$inspect&&!n.$inspect.$$stub)?"undefined method `"+t+"' for "+n.$inspect()+":"+n.$$class:"undefined method `"+t+"' for "+n.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new($,t))},$BasicObject_method_missing$15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.truthy,s=t.gvars,l=t.hash2,c=t.send,u=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$__id__","$to_s","$instance_variable_name!","$respond_to?","$to_int","$coerce_to!","$Integer","$nil?","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$length","$[]","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(r,u){var _,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut,_t,dt,pt,ft,ht,mt,yt,gt,vt,bt,xt,kt=o(r,"Kernel"),wt=[kt].concat(u);t.def(kt,"$method_missing",_=function(e,r){var n,$=_.$$p,o=this;return $&&(_.$$p=null),$&&(_.$$p=null),n=t.slice.call(arguments,1,arguments.length),o.$raise(i(wt,"NoMethodError").$new("undefined method `"+e+"' for "+o.$inspect(),e,n))},_.$$arity=-2),t.def(kt,"$=~",d=function(t){return!1},d.$$arity=1),t.def(kt,"$!~",p=function(t){return this["$=~"](t)["$!"]()},p.$$arity=1),t.def(kt,"$===",f=function(t){var e;return a(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},f.$$arity=1),t.def(kt,"$<=>",h=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==n?0:n},h.$$arity=1),t.def(kt,"$method",m=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise(i(wt,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),i(wt,"Method").$new(e,r.$$owner||e.$class(),r,t)},m.$$arity=1),t.def(kt,"$methods",y=function(e){return null==e&&(e=!0),a(e)?t.methods(this):t.own_methods(this)},y.$$arity=-1),t.def(kt,"$public_methods",g=function(e){return null==e&&(e=!0),a(e)?t.methods(this):t.receiver_methods(this)},g.$$arity=-1),t.def(kt,"$Array",v=function(t){var e;return t===n?[]:t.$$is_array?t:(e=i(wt,"Opal")["$coerce_to?"](t,i(wt,"Array"),"to_ary"))!==n||(e=i(wt,"Opal")["$coerce_to?"](t,i(wt,"Array"),"to_a"))!==n?e:[t]},v.$$arity=1),t.def(kt,"$at_exit",b=function(){var t,e=b.$$p,r=e||n;return null==s.__at_exit__&&(s.__at_exit__=n),e&&(b.$$p=null),e&&(b.$$p=null),s.__at_exit__=a(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](r)},b.$$arity=0),t.def(kt,"$caller",x=function(e){return t.slice.call(arguments,0,arguments.length),[]},x.$$arity=-1),t.def(kt,"$class",k=function(){return this.$$class},k.$$arity=0),t.def(kt,"$copy_instance_variables",w=function(t){var e,r,n,$=Object.keys(t);for(e=0,r=$.length;e<r;e++)"$"!==(n=$[e]).charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},w.$$arity=1),t.def(kt,"$copy_singleton_methods",E=function(e){var r,n,$,i;if(e.hasOwnProperty("$$meta")){var o=t.get_singleton_class(e),a=t.get_singleton_class(this);for(r=0,i=($=Object.getOwnPropertyNames(o.$$prototype)).length;r<i;r++)n=$[r],t.is_method(n)&&(a.$$prototype[n]=o.$$prototype[n]);a.$$const=Object.assign({},o.$$const),Object.setPrototypeOf(a.$$prototype,Object.getPrototypeOf(o.$$prototype))}for(r=0,i=($=Object.getOwnPropertyNames(e)).length;r<i;r++)"$"===(n=$[r]).charAt(0)&&"$"!==n.charAt(1)&&e.hasOwnProperty(n)&&(this[n]=e[n])},E.$$arity=1),t.def(kt,"$clone",A=function(e){var r=this,$=n;if(null==e)e=l([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,($=r.$class().$allocate()).$copy_instance_variables(r),$.$copy_singleton_methods(r),$.$initialize_clone(r),$},A.$$arity=-1),t.def(kt,"$initialize_clone",O=function(t){return this.$initialize_copy(t)},O.$$arity=1),t.def(kt,"$define_singleton_method",S=function(t,e){var r=S.$$p,$=r||n;return r&&(S.$$p=null),r&&(S.$$p=null),c(this.$singleton_class(),"define_method",[t,e],$.$to_proc())},S.$$arity=-2),t.def(kt,"$dup",R=function(){var t=this,e=n;return(e=t.$class().$allocate()).$copy_instance_variables(t),e.$initialize_dup(t),e},R.$$arity=0),t.def(kt,"$initialize_dup",C=function(t){return this.$initialize_copy(t)},C.$$arity=1),t.def(kt,"$enum_for",I=function(e,r){var $,o,a,s=I.$$p,l=s||n,u=this;return s&&(I.$$p=null),s&&(I.$$p=null),($=t.slice.call(arguments,0,arguments.length)).length>0&&(o=$[0],$.splice(0,1)),null==o&&(o="each"),a=$,c(i(wt,"Enumerator"),"for",[u,o].concat(t.to_a(a)),l.$to_proc())},I.$$arity=-1),t.alias(kt,"to_enum","enum_for"),t.def(kt,"$equal?",T=function(t){return this===t},T.$$arity=1),t.def(kt,"$exit",L=function(e){var r;for(null==s.__at_exit__&&(s.__at_exit__=n),null==e&&(e=!0),s.__at_exit__=a(r=s.__at_exit__)?r:[];!a(s.__at_exit__["$empty?"]());)s.__at_exit__.$pop().$call();return e=e.$$is_boolean?e?0:1:i(wt,"Opal").$coerce_to(e,i(wt,"Integer"),"to_int"),t.exit(e),n},L.$$arity=-1),t.def(kt,"$extend",N=function(e){var r,n=this;r=t.slice.call(arguments,0,arguments.length);for(var $=n.$singleton_class(),o=r.length-1;o>=0;o--){var a=r[o];a.$$is_module||n.$raise(i(wt,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)"),a.$append_features($),a.$extend_object(n),a.$extended(n)}return n},N.$$arity=-1),t.def(kt,"$hash",F=function(){return this.$__id__()},F.$$arity=0),t.def(kt,"$initialize_copy",D=function(t){return n},D.$$arity=1),t.def(kt,"$inspect",z=function(){return this.$to_s()},z.$$arity=0),t.def(kt,"$instance_of?",B=function(t){return t.$$is_class||t.$$is_module||this.$raise(i(wt,"TypeError"),"class or module required"),this.$$class===t},B.$$arity=1),t.def(kt,"$instance_variable_defined?",M=function(e){return e=i(wt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},M.$$arity=1),t.def(kt,"$instance_variable_get",j=function(e){e=i(wt,"Opal")["$instance_variable_name!"](e);var r=this[t.ivar(e.substr(1))];return null==r?n:r},j.$$arity=1),t.def(kt,"$instance_variable_set",q=function(e,r){return e=i(wt,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=r},q.$$arity=2),t.def(kt,"$remove_instance_variable",P=function(e){var r=this;e=i(wt,"Opal")["$instance_variable_name!"](e);var n,$=t.ivar(e.substr(1));return r.hasOwnProperty($)?(n=r[$],delete r[$],n):r.$raise(i(wt,"NameError"),"instance variable "+e+" not defined")},P.$$arity=1),t.def(kt,"$instance_variables",U=function(){var t,e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,e.push("@"+t));return e},U.$$arity=0),t.def(kt,"$Integer",H=function(t,e){var r,$,o,a=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(1===(e=i(wt,"Opal").$coerce_to(e,i(wt,"Integer"),"to_int"))||e<0||e>36)&&a.$raise(i(wt,"ArgumentError"),"invalid radix "+e),$=($=($=t.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,(function(r,n,$){switch($){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}a.$raise(i(wt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')})),o="0-"+((e=0===e?10:e)<=10?e-1:"9a-"+String.fromCharCode(e-11+97)),new RegExp("^\\s*[+-]?["+o+"]+\\s*$").test($)||a.$raise(i(wt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt($,e),isNaN(r)&&a.$raise(i(wt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&a.$raise(i(wt,"ArgumentError"),"base specified for non string value"),t===n&&a.$raise(i(wt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-1/0||isNaN(t))&&a.$raise(i(wt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int())!==n?r:i(wt,"Opal")["$coerce_to!"](t,i(wt,"Integer"),"to_i"))},H.$$arity=-2),t.def(kt,"$Float",Y=function(t){var e,r=this;return t===n&&r.$raise(i(wt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?r.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||r.$raise(i(wt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):i(wt,"Opal")["$coerce_to!"](t,i(wt,"Float"),"to_f")},Y.$$arity=1),t.def(kt,"$Hash",G=function(t){var e;return a(a(e=t["$nil?"]())?e:t["$=="]([]))?l([],{}):a(i(wt,"Hash")["$==="](t))?t:i(wt,"Opal")["$coerce_to!"](t,i(wt,"Hash"),"to_hash")},G.$$arity=1),t.def(kt,"$is_a?",W=function(e){return e.$$is_class||e.$$is_module||this.$raise(i(wt,"TypeError"),"class or module required"),t.is_a(this,e)},W.$$arity=1),t.def(kt,"$itself",X=function(){return this},X.$$arity=0),t.alias(kt,"kind_of?","is_a?"),t.def(kt,"$lambda",K=function(){var e=K.$$p,r=e||n;return e&&(K.$$p=null),e&&(K.$$p=null),t.lambda(r)},K.$$arity=0),t.def(kt,"$load",V=function(e){return e=i(wt,"Opal")["$coerce_to!"](e,i(wt,"String"),"to_str"),t.load(e)},V.$$arity=1),t.def(kt,"$loop",J=function(){var e,r=J.$$p,o=r||n,s=this,l=n;if(r&&(J.$$p=null),o===n)return c(s,"enum_for",["loop"],((e=function(){return e.$$s,$(i(wt,"Float"),"INFINITY")}).$$s=s,e.$$arity=0,e));for(;a(!0);)try{t.yieldX(o,[])}catch(e){if(!t.rescue(e,[i(wt,"StopIteration")]))throw e;l=e;try{return l.$result()}finally{t.pop_exception()}}return s},J.$$arity=0),t.def(kt,"$nil?",Z=function(){return!1},Z.$$arity=0),t.alias(kt,"object_id","__id__"),t.def(kt,"$printf",Q=function(e){var r,$,i=this;return r=t.slice.call(arguments,0,arguments.length),a(($=r)["$any?"]())&&i.$print(c(i,"format",t.to_a($))),n},Q.$$arity=-1),t.def(kt,"$proc",tt=function(){var t=tt.$$p,e=t||n;return t&&(tt.$$p=null),t&&(tt.$$p=null),a(e)||this.$raise(i(wt,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},tt.$$arity=0),t.def(kt,"$puts",et=function(e){var r;return null==s.stdout&&(s.stdout=n),r=t.slice.call(arguments,0,arguments.length),c(s.stdout,"puts",t.to_a(r))},et.$$arity=-1),t.def(kt,"$p",rt=function(r){var $,i,o,l=this;return $=t.slice.call(arguments,0,arguments.length),c(i=$,"each",[],((o=function(t){return o.$$s,null==s.stdout&&(s.stdout=n),null==t&&(t=n),s.stdout.$puts(t.$inspect())}).$$s=l,o.$$arity=1,o)),a(e(i.$length(),1))?i["$[]"](0):i},rt.$$arity=-1),t.def(kt,"$print",nt=function(e){var r;return null==s.stdout&&(s.stdout=n),r=t.slice.call(arguments,0,arguments.length),c(s.stdout,"print",t.to_a(r))},nt.$$arity=-1),t.def(kt,"$warn",$t=function(e){var r,$;return null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n),r=t.slice.call(arguments,0,arguments.length),a(a($=s.VERBOSE["$nil?"]())?$:r["$empty?"]())?n:c(s.stderr,"puts",t.to_a(r))},$t.$$arity=-1),t.def(kt,"$raise",it=function(e,r,$){if(null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==$&&($=n),null==e&&s["!"]!==n)throw s["!"];throw null==e?e=i(wt,"RuntimeError").$new():e.$$is_string?e=i(wt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"](i(wt,"Exception"))||(e=i(wt,"TypeError").$new("exception class/object expected")),s["!"]!==n&&t.exceptions.push(s["!"]),s["!"]=e,e},it.$$arity=-1),t.alias(kt,"fail","raise"),t.def(kt,"$rand",ot=function(t){return void 0===t?$(i(wt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),$(i(wt,"Random"),"DEFAULT").$rand(t))},ot.$$arity=-1),t.def(kt,"$respond_to?",at=function(t,e){if(null==e&&(e=!1),a(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},at.$$arity=-2),t.def(kt,"$respond_to_missing?",st=function(t,e){return null==e&&(e=!1),!1},st.$$arity=-2),t.def(kt,"$require",lt=function(e){return e=i(wt,"Opal")["$coerce_to!"](e,i(wt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.def(kt,"$require_relative",ct=function(e){return i(wt,"Opal")["$try_convert!"](e,i(wt,"String"),"to_str"),e=i(wt,"File").$expand_path(i(wt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.def(kt,"$require_tree",ut=function(e){var r=[];for(var n in e=i(wt,"File").$expand_path(e),"."===(e=t.normalize(e))&&(e=""),t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ut.$$arity=1),t.alias(kt,"send","__send__"),t.alias(kt,"public_send","__send__"),t.def(kt,"$singleton_class",_t=function(){return t.get_singleton_class(this)},_t.$$arity=0),t.def(kt,"$sleep",dt=function(e){var r=this;null==e&&(e=n),e===n&&r.$raise(i(wt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||r.$raise(i(wt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&r.$raise(i(wt,"ArgumentError"),"time interval must be positive");for(var $=t.global.performance?function(){return performance.now()}:function(){return new Date},o=$();$()-o<=1e3*e;);return e},dt.$$arity=-1),t.def(kt,"$srand",pt=function(t){return null==t&&(t=i(wt,"Random").$new_seed()),i(wt,"Random").$srand(t)},pt.$$arity=-1),t.def(kt,"$String",ft=function(t){var e;return a(e=i(wt,"Opal")["$coerce_to?"](t,i(wt,"String"),"to_str"))?e:i(wt,"Opal")["$coerce_to!"](t,i(wt,"String"),"to_s")},ft.$$arity=1),t.def(kt,"$tap",ht=function(){var e=ht.$$p,r=e||n;return e&&(ht.$$p=null),e&&(ht.$$p=null),t.yield1(r,this),this},ht.$$arity=0),t.def(kt,"$to_proc",mt=function(){return this},mt.$$arity=0),t.def(kt,"$to_s",yt=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},yt.$$arity=0),t.def(kt,"$catch",gt=function(e){var r=gt.$$p,$=r||n,o=n;r&&(gt.$$p=null);try{return t.yieldX($,[])}catch(r){if(!t.rescue(r,[i(wt,"UncaughtThrowError")]))throw r;o=r;try{return o.$sym()["$=="](e)?o.$arg():this.$raise()}finally{t.pop_exception()}}},gt.$$arity=1),t.def(kt,"$throw",vt=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.$raise(i(wt,"UncaughtThrowError"),r)},vt.$$arity=-1),t.def(kt,"$open",bt=function(e){var r,$=bt.$$p,o=$||n;return $&&(bt.$$p=null),$&&(bt.$$p=null),r=t.slice.call(arguments,0,arguments.length),c(i(wt,"File"),"open",t.to_a(r),o.$to_proc())},bt.$$arity=-1),t.def(kt,"$yield_self",xt=function(){var e,r=xt.$$p,$=r||n,i=this;return r&&(xt.$$p=null),$===n?c(i,"enum_for",["yield_self"],((e=function(){return e.$$s,1}).$$s=i,e.$$arity=0,e)):t.yield1($,i)},xt.$$arity=0)}(r[0],r),function(t,e,r){var n=u(t,null,"Object"),$=[n].concat(r);return n.$include(i($,"Kernel"))}(r[0],0,r)},Opal.modules["corelib/error"]=function(t){t.top;var e,r,n,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.send,l=t.truthy,c=t.module,u=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,r,n){var $,c,u,_,d,p,f,h,m,y,g=a(e,r,"Exception"),v=[g].concat(n);g.$$prototype.message=i,t.defs(g,"$new",$=function(e){var r,n=this,$=(r=t.slice.call(arguments,0,arguments.length)).length>0?r[0]:i,o=new n.$$constructor($);return o.name=n.$$name,o.message=$,t.send(o,o.$initialize,r),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(o,y),o},$.$$arity=-1),y=g.$new,t.defs(g,"$exception",c=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),s(n,"new",t.to_a(r))},c.$$arity=-1),t.def(g,"$initialize",u=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.message=r.length>0?r[0]:i},u.$$arity=-1),t.def(g,"$backtrace",_=function(){var t=this;if(t.backtrace)return t.backtrace;var e=t.stack;return"string"==typeof e?e.split("\n").slice(0,15):e?e.slice(0,15):[]},_.$$arity=0),t.def(g,"$exception",d=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var r=e.$clone();return r.message=t,r},d.$$arity=-1),t.def(g,"$message",p=function(){return this.$to_s()},p.$$arity=0),t.def(g,"$inspect",f=function(){var t=this,e=i;return e=t.$to_s(),l(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},f.$$arity=0),t.def(g,"$set_backtrace",h=function(t){var e,r,n=this,$=!0;if(t===i)n.backtrace=i;else if(t.$$is_string)n.backtrace=[t];else{if(t.$$is_array){for(e=0,r=t.length;e<r;e++)if(!t[e].$$is_string){$=!1;break}}else $=!1;!1===$&&n.$raise(o(v,"TypeError"),"backtrace must be Array of String"),n.backtrace=t}return t},h.$$arity=1),t.def(g,"$to_s",m=function(){var t,e,r=this;return l(t=l(e=r.message)?r.message.$to_s():e)?t:r.$class().$to_s()},m.$$arity=0)}($[0],Error,$),e=$[0],r=o($,"Exception"),n=$,[a(e,r,"ScriptError")].concat(n),function(t,e,r){[a(t,e,"SyntaxError")].concat(r)}($[0],o($,"ScriptError"),$),function(t,e,r){[a(t,e,"LoadError")].concat(r)}($[0],o($,"ScriptError"),$),function(t,e,r){[a(t,e,"NotImplementedError")].concat(r)}($[0],o($,"ScriptError"),$),function(t,e,r){[a(t,e,"SystemExit")].concat(r)}($[0],o($,"Exception"),$),function(t,e,r){[a(t,e,"NoMemoryError")].concat(r)}($[0],o($,"Exception"),$),function(t,e,r){[a(t,e,"SignalException")].concat(r)}($[0],o($,"Exception"),$),function(t,e,r){[a(t,e,"Interrupt")].concat(r)}($[0],o($,"Exception"),$),function(t,e,r){[a(t,e,"SecurityError")].concat(r)}($[0],o($,"Exception"),$),function(t,e,r){[a(t,e,"StandardError")].concat(r)}($[0],o($,"Exception"),$),function(t,e,r){[a(t,e,"EncodingError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"ZeroDivisionError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"NameError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"NoMethodError")].concat(r)}($[0],o($,"NameError"),$),function(t,e,r){[a(t,e,"RuntimeError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"FrozenError")].concat(r)}($[0],o($,"RuntimeError"),$),function(t,e,r){[a(t,e,"LocalJumpError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"TypeError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"ArgumentError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"IndexError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"StopIteration")].concat(r)}($[0],o($,"IndexError"),$),function(t,e,r){[a(t,e,"KeyError")].concat(r)}($[0],o($,"IndexError"),$),function(t,e,r){[a(t,e,"RangeError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"FloatDomainError")].concat(r)}($[0],o($,"RangeError"),$),function(t,e,r){[a(t,e,"IOError")].concat(r)}($[0],o($,"StandardError"),$),function(t,e,r){[a(t,e,"SystemCallError")].concat(r)}($[0],o($,"StandardError"),$),function(e,r){var n=[c(e,"Errno")].concat(r);!function(e,r,n){var $,o=a(e,r,"EINVAL");[o].concat(n);t.defs(o,"$new",$=function(e){var r,n,o=$.$$p,a=this,c=i;return o&&($.$$p=null),null==e&&(e=i),c="Invalid argument",l(e)&&(n=" - "+e,c="number"==typeof(r=c)&&"number"==typeof n?r+n:r["$+"](n)),s(a,t.find_super_dispatcher(a,"new",$,!1,a.$$class.$$prototype),[c],null)},$.$$arity=-1)}(n[0],o(n,"SystemCallError"),n)}($[0],$),function(e,r,n){var $,o=a(e,r,"UncaughtThrowError");[o].concat(n);o.$$prototype.sym=i,o.$attr_reader("sym","arg"),t.def(o,"$initialize",$=function(e){var r,n,i=this;return $.$$p&&($.$$p=null),i.sym=e["$[]"](0),l((r=e.$length(),n=1,"number"==typeof r&&"number"==typeof n?r>n:r["$>"](n)))&&(i.arg=e["$[]"](1)),s(i,t.find_super_dispatcher(i,"initialize",$,!1),["uncaught throw "+i.sym.$inspect()],null)},$.$$arity=1)}($[0],o($,"ArgumentError"),$),function(e,r,n){var $,o=a(e,null,"NameError");[o].concat(n);o.$attr_reader("name"),t.def(o,"$initialize",$=function(e,r){var n=this;return $.$$p&&($.$$p=null),null==r&&(r=i),s(n,t.find_super_dispatcher(n,"initialize",$,!1),[e],null),n.name=r},$.$$arity=-2)}($[0],0,$),function(e,r,n){var $,o=a(e,null,"NoMethodError");[o].concat(n);o.$attr_reader("args"),t.def(o,"$initialize",$=function(e,r,n){var o=this;return $.$$p&&($.$$p=null),null==r&&(r=i),null==n&&(n=[]),s(o,t.find_super_dispatcher(o,"initialize",$,!1),[e,r],null),o.args=n},$.$$arity=-2)}($[0],0,$),function(t,e,r){var n=a(t,null,"StopIteration");[n].concat(r),n.$attr_reader("result")}($[0],0,$),function(e,r,n){var $,c,_,d=a(e,null,"KeyError"),p=[d].concat(n);d.$$prototype.receiver=d.$$prototype.key=i,t.def(d,"$initialize",$=function(e,r){var n,o,a=this;if($.$$p&&($.$$p=null),null==r)r=u([],{});else if(!r.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(n=r.$$smap.receiver)&&(n=i),null==(o=r.$$smap.key)&&(o=i),s(a,t.find_super_dispatcher(a,"initialize",$,!1),[e],null),a.receiver=n,a.key=o},$.$$arity=-2),t.def(d,"$receiver",c=function(){var t;return l(t=this.receiver)?t:this.$raise(o(p,"ArgumentError"),"no receiver is available")},c.$$arity=0),t.def(d,"$key",_=function(){var t;return l(t=this.key)?t:this.$raise(o(p,"ArgumentError"),"no key is available")},_.$$arity=0)}($[0],0,$),function(t,e){var r=[c(t,"JS")].concat(e);!function(t,e,r){[a(t,null,"Error")].concat(r)}(r[0],0,r)}($[0],$)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.1"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-12-25"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var r=[],n=t.nil,$=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),o=t.hash2,a=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(r,s,l){var c,u,_,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S=i(r,null,"NilClass"),R=[S].concat(l);S.$$prototype.$$meta=S,function(e,r){var n,i=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise($(i,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(S),R),t.def(S,"$!",c=function(){return!0},c.$$arity=0),t.def(S,"$&",u=function(t){return!1},u.$$arity=1),t.def(S,"$|",_=function(t){return!1!==t&&t!==n},_.$$arity=1),t.def(S,"$^",d=function(t){return!1!==t&&t!==n},d.$$arity=1),t.def(S,"$==",p=function(t){return t===n},p.$$arity=1),t.def(S,"$dup",f=function(){return n},f.$$arity=0),t.def(S,"$clone",h=function(e){if(null==e)e=o([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,n},h.$$arity=-1),t.def(S,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(S,"$nil?",y=function(){return!0},y.$$arity=0),t.def(S,"$singleton_class",g=function(){return $(R,"NilClass")},g.$$arity=0),t.def(S,"$to_a",v=function(){return[]},v.$$arity=0),t.def(S,"$to_h",b=function(){return t.hash()},b.$$arity=0),t.def(S,"$to_i",x=function(){return 0},x.$$arity=0),t.alias(S,"to_f","to_i"),t.def(S,"$to_s",k=function(){return""},k.$$arity=0),t.def(S,"$to_c",w=function(){return $(R,"Complex").$new(0,0)},w.$$arity=0),t.def(S,"$rationalize",E=function(r){var n,i=this;return n=t.slice.call(arguments,0,arguments.length),a(e(n.$length(),1))&&i.$raise($(R,"ArgumentError")),i.$Rational(0,1)},E.$$arity=-1),t.def(S,"$to_r",A=function(){return this.$Rational(0,1)},A.$$arity=0),t.def(S,"$instance_variables",O=function(){return[]},O.$$arity=0)}(r[0],0,r),t.const_set(r[0],"NIL",n)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),i=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,o,a){var s,l,c,u,_,d,p,f,h,m,y=$(e,o,"Boolean"),g=[y].concat(a);t.defineProperty(y.$$prototype,"$$is_boolean",!0),t.defineProperty(y.$$prototype,"$$meta",y),function(e,r){var $,i=[e].concat(r);t.def(e,"$allocate",$=function(){return this.$raise(n(i,"TypeError"),"allocator undefined for "+this.$name())},$.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(y),g),t.def(y,"$__id__",s=function(){return this.valueOf()?2:0},s.$$arity=0),t.alias(y,"object_id","__id__"),t.def(y,"$!",l=function(){return 1!=this},l.$$arity=0),t.def(y,"$&",c=function(t){return 1==this&&(!1!==t&&t!==r)},c.$$arity=1),t.def(y,"$|",u=function(t){return 1==this||!1!==t&&t!==r},u.$$arity=1),t.def(y,"$^",_=function(t){return 1==this?!1===t||t===r:!1!==t&&t!==r},_.$$arity=1),t.def(y,"$==",d=function(t){return 1==this===t.valueOf()},d.$$arity=1),t.alias(y,"equal?","=="),t.alias(y,"eql?","=="),t.def(y,"$singleton_class",p=function(){return n(g,"Boolean")},p.$$arity=0),t.def(y,"$to_s",f=function(){return 1==this?"true":"false"},f.$$arity=0),t.def(y,"$dup",h=function(){return this},h.$$arity=0),t.def(y,"$clone",m=function(e){if(null==e)e=i([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},m.$$arity=-1)}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],$=t.nil,i=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var l,c,u,_,d,p,f,h,m=o(n,"Comparable"),y=[m].concat(s);t.defs(m,"$normalize",l=function(t){return a(i(y,"Integer")["$==="](t))?t:a(e(t,0))?1:a(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=$;try{return!!a(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!a(n=r["$<=>"](e))&&0==i(y,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[i(y,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",u=function(t){var e,r=this;return a(e=r["$<=>"](t))||r.$raise(i(y,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),i(y,"Comparable").$normalize(e)>0},u.$$arity=1),t.def(m,"$>=",_=function(t){var e,r=this;return a(e=r["$<=>"](t))||r.$raise(i(y,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),i(y,"Comparable").$normalize(e)>=0},_.$$arity=1),t.def(m,"$<",d=function(t){var e,r=this;return a(e=r["$<=>"](t))||r.$raise(i(y,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),i(y,"Comparable").$normalize(e)<0},d.$$arity=1),t.def(m,"$<=",p=function(t){var e,r=this;return a(e=r["$<=>"](t))||r.$raise(i(y,"ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),i(y,"Comparable").$normalize(e)<=0},p.$$arity=1),t.def(m,"$between?",f=function(t,n){return!r(this,t)&&!e(this,n)},f.$$arity=2),t.def(m,"$clamp",h=function(t,n){var $,o=this;return $=t["$<=>"](n),a($)||o.$raise(i(y,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),a(e(i(y,"Comparable").$normalize($),0))&&o.$raise(i(y,"ArgumentError"),"min argument must be smaller than max argument"),a(r(i(y,"Comparable").$normalize(o["$<=>"](t)),0))?t:a(e(i(y,"Comparable").$normalize(o["$<=>"](n)),0))?n:o},h.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){t.top;var e,r,n,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.send,l=t.truthy,c=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),e=$[0],r=o($,"StandardError"),n=$,[a(e,r,"RegexpError")].concat(n),function(e,r,n){var $,u,_,d,p,f,h,m,y,g,v=a(e,r,"Regexp"),b=[v].concat(n);t.const_set(b[0],"IGNORECASE",1),t.const_set(b[0],"EXTENDED",2),t.const_set(b[0],"MULTILINE",4),t.defineProperty(v.$$prototype,"$$is_regexp",!0),function(e,r){var n,$,a,u,_,d=[e].concat(r);t.def(e,"$allocate",n=function(){var e=n.$$p,r=this,$=i,o=i,a=i,l=i;for(e&&(n.$$p=null),a=0,l=arguments.length,o=new Array(l);a<l;a++)o[a]=arguments[a];return($=s(r,t.find_super_dispatcher(r,"allocate",n,!1),o,e)).uninitialized=!0,$},n.$$arity=0),t.def(e,"$escape",$=function(e){return t.escape_regexp(e)},$.$$arity=1),t.def(e,"$last_match",a=function(t){return null==c["~"]&&(c["~"]=i),null==t&&(t=i),l(t["$nil?"]())?c["~"]:c["~"]["$[]"](t)},a.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",u=function(e){var r,n,$,i,a,s,l=this;if(0==(r=t.slice.call(arguments,0,arguments.length)).length)return/(?!)/;if(1==r.length&&r[0].$$is_regexp)return r[0];n=r[0].$$is_array,r.length>1&&n&&l.$raise(o(d,"TypeError"),"no implicit conversion of Array into String"),n&&(r=r[0]),a=void 0,$=[];for(var c=0;c<r.length;c++)(i=r[c]).$$is_string?$.push(l.$escape(i)):i.$$is_regexp?(s=i.$options(),null!=a&&a!=s&&l.$raise(o(d,"TypeError"),"All expressions must use the same options"),a=s,$.push("("+i.source+")")):$.push(l.$escape(i.$to_str()));return l.$new($.$join("|"),a)},u.$$arity=-1),t.def(e,"$new",_=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=o(d,"Opal")["$coerce_to!"](t,o(d,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(o(d,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";o(d,"IGNORECASE")&e&&(r+="i"),o(d,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},_.$$arity=-2)}(t.get_singleton_class(v),b),t.def(v,"$==",$=function(t){return t instanceof RegExp&&this.toString()===t.toString()},$.$$arity=1),t.def(v,"$===",u=function(t){return this.$match(o(b,"Opal")["$coerce_to?"](t,o(b,"String"),"to_str"))!==i},u.$$arity=1),t.def(v,"$=~",_=function(t){var e;return null==c["~"]&&(c["~"]=i),l(e=this.$match(t))?c["~"].$begin(0):e},_.$$arity=1),t.alias(v,"eql?","=="),t.def(v,"$inspect",d=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var r=e[1],n=e[2],$=r.split(""),i=$.length,o=!1,a="",s=0;s<i;s++){var l=$[s];o||"/"!=l||(a=a.concat("\\")),a=a.concat(l),o="\\"==l&&!o}return"/"+a+"/"+n}return t},d.$$arity=0),t.def(v,"$match",p=function(e,r){var n=p.$$p,$=n||i,a=this;if(null==c["~"]&&(c["~"]=i),n&&(p.$$p=null),n&&(p.$$p=null),a.uninitialized&&a.$raise(o(b,"TypeError"),"uninitialized Regexp"),void 0===r){if(e===i)return c["~"]=i;var s=a.exec(o(b,"Opal").$coerce_to(e,o(b,"String"),"to_str"));return s?(c["~"]=o(b,"MatchData").$new(a,s),$===i?c["~"]:t.yield1($,c["~"])):c["~"]=i}if(r=o(b,"Opal").$coerce_to(r,o(b,"Integer"),"to_int"),e===i)return c["~"]=i;if(e=o(b,"Opal").$coerce_to(e,o(b,"String"),"to_str"),r<0&&(r+=e.length)<0)return c["~"]=i;for(var l,u=t.global_regexp(a);;){if(null===(l=u.exec(e)))return c["~"]=i;if(l.index>=r)return c["~"]=o(b,"MatchData").$new(u,l),$===i?c["~"]:t.yield1($,c["~"]);u.lastIndex=l.index+1}},p.$$arity=-2),t.def(v,"$match?",f=function(e,r){var n,$=this;return $.uninitialized&&$.$raise(o(b,"TypeError"),"uninitialized Regexp"),void 0===r?e!==i&&$.test(o(b,"Opal").$coerce_to(e,o(b,"String"),"to_str")):(r=o(b,"Opal").$coerce_to(r,o(b,"Integer"),"to_int"),e!==i&&(e=o(b,"Opal").$coerce_to(e,o(b,"String"),"to_str"),!(r<0&&(r+=e.length)<0)&&!(null===(n=t.global_regexp($).exec(e))||n.index<r)))},f.$$arity=-2),t.def(v,"$~",h=function(){return null==c._&&(c._=i),this["$=~"](c._)},h.$$arity=0),t.def(v,"$source",m=function(){return this.source},m.$$arity=0),t.def(v,"$options",y=function(){var t=this;t.uninitialized&&t.$raise(o(b,"TypeError"),"uninitialized Regexp");var e=0;return t.multiline&&(e|=o(b,"MULTILINE")),t.ignoreCase&&(e|=o(b,"IGNORECASE")),e},y.$$arity=0),t.def(v,"$casefold?",g=function(){return this.ignoreCase},g.$$arity=0),t.alias(v,"to_s","source")}($[0],RegExp,$),function(e,r,n){var $,u,_,d,p,f,h,m,y,g,v,b,x=a(e,null,"MatchData"),k=[x].concat(n);return x.$$prototype.matches=i,x.$attr_reader("post_match","pre_match","regexp","string"),t.def(x,"$initialize",$=function(t,e){var r=this;c["~"]=r,r.regexp=t,r.begin=e.index,r.string=e.input,r.pre_match=e.input.slice(0,e.index),r.post_match=e.input.slice(e.index+e[0].length),r.matches=[];for(var n=0,$=e.length;n<$;n++){var o=e[n];null==o?r.matches.push(i):r.matches.push(o)}},$.$$arity=2),t.def(x,"$[]",u=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),s(n.matches,"[]",t.to_a(r))},u.$$arity=-1),t.def(x,"$offset",_=function(t){var e=this;return 0!==t&&e.$raise(o(k,"ArgumentError"),"MatchData#offset only supports 0th element"),[e.begin,e.begin+e.matches[t].length]},_.$$arity=1),t.def(x,"$==",d=function(t){var e,r,n,$,i=this;return!!l(o(k,"MatchData")["$==="](t))&&(l(e=l(r=l(n=l($=i.string==t.string)?i.regexp.toString()==t.regexp.toString():$)?i.pre_match==t.pre_match:n)?i.post_match==t.post_match:r)?i.begin==t.begin:e)},d.$$arity=1),t.alias(x,"eql?","=="),t.def(x,"$begin",p=function(t){return 0!==t&&this.$raise(o(k,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},p.$$arity=1),t.def(x,"$end",f=function(t){var e=this;return 0!==t&&e.$raise(o(k,"ArgumentError"),"MatchData#end only supports 0th element"),e.begin+e.matches[t].length},f.$$arity=1),t.def(x,"$captures",h=function(){return this.matches.slice(1)},h.$$arity=0),t.def(x,"$inspect",m=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),r=1,n=t.matches.length;r<n;r++)e+=" "+r+":"+t.matches[r].$inspect();return e+">"},m.$$arity=0),t.def(x,"$length",y=function(){return this.matches.length},y.$$arity=0),t.alias(x,"size","length"),t.def(x,"$to_a",g=function(){return this.matches},g.$$arity=0),t.def(x,"$to_s",v=function(){return this.matches[0]},v.$$arity=0),t.def(x,"$values_at",b=function(e){var r,n=this;r=t.slice.call(arguments,0,arguments.length);var $,a,s,l=[];for($=0;$<r.length;$++)r[$].$$is_range&&((a=r[$].$to_a()).unshift($,1),Array.prototype.splice.apply(r,a)),(s=o(k,"Opal")["$coerce_to!"](r[$],o(k,"Integer"),"to_int"))<0&&(s+=n.matches.length)<0?l.push(i):l.push(n.matches[s]);return l},b.$$arity=-1),i&&"values_at"}($[0],0,$)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.truthy,l=t.send,c=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,$,u){var _,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut,_t,dt,pt,ft,ht,mt,yt,gt,vt,bt,xt,kt,wt,Et,At,Ot,St,Rt,Ct,It,Tt,Lt,Nt=a(n,String,"String"),Ft=[Nt].concat(u);function Dt(t){function e(t){var e,r,n,$,i,a,s="",l=t.length;for(e=0;e<l;e++)if("-"===(r=t.charAt(e))&&e>0&&e<l-1&&!n){for(($=t.charCodeAt(e-1))>(i=t.charCodeAt(e+1))&&Nt.$raise(o(Ft,"ArgumentError"),'invalid range "'+$+"-"+i+'" in string transliteration'),a=$+1;a<i+1;a++)s+=String.fromCharCode(a);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,$="",i=t.length;for(r=0;r<i;r++)n=t.charAt(r),-1!==e.indexOf(n)&&($+=n);return $}var n,$,i,a,s,l,c="",u="";for(n=0,$=t.length;n<$;n++)a="^"===(i=o(Ft,"Opal").$coerce_to(t[n],o(Ft,"String"),"to_str")).charAt(0)&&i.length>1,i=e(a?i.slice(1):i),a?u=r(u,i):c=r(c,i);if(c.length>0&&u.length>0){for(l="",n=0,$=c.length;n<$;n++)s=c.charAt(n),-1===u.indexOf(s)&&(l+=s);c=l,u=""}return c.length>0?"["+o(Ft,"Regexp").$escape(c)+"]":u.length>0?"[^"+o(Ft,"Regexp").$escape(u)+"]":null}Nt.$include(o(Ft,"Comparable")),t.defineProperty(Nt.$$prototype,"$$is_string",!0),t.defineProperty(Nt.$$prototype,"$$cast",(function(t){var e=this.$$class;return e.$$constructor===String?t:new e.$$constructor(t)})),t.def(Nt,"$__id__",_=function(){return this.toString()},_.$$arity=0),t.alias(Nt,"object_id","__id__"),t.defs(Nt,"$try_convert",d=function(t){return o(Ft,"Opal")["$coerce_to?"](t,o(Ft,"String"),"to_str")},d.$$arity=1),t.defs(Nt,"$new",p=function(t){return null==t&&(t=""),t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str"),new this.$$constructor(t)},p.$$arity=-1),t.def(Nt,"$initialize",f=function(t){return void 0===t?this:this.$raise(o(Ft,"NotImplementedError"),"Mutable strings are not supported in Opal.")},f.$$arity=-1),t.def(Nt,"$%",h=function(e){var r=this;return s(o(Ft,"Array")["$==="](e))?l(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},h.$$arity=1),t.def(Nt,"$*",m=function(t){var e=this;if((t=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int"))<0&&e.$raise(o(Ft,"ArgumentError"),"negative argument"),0===t)return e.$$cast("");var r="",n=e.toString();for(n.length*t>=1<<28&&e.$raise(o(Ft,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(r+=n),0!==(t>>>=1);)n+=n;return e.$$cast(r)},m.$$arity=1),t.def(Nt,"$+",y=function(t){return this+(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str")).$to_s()},y.$$arity=1),t.def(Nt,"$<=>",g=function(t){var e=this;if(s(t["$respond_to?"]("to_str")))return e>(t=t.$to_str().$to_s())?1:e<t?-1:0;var r=t["$<=>"](e);return r===i?i:r>0?-1:r<0?1:0},g.$$arity=1),t.def(Nt,"$==",v=function(t){return t.$$is_string?this.toString()===t.toString():!!o(Ft,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},v.$$arity=1),t.alias(Nt,"eql?","=="),t.alias(Nt,"===","=="),t.def(Nt,"$=~",b=function(t){return t.$$is_string&&this.$raise(o(Ft,"TypeError"),"type mismatch: String given"),t["$=~"](this)},b.$$arity=1),t.def(Nt,"$[]",x=function(t,e){var r,n=this,$=n.length;if(t.$$is_range)return r=t.excl,e=o(Ft,"Opal").$coerce_to(t.end,o(Ft,"Integer"),"to_int"),t=o(Ft,"Opal").$coerce_to(t.begin,o(Ft,"Integer"),"to_int"),Math.abs(t)>$?i:(t<0&&(t+=$),e<0&&(e+=$),r||(e+=1),(e-=t)<0&&(e=0),n.$$cast(n.substr(t,e)));if(t.$$is_string)return null!=e&&n.$raise(o(Ft,"TypeError")),-1!==n.indexOf(t)?n.$$cast(t):i;if(t.$$is_regexp){var a=n.match(t);return null===a?(c["~"]=i,i):(c["~"]=o(Ft,"MatchData").$new(t,a),null==e?n.$$cast(a[0]):(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"Integer"),"to_int"))<0&&-e<a.length?n.$$cast(a[e+=a.length]):e>=0&&e<a.length?n.$$cast(a[e]):i)}return(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int"))<0&&(t+=$),null==e?t>=$||t<0?i:n.$$cast(n.substr(t,1)):(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"Integer"),"to_int"))<0||t>$||t<0?i:n.$$cast(n.substr(t,e))},x.$$arity=-2),t.alias(Nt,"byteslice","[]"),t.def(Nt,"$b",k=function(){return this.$force_encoding("binary")},k.$$arity=0),t.def(Nt,"$capitalize",w=function(){var t=this;return t.$$cast(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())},w.$$arity=0),t.def(Nt,"$casecmp",E=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return i;t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},E.$$arity=1),t.def(Nt,"$casecmp?",A=function(t){var e=this.$casecmp(t);return e===i?i:0===e},A.$$arity=1),t.def(Nt,"$center",O=function(t,n){var $=this;if(null==n&&(n=" "),t=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int"),n=o(Ft,"Opal").$coerce_to(n,o(Ft,"String"),"to_str").$to_s(),s(n["$empty?"]())&&$.$raise(o(Ft,"ArgumentError"),"zero width padding"),s(t<=$.length))return $;var i=$.$ljust(e(r(t,$.length),2).$ceil(),n),a=$.$rjust(e(r(t,$.length),2).$floor(),n);return $.$$cast(a+i.slice($.length))},O.$$arity=-2),t.def(Nt,"$chars",S=function(){var t=S.$$p,e=t||i;return t&&(S.$$p=null),t&&(S.$$p=null),s(e)?l(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},S.$$arity=0),t.def(Nt,"$chomp",R=function(t){var e,r=this;if(null==c["/"]&&(c["/"]=i),null==t&&(t=c["/"]),s(t===i||0===r.length))return r;if("\n"===(t=o(Ft,"Opal")["$coerce_to!"](t,o(Ft,"String"),"to_str").$to_s()))e=r.replace(/\r?\n?$/,"");else if(""===t)e=r.replace(/(\r?\n)+$/,"");else if(r.length>=t.length){r.substr(r.length-t.length,t.length)===t&&(e=r.substr(0,r.length-t.length))}return null!=e?r.$$cast(e):r},R.$$arity=-1),t.def(Nt,"$chop",C=function(){var t,e=this,r=e.length;return t=r<=1?"":"\n"===e.charAt(r-1)&&"\r"===e.charAt(r-2)?e.substr(0,r-2):e.substr(0,r-1),e.$$cast(t)},C.$$arity=0),t.def(Nt,"$chr",I=function(){return this.charAt(0)},I.$$arity=0),t.def(Nt,"$clone",T=function(){var t=this,e=i;return(e=t.slice()).$copy_singleton_methods(t),e.$initialize_clone(t),e},T.$$arity=0),t.def(Nt,"$dup",L=function(){var t=i;return(t=this.slice()).$initialize_dup(this),t},L.$$arity=0),t.def(Nt,"$count",N=function(e){var r,n=this;0===(r=t.slice.call(arguments,0,arguments.length)).length&&n.$raise(o(Ft,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=Dt(r);return null===$?0:n.length-n.replace(new RegExp($,"g"),"").length},N.$$arity=-1),t.def(Nt,"$delete",F=function(e){var r,n=this;0===(r=t.slice.call(arguments,0,arguments.length)).length&&n.$raise(o(Ft,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=Dt(r);return null===$?n:n.$$cast(n.replace(new RegExp($,"g"),""))},F.$$arity=-1),t.def(Nt,"$delete_prefix",D=function(t){var e=this;return t.$$is_string||(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str")),e.slice(0,t.length)===t?e.$$cast(e.slice(t.length)):e},D.$$arity=1),t.def(Nt,"$delete_suffix",z=function(t){var e=this;return t.$$is_string||(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str")),e.slice(e.length-t.length)===t?e.$$cast(e.slice(0,e.length-t.length)):e},z.$$arity=1),t.def(Nt,"$downcase",B=function(){return this.$$cast(this.toLowerCase())},B.$$arity=0),t.def(Nt,"$each_char",M=function(){var e,r=M.$$p,n=r||i,$=this;if(r&&(M.$$p=null),r&&(M.$$p=null),n===i)return l($,"enum_for",["each_char"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o=0,a=$.length;o<a;o++)t.yield1(n,$.charAt(o));return $},M.$$arity=0),t.def(Nt,"$each_line",j=function(e){var r,n,$,a,s,l,u,_=j.$$p,d=_||i,p=this;if(null==c["/"]&&(c["/"]=i),_&&(j.$$p=null),_&&(j.$$p=null),null==e&&(e=c["/"]),d===i)return p.$enum_for("each_line",e);if(e===i)return t.yield1(d,p),p;if(0===(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str")).length){for(n=0,$=(r=p.split(/(\n{2,})/)).length;n<$;n+=2)if(r[n]||r[n+1]){var f=(r[n]||"")+(r[n+1]||"");t.yield1(d,p.$$cast(f))}return p}for(s=p.$chomp(e),l=p.length!=s.length,n=0,a=(u=s.split(e)).length;n<a;n++)n<a-1||l?t.yield1(d,p.$$cast(u[n]+e)):t.yield1(d,p.$$cast(u[n]));return p},j.$$arity=-1),t.def(Nt,"$empty?",q=function(){return 0===this.length},q.$$arity=0),t.def(Nt,"$end_with?",P=function(e){for(var r,n=this,$=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;$<i;$++){var a=o(Ft,"Opal").$coerce_to(r[$],o(Ft,"String"),"to_str").$to_s();if(n.length>=a.length&&n.substr(n.length-a.length,a.length)==a)return!0}return!1},P.$$arity=-1),t.alias(Nt,"equal?","==="),t.def(Nt,"$gsub",U=function(e,r){var n=U.$$p,$=n||i,a=this;if(n&&(U.$$p=null),n&&(U.$$p=null),void 0===r&&$===i)return a.$enum_for("gsub",e);var s,l,u,_="",d=i,p=0;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(s=e.exec(a))){c["~"]=i,_+=a.slice(p);break}d=o(Ft,"MatchData").$new(e,s),void 0===r?(u=e.lastIndex,l=$(s[0]),e.lastIndex=u):r.$$is_hash?l=r["$[]"](s[0]).$to_s():(r.$$is_string||(r=o(Ft,"Opal").$coerce_to(r,o(Ft,"String"),"to_str")),l=r.replace(/([\\]+)([0-9+&`'])/g,(function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=s.length-1;n>0;n--)if(void 0!==s[n])return e.slice(1)+s[n];return"";case"&":return e.slice(1)+s[0];case"`":return e.slice(1)+a.slice(0,s.index);case"'":return e.slice(1)+a.slice(s.index+s[0].length);default:return e.slice(1)+(s[r]||"")}})).replace(/\\\\/g,"\\")),e.lastIndex===s.index?(_+=l+a.slice(p,s.index+1),e.lastIndex+=1):_+=a.slice(p,s.index)+l,p=e.lastIndex}return c["~"]=d,a.$$cast(_)},U.$$arity=-2),t.def(Nt,"$hash",H=function(){return this.toString()},H.$$arity=0),t.def(Nt,"$hex",Y=function(){return this.$to_i(16)},Y.$$arity=0),t.def(Nt,"$include?",G=function(t){return t.$$is_string||(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str")),-1!==this.indexOf(t)},G.$$arity=1),t.def(Nt,"$index",W=function(e,r){var n,$,a,s=this;if(void 0===r)r=0;else if((r=o(Ft,"Opal").$coerce_to(r,o(Ft,"Integer"),"to_int"))<0&&(r+=s.length)<0)return i;if(e.$$is_regexp)for(a=t.global_multiline_regexp(e);;){if(null===($=a.exec(s))){c["~"]=i,n=-1;break}if($.index>=r){c["~"]=o(Ft,"MatchData").$new(a,$),n=$.index;break}a.lastIndex=$.index+1}else n=0===(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str")).length&&r>s.length?-1:s.indexOf(e,r);return-1===n?i:n},W.$$arity=-2),t.def(Nt,"$inspect",X=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,(function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)})).replace(/\#[\$\@\{]/g,"\\$&")+'"'},X.$$arity=0),t.def(Nt,"$intern",K=function(){return this.toString()},K.$$arity=0),t.def(Nt,"$lines",V=function(t){var e=V.$$p,r=e||i,n=i;return null==c["/"]&&(c["/"]=i),e&&(V.$$p=null),e&&(V.$$p=null),null==t&&(t=c["/"]),n=l(this,"each_line",[t],r.$to_proc()),s(r)?this:n.$to_a()},V.$$arity=-1),t.def(Nt,"$length",J=function(){return this.length},J.$$arity=0),t.def(Nt,"$ljust",Z=function(t,e){var r=this;if(null==e&&(e=" "),t=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int"),e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(o(Ft,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=-1,$="";for(t-=r.length;++n<t;)$+=e;return r.$$cast(r+$.slice(0,t))},Z.$$arity=-2),t.def(Nt,"$lstrip",Q=function(){return this.replace(/^\s*/,"")},Q.$$arity=0),t.def(Nt,"$ascii_only?",tt=function(){return this.match(/[ -~\n]*/)[0]===this},tt.$$arity=0),t.def(Nt,"$match",et=function(t,e){var r,n=et.$$p,$=n||i;return n&&(et.$$p=null),n&&(et.$$p=null),s(s(r=o(Ft,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=o(Ft,"Regexp").$new(t.$to_str())),s(o(Ft,"Regexp")["$==="](t))||this.$raise(o(Ft,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),l(t,"match",[this,e],$.$to_proc())},et.$$arity=-2),t.def(Nt,"$match?",rt=function(t,e){var r;return s(s(r=o(Ft,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=o(Ft,"Regexp").$new(t.$to_str())),s(o(Ft,"Regexp")["$==="](t))||this.$raise(o(Ft,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),t["$match?"](this,e)},rt.$$arity=-2),t.def(Nt,"$next",nt=function(){var t=this,e=t.length;if(0===e)return t.$$cast("");for(var r,n=t,$=t.search(/[a-zA-Z0-9]/),i=!1;e--;){if((r=t.charCodeAt(e))>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)switch(r){case 57:i=!0,r=48;break;case 90:i=!0,r=65;break;case 122:i=!0,r=97;break;default:i=!1,r+=1}else-1===$?255===r?(i=!0,r=0):(i=!1,r+=1):i=!0;if(n=n.slice(0,e)+String.fromCharCode(r)+n.slice(e+1),i&&(0===e||e===$)){switch(r){case 65:case 97:break;default:r+=1}n=0===e?String.fromCharCode(r)+n:n.slice(0,e)+String.fromCharCode(r)+n.slice(e),i=!1}if(!i)break}return t.$$cast(n)},nt.$$arity=0),t.def(Nt,"$oct",$t=function(){var t,e=this,r=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,(function(t,e,n,$){switch($.charAt(0)){case"+":case"-":return t;case"0":if("x"===$.charAt(1)&&"0x"===n)return t}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return e+$})),t=parseInt(e.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},$t.$$arity=0),t.def(Nt,"$ord",it=function(){return this.charCodeAt(0)},it.$$arity=0),t.def(Nt,"$partition",ot=function(t){var e,r,n=this;return t.$$is_regexp?null===(r=t.exec(n))?e=-1:(o(Ft,"MatchData").$new(t,r),t=r[0],e=r.index):(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str"),e=n.indexOf(t)),-1===e?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},ot.$$arity=1),t.def(Nt,"$reverse",at=function(){return this.split("").reverse().join("")},at.$$arity=0),t.def(Nt,"$rindex",st=function(e,r){var n,$,a,s,l=this;if(void 0===r)r=l.length;else if((r=o(Ft,"Opal").$coerce_to(r,o(Ft,"Integer"),"to_int"))<0&&(r+=l.length)<0)return i;if(e.$$is_regexp){for($=null,a=t.global_multiline_regexp(e);!(null===(s=a.exec(l))||s.index>r);)$=s,a.lastIndex=$.index+1;null===$?(c["~"]=i,n=-1):(o(Ft,"MatchData").$new(a,$),n=$.index)}else e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str"),n=l.lastIndexOf(e,r);return-1===n?i:n},st.$$arity=-2),t.def(Nt,"$rjust",lt=function(t,e){var r=this;if(null==e&&(e=" "),t=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int"),e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(o(Ft,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=Math.floor(t-r.length),$=Math.floor(n/e.length),i=Array($+1).join(e),a=n-i.length;return r.$$cast(i+e.slice(0,a)+r)},lt.$$arity=-2),t.def(Nt,"$rpartition",ct=function(e){var r,n,$,i,a=this;if(e.$$is_regexp){for(n=null,$=t.global_multiline_regexp(e);null!==(i=$.exec(a));)n=i,$.lastIndex=n.index+1;null===n?r=-1:(o(Ft,"MatchData").$new($,n),e=n[0],r=n.index)}else e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str"),r=a.lastIndexOf(e);return-1===r?["","",a]:[a.slice(0,r),a.slice(r,r+e.length),a.slice(r+e.length)]},ct.$$arity=1),t.def(Nt,"$rstrip",ut=function(){return this.replace(/[\s\u0000]*$/,"")},ut.$$arity=0),t.def(Nt,"$scan",_t=function(e){var r=_t.$$p,n=r||i,$=this;r&&(_t.$$p=null),r&&(_t.$$p=null);var a,s=[],l=i;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(a=e.exec($));)l=o(Ft,"MatchData").$new(e,a),n===i?1==a.length?s.push(a[0]):s.push(l.$captures()):1==a.length?n(a[0]):n.call($,l.$captures()),e.lastIndex===a.index&&(e.lastIndex+=1);return c["~"]=l,n!==i?$:s},_t.$$arity=1),t.alias(Nt,"size","length"),t.alias(Nt,"slice","[]"),t.def(Nt,"$split",dt=function(e,r){var n,$=this;if(null==c[";"]&&(c[";"]=i),0===$.length)return[];if(void 0===r)r=0;else if(1===(r=o(Ft,"Opal")["$coerce_to!"](r,o(Ft,"Integer"),"to_int")))return[$];void 0!==e&&e!==i||(e=s(n=c[";"])?n:" ");var a,l,u,_=[],d=$.toString(),p=0;if(e.$$is_regexp?e=t.global_multiline_regexp(e):" "===(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str").$to_s())?(e=/\s+/gm,d=d.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(_=d.split(e)).length&&_[0]===d)return[$.$$cast(_[0])];for(;-1!==(l=_.indexOf(void 0));)_.splice(l,1);function f(){for(l=0;l<_.length;l++)_[l]=$.$$cast(_[l])}if(0===r){for(;""===_[_.length-1];)_.length-=1;return f(),_}if(a=e.exec(d),r<0){if(null!==a&&""===a[0]&&-1===e.source.indexOf("(?="))for(l=0,u=a.length;l<u;l++)_.push("");return f(),_}if(null!==a&&""===a[0])return _.splice(r-1,_.length-1,_.slice(r-1).join("")),f(),_;if(r>=_.length)return f(),_;for(l=0;null!==a&&(l++,p=e.lastIndex,l+1!==r);)a=e.exec(d);return _.splice(r-1,_.length-1,d.slice(p)),f(),_},dt.$$arity=-1),t.def(Nt,"$squeeze",pt=function(e){var r,n=this;if(0===(r=t.slice.call(arguments,0,arguments.length)).length)return n.$$cast(n.replace(/(.)\1+/g,"$1"));var $=Dt(r);return null===$?n:n.$$cast(n.replace(new RegExp("("+$+")\\1+","g"),"$1"))},pt.$$arity=-1),t.def(Nt,"$start_with?",ft=function(e){for(var r,n=this,$=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;$<i;$++){var a=o(Ft,"Opal").$coerce_to(r[$],o(Ft,"String"),"to_str").$to_s();if(0===n.indexOf(a))return!0}return!1},ft.$$arity=-1),t.def(Nt,"$strip",ht=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ht.$$arity=0),t.def(Nt,"$sub",mt=function(t,e){var r=mt.$$p,n=r||i,$=this;r&&(mt.$$p=null),r&&(mt.$$p=null),t.$$is_regexp||(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var a,s=t.exec($);return null===s?(c["~"]=i,a=$.toString()):(o(Ft,"MatchData").$new(t,s),void 0===e?(n===i&&$.$raise(o(Ft,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=$.slice(0,s.index)+n(s[0])+$.slice(s.index+s[0].length)):e.$$is_hash?a=$.slice(0,s.index)+e["$[]"](s[0]).$to_s()+$.slice(s.index+s[0].length):(e=(e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,(function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=s.length-1;n>0;n--)if(void 0!==s[n])return e.slice(1)+s[n];return"";case"&":return e.slice(1)+s[0];case"`":return e.slice(1)+$.slice(0,s.index);case"'":return e.slice(1)+$.slice(s.index+s[0].length);default:return e.slice(1)+(s[r]||"")}})).replace(/\\\\/g,"\\"),a=$.slice(0,s.index)+e+$.slice(s.index+s[0].length))),$.$$cast(a)},mt.$$arity=-2),t.alias(Nt,"succ","next"),t.def(Nt,"$sum",yt=function(t){null==t&&(t=16),t=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return t<=0?e:e&Math.pow(2,t)-1},yt.$$arity=-1),t.def(Nt,"$swapcase",gt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,(function(t,e,r){return e?t.toUpperCase():t.toLowerCase()}));return t.constructor===String?e:t.$class().$new(e)},gt.$$arity=0),t.def(Nt,"$to_f",vt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},vt.$$arity=0),t.def(Nt,"$to_i",bt=function(t){null==t&&(t=10);var e,r=this.toLowerCase(),n=o(Ft,"Opal").$coerce_to(t,o(Ft,"Integer"),"to_int");return(1===n||n<0||n>36)&&this.$raise(o(Ft,"ArgumentError"),"invalid radix "+n),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,(function(t,e,r,$){switch($.charAt(0)){case"+":case"-":return t;case"0":if("x"===$.charAt(1)&&"0x"===r&&(0===n||16===n))return t}switch(r){case"0b":if(0===n||2===n)return n=2,e+$;break;case"0":case"0o":if(0===n||8===n)return n=8,e+$;break;case"0d":if(0===n||10===n)return n=10,e+$;break;case"0x":if(0===n||16===n)return n=16,e+$}return t})),e=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(e)?0:e)},bt.$$arity=-1),t.def(Nt,"$to_proc",xt=function(){var e,n,$=xt.$$p,a=this;return $&&(xt.$$p=null),n=r("$",a.valueOf()),l(a,"proc",[],(e=function(r){var $,a=e.$$s||this,s=e.$$p,l=s||i;s&&(e.$$p=null),0===($=t.slice.call(arguments,0,arguments.length)).length&&a.$raise(o(Ft,"ArgumentError"),"no receiver given");var c=$[0];null==c&&(c=i);var u=c[n];return u?("function"==typeof l&&(u.$$p=l),1===$.length?u.call(c):u.apply(c,$.slice(1))):c.$method_missing.apply(c,$)},e.$$s=a,e.$$arity=-1,e))},xt.$$arity=0),t.def(Nt,"$to_s",kt=function(){return this.toString()},kt.$$arity=0),t.alias(Nt,"to_str","to_s"),t.alias(Nt,"to_sym","intern"),t.def(Nt,"$tr",wt=function(t,e){var r,n,$,i,a,s,l,c=this;if(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str").$to_s(),e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str").$to_s(),0==t.length||t===e)return c;var u={},_=t.split(""),d=_.length,p=e.split(""),f=p.length,h=!1,m=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),m=p[f-1],d-=1);var y=[],g=null;for(n=!1,r=0;r<d;r++)if(i=_[r],null==g)g=i,y.push(i);else if("-"===i)"-"===g?(y.push("-"),y.push("-")):r==d-1?y.push("-"):n=!0;else if(n){for((a=g.charCodeAt(0))>(s=i.charCodeAt(0))&&c.$raise(o(Ft,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),$=a+1;$<s;$++)y.push(String.fromCharCode($));y.push(i),n=null,g=null}else y.push(i);if(d=(_=y).length,h)for(r=0;r<d;r++)u[_[r]]=!0;else{if(f>0){var v=[],b=null;for(n=!1,r=0;r<f;r++)if(i=p[r],null==b)b=i,v.push(i);else if("-"===i)"-"===b?(v.push("-"),v.push("-")):r==f-1?v.push("-"):n=!0;else if(n){for((a=b.charCodeAt(0))>(s=i.charCodeAt(0))&&c.$raise(o(Ft,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),$=a+1;$<s;$++)v.push(String.fromCharCode($));v.push(i),n=null,b=null}else v.push(i);f=(p=v).length}var x=d-f;if(x>0){var k=f>0?p[f-1]:"";for(r=0;r<x;r++)p.push(k)}for(r=0;r<d;r++)u[_[r]]=p[r]}var w="";for(r=0,l=c.length;r<l;r++){var E=u[i=c.charAt(r)];w+=h?null==E?m:i:null!=E?E:i}return c.$$cast(w)},wt.$$arity=2),t.def(Nt,"$tr_s",Et=function(t,e){var r,n,$,i,a,s,l,c=this;if(t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str").$to_s(),e=o(Ft,"Opal").$coerce_to(e,o(Ft,"String"),"to_str").$to_s(),0==t.length)return c;var u={},_=t.split(""),d=_.length,p=e.split(""),f=p.length,h=!1,m=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),m=p[f-1],d-=1);var y=[],g=null;for(n=!1,r=0;r<d;r++)if(i=_[r],null==g)g=i,y.push(i);else if("-"===i)"-"===g?(y.push("-"),y.push("-")):r==d-1?y.push("-"):n=!0;else if(n){for((a=g.charCodeAt(0))>(s=i.charCodeAt(0))&&c.$raise(o(Ft,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),$=a+1;$<s;$++)y.push(String.fromCharCode($));y.push(i),n=null,g=null}else y.push(i);if(d=(_=y).length,h)for(r=0;r<d;r++)u[_[r]]=!0;else{if(f>0){var v=[];for(n=!1,r=0;r<f;r++)if(i=p[r],null==g)g=i,v.push(i);else if("-"===i)r==f-1?v.push("-"):n=!0;else if(n){for((a=g.charCodeAt(0))>(s=i.charCodeAt(0))&&c.$raise(o(Ft,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),$=a+1;$<s;$++)v.push(String.fromCharCode($));v.push(i),n=null,g=null}else v.push(i);f=(p=v).length}var b=d-f;if(b>0){var x=f>0?p[f-1]:"";for(r=0;r<b;r++)p.push(x)}for(r=0;r<d;r++)u[_[r]]=p[r]}var k="",w=null;for(r=0,l=c.length;r<l;r++){var E=u[i=c.charAt(r)];h?null==E?null==w&&(k+=m,w=!0):(k+=i,w=null):null!=E?null!=w&&w===E||(k+=E,w=E):(k+=i,w=null)}return c.$$cast(k)},Et.$$arity=2),t.def(Nt,"$upcase",At=function(){return this.$$cast(this.toUpperCase())},At.$$arity=0),t.def(Nt,"$upto",Ot=function(t,e){var r=Ot.$$p,n=r||i,$=this;if(r&&(Ot.$$p=null),r&&(Ot.$$p=null),null==e&&(e=!1),n===i)return $.$enum_for("upto",t,e);t=o(Ft,"Opal").$coerce_to(t,o(Ft,"String"),"to_str");var a,s,l=$.toString();if(1===l.length&&1===t.length)for(a=l.charCodeAt(0),s=t.charCodeAt(0);a<=s&&(!e||a!==s);)n(String.fromCharCode(a)),a+=1;else if(parseInt(l,10).toString()===l&&parseInt(t,10).toString()===t)for(a=parseInt(l,10),s=parseInt(t,10);a<=s&&(!e||a!==s);)n(a.toString()),a+=1;else for(;l.length<=t.length&&l<=t&&(!e||l!==t);)n(l),l=l.$succ();return $},Ot.$$arity=-2),t.def(Nt,"$instance_variables",St=function(){return[]},St.$$arity=0),t.defs(Nt,"$_load",Rt=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),l(n,"new",t.to_a(r))},Rt.$$arity=-1),t.def(Nt,"$unicode_normalize",Ct=function(t){return this.toString()},Ct.$$arity=-1),t.def(Nt,"$unicode_normalized?",It=function(t){return!0},It.$$arity=-1),t.def(Nt,"$unpack",Tt=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Tt.$$arity=1),t.def(Nt,"$unpack1",Lt=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Lt.$$arity=1)}($[0],0,$),t.const_set($[0],"Symbol",o($,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.truthy,_=t.send,d=t.falsy,p=t.hash2,f=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(o,h){var m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut=c(o,"Enumerable"),_t=[ut].concat(h);function dt(t){return 0===t.length&&(t=[a]),t.length>1&&(t=[t]),t}t.def(ut,"$all?",m=function(e){try{var r,n,$,i=m.$$p,o=i||a,s=this;return i&&(m.$$p=null),i&&(m.$$p=null),u(void 0!==e)?_(s,"each",[],(r=function(n){r.$$s;var $=a;if($=dt(t.slice.call(arguments,0,arguments.length)),u(_(e,"public_send",["==="].concat(t.to_a($)))))return a;t.ret(!1)},r.$$s=s,r.$$arity=-1,r)):_(s,"each",[],o!==a?(n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),u(t.yieldX(o,t.to_a(r))))return a;t.ret(!1)},n.$$s=s,n.$$arity=-1,n):($=function(e){var r;$.$$s;if(r=t.slice.call(arguments,0,arguments.length),u(l(_t,"Opal").$destructure(r)))return a;t.ret(!1)},$.$$s=s,$.$$arity=-1,$)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},m.$$arity=-1),t.def(ut,"$any?",y=function(e){try{var r,n,$,i=y.$$p,o=i||a,s=this;return i&&(y.$$p=null),i&&(y.$$p=null),u(void 0!==e)?_(s,"each",[],(r=function(n){r.$$s;var $=a;if($=dt(t.slice.call(arguments,0,arguments.length)),!u(_(e,"public_send",["==="].concat(t.to_a($)))))return a;t.ret(!0)},r.$$s=s,r.$$arity=-1,r)):_(s,"each",[],o!==a?(n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),!u(t.yieldX(o,t.to_a(r))))return a;t.ret(!0)},n.$$s=s,n.$$arity=-1,n):($=function(e){var r;$.$$s;if(r=t.slice.call(arguments,0,arguments.length),!u(l(_t,"Opal").$destructure(r)))return a;t.ret(!0)},$.$$s=s,$.$$arity=-1,$)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},y.$$arity=-1),t.def(ut,"$chunk",g=function(){var e,r,n=g.$$p,$=n||a,i=this;return n&&(g.$$p=null),n&&(g.$$p=null),$===a?_(i,"to_enum",["chunk"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=i,e.$$arity=0,e)):_(s("::","Enumerator"),"new",[],(r=function(e){var n=r.$$s||this;null==e&&(e=a);var i=a,o=[];function s(){o.length>0&&e.$yield(i,o)}n.$each.$$p=function(e){var r=t.yield1($,e);r===a?(s(),o=[],i=a):(i===a||i===r?o.push(e):(s(),o=[e]),i=r)},n.$each(),s()},r.$$s=i,r.$$arity=1,r))},g.$$arity=0),t.def(ut,"$chunk_while",v=function(){var e,r=v.$$p,n=r||a,$=this;return r&&(v.$$p=null),r&&(v.$$p=null),n!==a||$.$raise(l(_t,"ArgumentError"),"no block given"),_($,"slice_when",[],((e=function(r,$){return e.$$s,null==r&&(r=a),null==$&&($=a),t.yieldX(n,[r,$])["$!"]()}).$$s=$,e.$$arity=2,e))},v.$$arity=0),t.def(ut,"$collect",b=function(){var e,r=b.$$p,n=r||a,$=this;if(r&&(b.$$p=null),r&&(b.$$p=null),n===a)return _($,"enum_for",["collect"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e));var i=[];return $.$each.$$p=function(){var e=t.yieldX(n,arguments);i.push(e)},$.$each(),i},b.$$arity=0),t.def(ut,"$collect_concat",x=function(){var e,r,n=x.$$p,$=n||a,i=this;return n&&(x.$$p=null),n&&(x.$$p=null),$===a?_(i,"enum_for",["collect_concat"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=i,e.$$arity=0,e)):_(i,"map",[],(r=function(e){return r.$$s,null==e&&(e=a),t.yield1($,e)},r.$$s=i,r.$$arity=1,r)).$flatten(1)},x.$$arity=0),t.def(ut,"$count",k=function(e){var r,n,$,i=k.$$p,o=i||a,s=this,c=a;return i&&(k.$$p=null),i&&(k.$$p=null),c=0,null!=e&&o!==a&&s.$warn("warning: given block not used"),u(null!=e)?o=_(s,"proc",[],(r=function(n){var $;r.$$s;return $=t.slice.call(arguments,0,arguments.length),l(_t,"Opal").$destructure($)["$=="](e)},r.$$s=s,r.$$arity=-1,r)):u(o["$nil?"]())&&(o=_(s,"proc",[],((n=function(){return n.$$s,!0}).$$s=s,n.$$arity=0,n))),_(s,"each",[],($=function(e){var r;$.$$s;return r=t.slice.call(arguments,0,arguments.length),u(t.yieldX(o,r))?c++:a},$.$$s=s,$.$$arity=-1,$)),c},k.$$arity=-1),t.def(ut,"$cycle",w=function(r){var n,$=w.$$p,i=$||a,o=this;if($&&(w.$$p=null),$&&(w.$$p=null),null==r&&(r=a),i===a)return _(o,"enum_for",["cycle",r],(n=function(){var t,$,i=n.$$s||this;return u(r["$nil?"]())?u(i["$respond_to?"]("size"))?s(l(_t,"Float"),"INFINITY"):a:(r=l(_t,"Opal")["$coerce_to!"](r,l(_t,"Integer"),"to_int"),u(e(r,0))?(t=i.$enumerator_size(),$=r,"number"==typeof t&&"number"==typeof $?t*$:t["$*"]($)):0)},n.$$s=o,n.$$arity=0,n));if(u(r["$nil?"]()));else if(r=l(_t,"Opal")["$coerce_to!"](r,l(_t,"Integer"),"to_int"),u(r<=0))return a;var c,d,p=[];if(o.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments);t.yield1(i,e);p.push(e)},o.$each(),0===p.length)return a;if(r===a)for(;;)for(c=0,d=p.length;c<d;c++)t.yield1(i,p[c]);else for(;r>1;){for(c=0,d=p.length;c<d;c++)t.yield1(i,p[c]);r--}},w.$$arity=-1),t.def(ut,"$detect",E=function(e){try{var r,n=E.$$p,$=n||a,i=this;return n&&(E.$$p=null),n&&(E.$$p=null),$===a?i.$enum_for("detect",e):(_(i,"each",[],(r=function(e){r.$$s;var n,i=a;if(n=t.slice.call(arguments,0,arguments.length),i=l(_t,"Opal").$destructure(n),!u(t.yield1($,i)))return a;t.ret(i)},r.$$s=i,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:a)}catch(e){if(e===t.returner)return e.$v;throw e}},E.$$arity=-1),t.def(ut,"$drop",A=function(t){var e=this;t=l(_t,"Opal").$coerce_to(t,l(_t,"Integer"),"to_int"),u(t<0)&&e.$raise(l(_t,"ArgumentError"),"attempt to drop negative size");var r=[],n=0;return e.$each.$$p=function(){t<=n&&r.push(l(_t,"Opal").$destructure(arguments)),n++},e.$each(),r},A.$$arity=1),t.def(ut,"$drop_while",O=function(){var e=O.$$p,r=e||a,n=this;if(e&&(O.$$p=null),e&&(O.$$p=null),r===a)return n.$enum_for("drop_while");var $=[],i=!0;return n.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments);if(i){var n=t.yield1(r,e);d(n)&&(i=!1,$.push(e))}else $.push(e)},n.$each(),$},O.$$arity=0),t.def(ut,"$each_cons",S=function(e){var i,o=S.$$p,s=o||a,c=this;if(o&&(S.$$p=null),o&&(S.$$p=null),u(1!=arguments.length)&&c.$raise(l(_t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=l(_t,"Opal").$try_convert(e,l(_t,"Integer"),"to_int"),u(e<=0)&&c.$raise(l(_t,"ArgumentError"),"invalid size"),s===a)return _(c,"enum_for",["each_cons",e],(i=function(){var t,o=i.$$s||this,s=a;return s=o.$enumerator_size(),u(s["$nil?"]())?a:u(u(t=s["$=="](0))?t:r(s,e))?0:n($(s,e),1)},i.$$s=c,i.$$arity=0,i));var d=[],p=a;return c.$each.$$p=function(){var r=l(_t,"Opal").$destructure(arguments);d.push(r),d.length>e&&d.shift(),d.length==e&&t.yield1(s,d.slice(0,e))},c.$each(),p},S.$$arity=1),t.def(ut,"$each_entry",R=function(e){var r,n,$=R.$$p,i=$||a,o=this;return $&&(R.$$p=null),$&&(R.$$p=null),r=t.slice.call(arguments,0,arguments.length),i===a?_(o,"to_enum",["each_entry"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=o,n.$$arity=0,n)):(o.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments);t.yield1(i,e)},o.$each.apply(o,r),o)},R.$$arity=-1),t.def(ut,"$each_slice",C=function(e){var r,n=C.$$p,$=n||a,i=this;if(n&&(C.$$p=null),n&&(C.$$p=null),e=l(_t,"Opal").$coerce_to(e,l(_t,"Integer"),"to_int"),u(e<=0)&&i.$raise(l(_t,"ArgumentError"),"invalid slice size"),$===a)return _(i,"enum_for",["each_slice",e],(r=function(){var t,n,$=r.$$s||this;return u($["$respond_to?"]("size"))?(t=$.$size(),n=e,"number"==typeof t&&"number"==typeof n?t/n:t["$/"](n)).$ceil():a},r.$$s=i,r.$$arity=0,r));var o=[];return i.$each.$$p=function(){var r=l(_t,"Opal").$destructure(arguments);o.push(r),o.length===e&&(t.yield1($,o),o=[])},i.$each(),o.length>0&&t.yield1($,o),a},C.$$arity=1),t.def(ut,"$each_with_index",I=function(e){var r,n,$=I.$$p,i=$||a,o=this;if($&&(I.$$p=null),$&&(I.$$p=null),r=t.slice.call(arguments,0,arguments.length),i===a)return _(o,"enum_for",["each_with_index"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=o,n.$$arity=0,n));var s,c=0;return o.$each.$$p=function(){var t=l(_t,"Opal").$destructure(arguments);i(t,c),c++},o.$each.apply(o,r),void 0!==s?s:o},I.$$arity=-1),t.def(ut,"$each_with_object",T=function(t){var e,r=T.$$p,n=r||a,$=this;return r&&(T.$$p=null),r&&(T.$$p=null),n===a?_($,"enum_for",["each_with_object",t],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e)):($.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments);n(e,t)},$.$each(),t)},T.$$arity=1),t.def(ut,"$entries",L=function(e){var r,n=this;r=t.slice.call(arguments,0,arguments.length);var $=[];return n.$each.$$p=function(){$.push(l(_t,"Opal").$destructure(arguments))},n.$each.apply(n,r),$},L.$$arity=-1),t.alias(ut,"find","detect"),t.def(ut,"$find_all",N=function(){var e,r=N.$$p,n=r||a,$=this;if(r&&(N.$$p=null),r&&(N.$$p=null),n===a)return _($,"enum_for",["find_all"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e));var i=[];return $.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),r=t.yield1(n,e);u(r)&&i.push(e)},$.$each(),i},N.$$arity=0),t.def(ut,"$find_index",F=function(e){try{var r,n,$=F.$$p,i=$||a,o=this,s=a;return $&&(F.$$p=null),$&&(F.$$p=null),u(void 0===e&&i===a)?o.$enum_for("find_index"):(null!=e&&i!==a&&o.$warn("warning: given block not used"),s=0,u(null!=e)?_(o,"each",[],(r=function(n){var $;r.$$s;return $=t.slice.call(arguments,0,arguments.length),l(_t,"Opal").$destructure($)["$=="](e)&&t.ret(s),s+=1},r.$$s=o,r.$$arity=-1,r)):_(o,"each",[],(n=function(e){var r;n.$$s;return r=t.slice.call(arguments,0,arguments.length),u(t.yieldX(i,t.to_a(r)))&&t.ret(s),s+=1},n.$$s=o,n.$$arity=-1,n)),a)}catch(e){if(e===t.returner)return e.$v;throw e}},F.$$arity=-1),t.def(ut,"$first",D=function(e){try{var r,n,$=this,i=a,o=a;return u(void 0===e)?_($,"each",[],((r=function(e){r.$$s,null==e&&(e=a),t.ret(e)}).$$s=$,r.$$arity=1,r)):(i=[],e=l(_t,"Opal").$coerce_to(e,l(_t,"Integer"),"to_int"),u(e<0)&&$.$raise(l(_t,"ArgumentError"),"attempt to take negative size"),u(0==e)?[]:(o=0,_($,"each",[],(n=function(r){var $;n.$$s;if($=t.slice.call(arguments,0,arguments.length),i.push(l(_t,"Opal").$destructure($)),!u(e<=++o))return a;t.ret(i)},n.$$s=$,n.$$arity=-1,n)),i))}catch(e){if(e===t.returner)return e.$v;throw e}},D.$$arity=-1),t.alias(ut,"flat_map","collect_concat"),t.def(ut,"$grep",z=function(r){var n,$=z.$$p,o=$||a,s=a;return $&&(z.$$p=null),$&&(z.$$p=null),s=[],_(this,"each",[],(n=function($){n.$$s;var l,c=a;return c=dt(l=t.slice.call(arguments,0,arguments.length)),u(_(r,"__send__",["==="].concat(t.to_a(c))))?(o!==a?(u(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):u(i(l.$length(),1))&&(l=l["$[]"](0)),s.$push(l)):a},n.$$s=this,n.$$arity=-1,n)),s},z.$$arity=1),t.def(ut,"$grep_v",B=function(r){var n,$=B.$$p,o=$||a,s=a;return $&&(B.$$p=null),$&&(B.$$p=null),s=[],_(this,"each",[],(n=function($){n.$$s;var l,c=a;return c=dt(l=t.slice.call(arguments,0,arguments.length)),u(_(r,"__send__",["==="].concat(t.to_a(c))))?a:(o!==a?(u(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):u(i(l.$length(),1))&&(l=l["$[]"](0)),s.$push(l))},n.$$s=this,n.$$arity=-1,n)),s},B.$$arity=1),t.def(ut,"$group_by",M=function(){var e,r,n=M.$$p,i=n||a,o=this,s=a,c=a;return n&&(M.$$p=null),n&&(M.$$p=null),i===a?_(o,"enum_for",["group_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=o,e.$$arity=0,e)):(s=p([],{}),o.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),n=t.yield1(i,e);(u(r=s["$[]"](n))?r:(c=[n,[]],_(s,"[]=",t.to_a(c)),c[$(c.length,1)]))["$<<"](e)},o.$each(),s)},M.$$arity=0),t.def(ut,"$include?",j=function(e){try{var r;return _(this,"each",[],(r=function(n){var $;r.$$s;if($=t.slice.call(arguments,0,arguments.length),!l(_t,"Opal").$destructure($)["$=="](e))return a;t.ret(!0)},r.$$s=this,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},j.$$arity=1),t.def(ut,"$inject",q=function(e,r){var n=q.$$p,$=n||a,i=this;n&&(q.$$p=null),n&&(q.$$p=null);var o=e;return $!==a&&void 0===r?i.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments);void 0!==o?(e=t.yieldX($,[o,e]),o=e):o=e}:(void 0===r&&(l(_t,"Symbol")["$==="](e)||i.$raise(l(_t,"TypeError"),e.$inspect()+" is not a Symbol"),r=e,o=void 0),i.$each.$$p=function(){var t=l(_t,"Opal").$destructure(arguments);o=void 0!==o?o.$__send__(r,t):t}),i.$each(),null==o?a:o},q.$$arity=-1),t.def(ut,"$lazy",P=function(){var e,r=this;return _(s(l(_t,"Enumerator"),"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var $;e.$$s;return null==r&&(r=a),$=t.slice.call(arguments,1,arguments.length),_(r,"yield",t.to_a($))},e.$$s=r,e.$$arity=-2,e))},P.$$arity=0),t.def(ut,"$enumerator_size",U=function(){return u(this["$respond_to?"]("size"))?this.$size():a},U.$$arity=0),t.alias(ut,"map","collect"),t.def(ut,"$max",H=function(e){var r,n,$=H.$$p,i=$||a,o=this;return $&&(H.$$p=null),$&&(H.$$p=null),void 0===e||e===a?(o.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments);void 0!==r?((n=i!==a?t.yieldX(i,[e,r]):e["$<=>"](r))===a&&o.$raise(l(_t,"ArgumentError"),"comparison failed"),n>0&&(r=e)):r=e},o.$each(),void 0===r?a:r):(e=l(_t,"Opal").$coerce_to(e,l(_t,"Integer"),"to_int"),_(o,"sort",[],i.$to_proc()).$reverse().$first(e))},H.$$arity=-1),t.def(ut,"$max_by",Y=function(){var e,r,n,$=Y.$$p,i=$||a,o=this;return $&&(Y.$$p=null),$&&(Y.$$p=null),u(i)?(o.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),$=t.yield1(i,e);if(void 0===r)return r=e,void(n=$);$["$<=>"](n)>0&&(r=e,n=$)},o.$each(),void 0===r?a:r):_(o,"enum_for",["max_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=o,e.$$arity=0,e))},Y.$$arity=0),t.alias(ut,"member?","include?"),t.def(ut,"$min",G=function(){var t,e=G.$$p,r=e||a,n=this;return e&&(G.$$p=null),e&&(G.$$p=null),n.$each.$$p=r!==a?function(){var e=l(_t,"Opal").$destructure(arguments);if(void 0!==t){var $=r(e,t);$===a&&n.$raise(l(_t,"ArgumentError"),"comparison failed"),$<0&&(t=e)}else t=e}:function(){var e=l(_t,"Opal").$destructure(arguments);void 0!==t?l(_t,"Opal").$compare(e,t)<0&&(t=e):t=e},n.$each(),void 0===t?a:t},G.$$arity=0),t.def(ut,"$min_by",W=function(){var e,r,n,$=W.$$p,i=$||a,o=this;return $&&(W.$$p=null),$&&(W.$$p=null),u(i)?(o.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),$=t.yield1(i,e);if(void 0===r)return r=e,void(n=$);$["$<=>"](n)<0&&(r=e,n=$)},o.$each(),void 0===r?a:r):_(o,"enum_for",["min_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=o,e.$$arity=0,e))},W.$$arity=0),t.def(ut,"$minmax",X=function(){var t,e,r=X.$$p,n=r||a,$=this;r&&(X.$$p=null),r&&(X.$$p=null),n=u(t=n)?t:_($,"proc",[],((e=function(t,r){return e.$$s,null==t&&(t=a),null==r&&(r=a),t["$<=>"](r)}).$$s=$,e.$$arity=2,e));var i=a,o=a,s=!0;return $.$each.$$p=function(){var t=l(_t,"Opal").$destructure(arguments);if(s)i=o=t,s=!1;else{var e=n.$call(i,t);e===a?$.$raise(l(_t,"ArgumentError"),"comparison failed"):e>0&&(i=t);var r=n.$call(o,t);r===a?$.$raise(l(_t,"ArgumentError"),"comparison failed"):r<0&&(o=t)}},$.$each(),[i,o]},X.$$arity=0),t.def(ut,"$minmax_by",K=function(){var t=K.$$p;return t&&(K.$$p=null),t&&(K.$$p=null),this.$raise(l(_t,"NotImplementedError"))},K.$$arity=0),t.def(ut,"$none?",V=function(e){try{var r,n,$,i=V.$$p,o=i||a,s=this;return i&&(V.$$p=null),i&&(V.$$p=null),u(void 0!==e)?_(s,"each",[],(r=function(n){r.$$s;var $=a;if($=dt(t.slice.call(arguments,0,arguments.length)),!u(_(e,"public_send",["==="].concat(t.to_a($)))))return a;t.ret(!1)},r.$$s=s,r.$$arity=-1,r)):_(s,"each",[],o!==a?(n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),!u(t.yieldX(o,t.to_a(r))))return a;t.ret(!1)},n.$$s=s,n.$$arity=-1,n):($=function(e){$.$$s;var r,n=a;if(r=t.slice.call(arguments,0,arguments.length),n=l(_t,"Opal").$destructure(r),!u(n))return a;t.ret(!1)},$.$$s=s,$.$$arity=-1,$)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},V.$$arity=-1),t.def(ut,"$one?",J=function(r){try{var $,i,o,s=J.$$p,c=s||a,d=this,p=a;return s&&(J.$$p=null),s&&(J.$$p=null),p=0,u(void 0!==r)?_(d,"each",[],($=function(i){$.$$s;var o=a;return o=dt(t.slice.call(arguments,0,arguments.length)),u(_(r,"public_send",["==="].concat(t.to_a(o))))?(p=n(p,1),u(e(p,1))?void t.ret(!1):a):a},$.$$s=d,$.$$arity=-1,$)):_(d,"each",[],c!==a?(i=function(r){var $;i.$$s;return $=t.slice.call(arguments,0,arguments.length),u(t.yieldX(c,t.to_a($)))?(p=n(p,1),u(e(p,1))?void t.ret(!1):a):a},i.$$s=d,i.$$arity=-1,i):(o=function(r){var $;o.$$s;return $=t.slice.call(arguments,0,arguments.length),u(l(_t,"Opal").$destructure($))?(p=n(p,1),u(e(p,1))?void t.ret(!1):a):a},o.$$s=d,o.$$arity=-1,o)),p["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},J.$$arity=-1),t.def(ut,"$partition",Z=function(){var e,r=Z.$$p,n=r||a,$=this;if(r&&(Z.$$p=null),r&&(Z.$$p=null),n===a)return _($,"enum_for",["partition"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e));var i=[],o=[];return $.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),r=t.yield1(n,e);u(r)?i.push(e):o.push(e)},$.$each(),[i,o]},Z.$$arity=0),t.alias(ut,"reduce","inject"),t.def(ut,"$reject",Q=function(){var e,r=Q.$$p,n=r||a,$=this;if(r&&(Q.$$p=null),r&&(Q.$$p=null),n===a)return _($,"enum_for",["reject"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e));var i=[];return $.$each.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),r=t.yield1(n,e);d(r)&&i.push(e)},$.$each(),i},Q.$$arity=0),t.def(ut,"$reverse_each",tt=function(){var e,r=tt.$$p,n=r||a,$=this;if(r&&(tt.$$p=null),r&&(tt.$$p=null),n===a)return _($,"enum_for",["reverse_each"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e));var i=[];$.$each.$$p=function(){i.push(arguments)},$.$each();for(var o=i.length-1;o>=0;o--)t.yieldX(n,i[o]);return i},tt.$$arity=0),t.alias(ut,"select","find_all"),t.def(ut,"$slice_before",et=function(e){var r,n=et.$$p,$=n||a,i=this;return n&&(et.$$p=null),n&&(et.$$p=null),u(void 0===e&&$===a)&&i.$raise(l(_t,"ArgumentError"),"both pattern and block are given"),u(void 0!==e&&$!==a||arguments.length>1)&&i.$raise(l(_t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),_(l(_t,"Enumerator"),"new",[],(r=function(n){var i=r.$$s||this;null==n&&(n=a);var o=[];i.$each.$$p=$!==a?void 0===e?function(){var e=l(_t,"Opal").$destructure(arguments),r=t.yield1($,e);u(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(e)}:function(){var t=l(_t,"Opal").$destructure(arguments),r=$(t,e.$dup());u(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)}:function(){var t=l(_t,"Opal").$destructure(arguments),r=e["$==="](t);u(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)},i.$each(),o.length>0&&n["$<<"](o)},r.$$s=i,r.$$arity=1,r))},et.$$arity=-1),t.def(ut,"$slice_after",rt=function(e){var r,n,$=rt.$$p,i=$||a,o=this;return $&&(rt.$$p=null),$&&(rt.$$p=null),u(void 0===e&&i===a)&&o.$raise(l(_t,"ArgumentError"),"both pattern and block are given"),u(void 0!==e&&i!==a||arguments.length>1)&&o.$raise(l(_t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),u(void 0!==e)&&(i=_(o,"proc",[],((r=function(t){return r.$$s,null==t&&(t=a),e["$==="](t)}).$$s=o,r.$$arity=1,r))),_(l(_t,"Enumerator"),"new",[],(n=function(e){var r,$=n.$$s||this;null==e&&(e=a),$.$each.$$p=function(){var n=l(_t,"Opal").$destructure(arguments),$=t.yield1(i,n);null==r&&(r=[]),u($)?(r.push(n),e.$yield(r),r=null):r.push(n)},$.$each(),null!=r&&e.$yield(r)},n.$$s=o,n.$$arity=1,n))},rt.$$arity=-1),t.def(ut,"$slice_when",nt=function(){var e,r=nt.$$p,n=r||a;return r&&(nt.$$p=null),r&&(nt.$$p=null),n!==a||this.$raise(l(_t,"ArgumentError"),"wrong number of arguments (0 for 1)"),_(l(_t,"Enumerator"),"new",[],(e=function(r){var $=e.$$s||this;null==r&&(r=a);var i=a,o=a;$.$each_cons.$$p=function(){var e=l(_t,"Opal").$destructure(arguments),$=e[0],s=e[1],c=t.yieldX(n,[$,s]);o=s,i===a&&(i=[]),u(c)?(i.push($),r.$yield(i),i=[]):i.push($)},$.$each_cons(2),i!==a&&(i.push(o),r.$yield(i))},e.$$s=this,e.$$arity=1,e))},nt.$$arity=0),t.def(ut,"$sort",$t=function(){var t,e,r=$t.$$p,n=r||a;return r&&($t.$$p=null),r&&($t.$$p=null),e=this.$to_a(),n!==a||(n=f(((t=function(e,r){return t.$$s,null==e&&(e=a),null==r&&(r=a),e["$<=>"](r)}).$$s=this,t.$$arity=2,t))),_(e,"sort",[],n.$to_proc())},$t.$$arity=0),t.def(ut,"$sort_by",it=function(){var e,r,n,$,i,o=it.$$p,s=o||a,c=this;return o&&(it.$$p=null),o&&(it.$$p=null),s===a?_(c,"enum_for",["sort_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=c,e.$$arity=0,e)):(i=_(c,"map",[],(r=function(){r.$$s;var e=a;return e=l(_t,"Opal").$destructure(arguments),[t.yield1(s,e),e]},r.$$s=c,r.$$arity=0,r)),_(i,"sort!",[],((n=function(t,e){return n.$$s,null==t&&(t=a),null==e&&(e=a),t[0]["$<=>"](e[0])}).$$s=c,n.$$arity=2,n)),_(i,"map!",[],(($=function(t){return $.$$s,null==t&&(t=a),t[1]}).$$s=c,$.$$arity=1,$)))},it.$$arity=0),t.def(ut,"$sum",ot=function(e){var r,$=ot.$$p,i=$||a,o=a;return $&&(ot.$$p=null),null==e&&(e=0),o=e,_(this,"each",[],(r=function(e){r.$$s;var $,s,c=a;return $=t.slice.call(arguments,0,arguments.length),s=$,c=i!==a?t.yieldX(i,t.to_a(s)):l(_t,"Opal").$destructure(s),o=n(o,c)},r.$$s=this,r.$$arity=-1,r)),o},ot.$$arity=-1),t.def(ut,"$take",at=function(t){return this.$first(t)},at.$$arity=1),t.def(ut,"$take_while",st=function(){try{var e,r=st.$$p,n=r||a,$=this,i=a;return r&&(st.$$p=null),r&&(st.$$p=null),u(n)?(i=[],_($,"each",[],(e=function(r){e.$$s;var $,o=a;return $=t.slice.call(arguments,0,arguments.length),o=l(_t,"Opal").$destructure($),u(t.yield1(n,o))||t.ret(i),i.push(o)},e.$$s=$,e.$$arity=-1,e))):$.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},st.$$arity=0),t.def(ut,"$uniq",lt=function(){var e,r=lt.$$p,n=r||a,i=a;return r&&(lt.$$p=null),r&&(lt.$$p=null),i=p([],{}),_(this,"each",[],(e=function(r){e.$$s;var o,s=a,c=a,d=a;return o=t.slice.call(arguments,0,arguments.length),s=l(_t,"Opal").$destructure(o),c=n!==a?t.yield1(n,s):s,u(i["$key?"](c))?a:(d=[c,s],_(i,"[]=",t.to_a(d)),d[$(d.length,1)])},e.$$s=this,e.$$arity=-1,e)),i.$values()},lt.$$arity=0),t.alias(ut,"to_a","entries"),t.def(ut,"$zip",ct=function(e){var r,n=ct.$$p,$=this;return n&&(ct.$$p=null),n&&(ct.$$p=null),r=t.slice.call(arguments,0,arguments.length),_($.$to_a(),"zip",t.to_a(r))},ct.$$arity=-1)}(o[0],o)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=t.breaker,s=t.slice,l=t.klass,c=t.truthy,u=t.send,_=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,$,d){var p,f,h,m,y,g,v=l(n,null,"Enumerator"),b=[v].concat(d);return v.$$prototype.size=v.$$prototype.args=v.$$prototype.object=v.$$prototype.method=i,v.$include(o(b,"Enumerable")),v.$$prototype.$$is_enumerator=!0,t.defs(v,"$for",p=function(e,r,n){var $,o,a,s=p.$$p,l=s||i,c=this;s&&(p.$$p=null),s&&(p.$$p=null),($=t.slice.call(arguments,1,arguments.length)).length>0&&(o=$[0],$.splice(0,1)),null==o&&(o="each"),a=$;var u=c.$allocate();return u.object=e,u.size=l,u.method=o,u.args=a,u},p.$$arity=-2),t.def(v,"$initialize",f=function(e){var r=f.$$p,n=r||i,$=this;return r&&(f.$$p=null),r&&(f.$$p=null),t.slice.call(arguments,0,arguments.length),c(n)?($.object=u(o(b,"Generator"),"new",[],n.$to_proc()),$.method="each",$.args=[],$.size=arguments[0]||i,c($.size)?$.size=o(b,"Opal").$coerce_to($.size,o(b,"Integer"),"to_int"):i):($.object=arguments[0],$.method=arguments[1]||"each",$.args=s.call(arguments,2),$.size=i)},f.$$arity=-1),t.def(v,"$each",h=function(r){var n,$,o=h.$$p,a=o||i,s=this;return o&&(h.$$p=null),o&&(h.$$p=null),n=t.slice.call(arguments,0,arguments.length),c(c($=a["$nil?"]())?n["$empty?"]():$)?s:(n=e(s.args,n),c(a["$nil?"]())?u(s.$class(),"new",[s.object,s.method].concat(t.to_a(n))):u(s.object,"__send__",[s.method].concat(t.to_a(n)),a.$to_proc()))},h.$$arity=-1),t.def(v,"$size",m=function(){var e=this;return c(o(b,"Proc")["$==="](e.size))?u(e.size,"call",t.to_a(e.args)):e.size},m.$$arity=0),t.def(v,"$with_index",y=function(t){var e,r=y.$$p,n=r||i,$=this;if(r&&(y.$$p=null),r&&(y.$$p=null),null==t&&(t=0),t=c(t)?o(b,"Opal").$coerce_to(t,o(b,"Integer"),"to_int"):0,!c(n))return u($,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));var a=t;return $.$each.$$p=function(){var t=o(b,"Opal").$destructure(arguments),e=n(t,a);return a++,e},$.$each()},y.$$arity=-1),t.alias(v,"with_object","each_with_object"),t.def(v,"$inspect",g=function(){var t=this,r=i;return r="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,c(t.args["$any?"]())&&(r=e(r,"("+t.args.$inspect()["$[]"](o(b,"Range").$new(1,-2))+")")),e(r,">")},g.$$arity=0),function(e,r,n){var $,s,_=l(e,null,"Generator"),d=[_].concat(n);_.$$prototype.block=i,_.$include(o(d,"Enumerable")),t.def(_,"$initialize",$=function(){var t=$.$$p,e=t||i;return t&&($.$$p=null),t&&($.$$p=null),c(e)||this.$raise(o(d,"LocalJumpError"),"no block given"),this.block=e},$.$$arity=0),t.def(_,"$each",s=function(e){var r,n=s.$$p,$=n||i,l=this,c=i;n&&(s.$$p=null),n&&(s.$$p=null),r=t.slice.call(arguments,0,arguments.length),c=u(o(d,"Yielder"),"new",[],$.$to_proc());try{r.unshift(c),t.yieldX(l.block,r)}catch(t){if(t===a)return a.$v;throw t}return l},s.$$arity=-1)}(b[0],0,b),function(e,r,n){var $,o,s,c=l(e,null,"Yielder");[c].concat(n);c.$$prototype.block=i,t.def(c,"$initialize",$=function(){var t=$.$$p,e=t||i;return t&&($.$$p=null),t&&($.$$p=null),this.block=e},$.$$arity=0),t.def(c,"$yield",o=function(e){var r,n=this;r=t.slice.call(arguments,0,arguments.length);var $=t.yieldX(n.block,r);if($===a)throw a;return $},o.$$arity=-1),t.def(c,"$<<",s=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),u(n,"yield",t.to_a(r)),n},s.$$arity=-1)}(b[0],0,b),function(n,$,a){var s,d,p,f,h,m,y,g,v,b,x,k,w,E=l(n,$,"Lazy"),A=[E].concat(a);return E.$$prototype.enumerator=i,function(t,e,r){[l(t,e,"StopLazyError")].concat(r)}(A[0],o(A,"Exception"),A),t.def(E,"$initialize",s=function(e,r){var n,$=s.$$p,a=$||i,l=this;return $&&(s.$$p=null),$&&(s.$$p=null),null==r&&(r=i),a!==i||l.$raise(o(A,"ArgumentError"),"tried to call lazy new without a block"),l.enumerator=e,u(l,t.find_super_dispatcher(l,"initialize",s,!1),[r],(n=function(r,$){var s,l,c=n.$$s||this;null==r&&(r=i),s=t.slice.call(arguments,1,arguments.length);try{return u(e,"each",t.to_a(s),(l=function(e){var n;l.$$s;(n=t.slice.call(arguments,0,arguments.length)).unshift(r),t.yieldX(a,n)},l.$$s=c,l.$$arity=-1,l))}catch(e){if(!t.rescue(e,[o(A,"Exception")]))throw e;try{return i}finally{t.pop_exception()}}},n.$$s=l,n.$$arity=-2,n))},s.$$arity=-2),t.alias(E,"force","to_a"),t.def(E,"$lazy",d=function(){return this},d.$$arity=0),t.def(E,"$collect",p=function(){var e,r=p.$$p,n=r||i,$=this;return r&&(p.$$p=null),r&&(p.$$p=null),c(n)||$.$raise(o(A,"ArgumentError"),"tried to call lazy map without a block"),u(o(A,"Lazy"),"new",[$,$.$enumerator_size()],(e=function(r,$){var o;e.$$s;null==r&&(r=i),o=t.slice.call(arguments,1,arguments.length);var a=t.yieldX(n,o);r.$yield(a)},e.$$s=$,e.$$arity=-2,e))},p.$$arity=0),t.def(E,"$collect_concat",f=function(){var e,r=f.$$p,n=r||i,$=this;return r&&(f.$$p=null),r&&(f.$$p=null),c(n)||$.$raise(o(A,"ArgumentError"),"tried to call lazy map without a block"),u(o(A,"Lazy"),"new",[$,i],(e=function(r,$){var a,s,l,c=e.$$s||this;null==r&&(r=i),a=t.slice.call(arguments,1,arguments.length);var _=t.yieldX(n,a);if(_["$respond_to?"]("force")&&_["$respond_to?"]("each"))u(_,"each",[],((s=function(t){return s.$$s,null==t&&(t=i),r.$yield(t)}).$$s=c,s.$$arity=1,s));else{var d=o(A,"Opal").$try_convert(_,o(A,"Array"),"to_ary");d===i?r.$yield(_):u(_,"each",[],((l=function(t){return l.$$s,null==t&&(t=i),r.$yield(t)}).$$s=c,l.$$arity=1,l))}},e.$$s=$,e.$$arity=-2,e))},f.$$arity=0),t.def(E,"$drop",h=function(n){var $,a,s,l=this,_=i;return n=o(A,"Opal").$coerce_to(n,o(A,"Integer"),"to_int"),c(r(n,0))&&l.$raise(o(A,"ArgumentError"),"attempt to drop negative size"),a=l.$enumerator_size(),s=c(o(A,"Integer")["$==="](a))&&c(r(n,a))?n:a,_=0,u(o(A,"Lazy"),"new",[l,s],($=function(o,a){var s;$.$$s;return null==o&&(o=i),s=t.slice.call(arguments,1,arguments.length),c(r(_,n))?_=e(_,1):u(o,"yield",t.to_a(s))},$.$$s=l,$.$$arity=-2,$))},h.$$arity=1),t.def(E,"$drop_while",m=function(){var e,r=m.$$p,n=r||i,$=this,a=i;return r&&(m.$$p=null),r&&(m.$$p=null),c(n)||$.$raise(o(A,"ArgumentError"),"tried to call lazy drop_while without a block"),a=!0,u(o(A,"Lazy"),"new",[$,i],(e=function(r,$){var o;e.$$s;if(null==r&&(r=i),o=t.slice.call(arguments,1,arguments.length),!c(a))return u(r,"yield",t.to_a(o));var s=t.yieldX(n,o);_(s)&&(a=!1,u(r,"yield",t.to_a(o)))},e.$$s=$,e.$$arity=-2,e))},m.$$arity=0),t.def(E,"$enum_for",y=function(e,r){var n,$,o,a=y.$$p,s=a||i,l=this;return a&&(y.$$p=null),a&&(y.$$p=null),(n=t.slice.call(arguments,0,arguments.length)).length>0&&($=n[0],n.splice(0,1)),null==$&&($="each"),o=n,u(l.$class(),"for",[l,$].concat(t.to_a(o)),s.$to_proc())},y.$$arity=-1),t.def(E,"$find_all",g=function(){var e,r=g.$$p,n=r||i,$=this;return r&&(g.$$p=null),r&&(g.$$p=null),c(n)||$.$raise(o(A,"ArgumentError"),"tried to call lazy select without a block"),u(o(A,"Lazy"),"new",[$,i],(e=function(r,$){var o;e.$$s;null==r&&(r=i),o=t.slice.call(arguments,1,arguments.length);var a=t.yieldX(n,o);c(a)&&u(r,"yield",t.to_a(o))},e.$$s=$,e.$$arity=-2,e))},g.$$arity=0),t.alias(E,"flat_map","collect_concat"),t.def(E,"$grep",v=function(e){var r,n,$=v.$$p,a=$||i,s=this;return $&&(v.$$p=null),$&&(v.$$p=null),c(a)?u(o(A,"Lazy"),"new",[s,i],(r=function(n,$){var s;r.$$s;null==n&&(n=i),s=t.slice.call(arguments,1,arguments.length);var l=o(A,"Opal").$destructure(s),u=e["$==="](l);c(u)&&(u=t.yield1(a,l),n.$yield(t.yield1(a,l)))},r.$$s=s,r.$$arity=-2,r)):u(o(A,"Lazy"),"new",[s,i],(n=function(r,$){var a;n.$$s;null==r&&(r=i),a=t.slice.call(arguments,1,arguments.length);var s=o(A,"Opal").$destructure(a),l=e["$==="](s);c(l)&&r.$yield(s)},n.$$s=s,n.$$arity=-2,n))},v.$$arity=1),t.alias(E,"map","collect"),t.alias(E,"select","find_all"),t.def(E,"$reject",b=function(){var e,r=b.$$p,n=r||i,$=this;return r&&(b.$$p=null),r&&(b.$$p=null),c(n)||$.$raise(o(A,"ArgumentError"),"tried to call lazy reject without a block"),u(o(A,"Lazy"),"new",[$,i],(e=function(r,$){var o;e.$$s;null==r&&(r=i),o=t.slice.call(arguments,1,arguments.length);var a=t.yieldX(n,o);_(a)&&u(r,"yield",t.to_a(o))},e.$$s=$,e.$$arity=-2,e))},b.$$arity=0),t.def(E,"$take",x=function(n){var $,a,s,l=this,_=i;return n=o(A,"Opal").$coerce_to(n,o(A,"Integer"),"to_int"),c(r(n,0))&&l.$raise(o(A,"ArgumentError"),"attempt to take negative size"),a=l.$enumerator_size(),s=c(o(A,"Integer")["$==="](a))&&c(r(n,a))?n:a,_=0,u(o(A,"Lazy"),"new",[l,s],($=function(a,s){var l,d=$.$$s||this;return null==a&&(a=i),l=t.slice.call(arguments,1,arguments.length),c(r(_,n))?(u(a,"yield",t.to_a(l)),_=e(_,1)):d.$raise(o(A,"StopLazyError"))},$.$$s=l,$.$$arity=-2,$))},x.$$arity=1),t.def(E,"$take_while",k=function(){var e,r=k.$$p,n=r||i,$=this;return r&&(k.$$p=null),r&&(k.$$p=null),c(n)||$.$raise(o(A,"ArgumentError"),"tried to call lazy take_while without a block"),u(o(A,"Lazy"),"new",[$,i],(e=function(r,$){var a,s=e.$$s||this;null==r&&(r=i),a=t.slice.call(arguments,1,arguments.length);var l=t.yieldX(n,a);c(l)?u(r,"yield",t.to_a(a)):s.$raise(o(A,"StopLazyError"))},e.$$s=$,e.$$arity=-2,e))},k.$$arity=0),t.alias(E,"to_enum","enum_for"),t.def(E,"$inspect",w=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},w.$$arity=0),i&&"inspect"}(b[0],v,b)}($[0],0,$)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var i=t.top,o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,_=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),i.$require("corelib/comparable"),function(i,o,d){var p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J=c(i,null,"Numeric"),Z=[J].concat(d);return J.$include(l(Z,"Comparable")),t.def(J,"$coerce",p=function(t){var e=this;return u(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},p.$$arity=1),t.def(J,"$__coerced__",f=function(e,r){var n,$,i=this,o=a,s=a,c=a;return u(r["$respond_to?"]("coerce"))?($=r.$coerce(i),o=null==(n=t.to_ary($))[0]?a:n[0],s=null==n[1]?a:n[1],o.$__send__(e,s)):"+"["$==="](c=e)||"-"["$==="](c)||"*"["$==="](c)||"/"["$==="](c)||"%"["$==="](c)||"&"["$==="](c)||"|"["$==="](c)||"^"["$==="](c)||"**"["$==="](c)?i.$raise(l(Z,"TypeError"),r.$class()+" can't be coerced into Numeric"):">"["$==="](c)||">="["$==="](c)||"<"["$==="](c)||"<="["$==="](c)||"<=>"["$==="](c)?i.$raise(l(Z,"ArgumentError"),"comparison of "+i.$class()+" with "+r.$class()+" failed"):a},f.$$arity=2),t.def(J,"$<=>",h=function(t){return u(this["$equal?"](t))?0:a},h.$$arity=1),t.def(J,"$+@",m=function(){return this},m.$$arity=0),t.def(J,"$-@",y=function(){return e(0,this)},y.$$arity=0),t.def(J,"$%",g=function(t){return e(this,r(t,this.$div(t)))},g.$$arity=1),t.def(J,"$abs",v=function(){var t=this;return n(t,0)?t["$-@"]():t},v.$$arity=0),t.def(J,"$abs2",b=function(){return r(this,this)},b.$$arity=0),t.def(J,"$angle",x=function(){return n(this,0)?s(l(Z,"Math"),"PI"):0},x.$$arity=0),t.alias(J,"arg","angle"),t.def(J,"$ceil",k=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},k.$$arity=-1),t.def(J,"$conj",w=function(){return this},w.$$arity=0),t.alias(J,"conjugate","conj"),t.def(J,"$denominator",E=function(){return this.$to_r().$denominator()},E.$$arity=0),t.def(J,"$div",A=function(t){return t["$=="](0)&&this.$raise(l(Z,"ZeroDivisionError"),"divided by o"),$(this,t).$floor()},A.$$arity=1),t.def(J,"$divmod",O=function(t){return[this.$div(t),this["$%"](t)]},O.$$arity=1),t.def(J,"$fdiv",S=function(t){return $(this.$to_f(),t)},S.$$arity=1),t.def(J,"$floor",R=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},R.$$arity=-1),t.def(J,"$i",C=function(){return this.$Complex(0,this)},C.$$arity=0),t.def(J,"$imag",I=function(){return 0},I.$$arity=0),t.alias(J,"imaginary","imag"),t.def(J,"$integer?",T=function(){return!1},T.$$arity=0),t.alias(J,"magnitude","abs"),t.alias(J,"modulo","%"),t.def(J,"$nonzero?",L=function(){return u(this["$zero?"]())?a:this},L.$$arity=0),t.def(J,"$numerator",N=function(){return this.$to_r().$numerator()},N.$$arity=0),t.alias(J,"phase","arg"),t.def(J,"$polar",F=function(){return[this.$abs(),this.$arg()]},F.$$arity=0),t.def(J,"$quo",D=function(t){return $(l(Z,"Opal")["$coerce_to!"](this,l(Z,"Rational"),"to_r"),t)},D.$$arity=1),t.def(J,"$real",z=function(){return this},z.$$arity=0),t.def(J,"$real?",B=function(){return!0},B.$$arity=0),t.def(J,"$rect",M=function(){return[this,0]},M.$$arity=0),t.alias(J,"rectangular","rect"),t.def(J,"$round",j=function(t){return this.$to_f().$round(t)},j.$$arity=-1),t.def(J,"$to_c",q=function(){return this.$Complex(this,0)},q.$$arity=0),t.def(J,"$to_int",P=function(){return this.$to_i()},P.$$arity=0),t.def(J,"$truncate",U=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},U.$$arity=-1),t.def(J,"$zero?",H=function(){return this["$=="](0)},H.$$arity=0),t.def(J,"$positive?",Y=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?t>e:t["$>"](e)},Y.$$arity=0),t.def(J,"$negative?",G=function(){return n(this,0)},G.$$arity=0),t.def(J,"$dup",W=function(){return this},W.$$arity=0),t.def(J,"$clone",X=function(e){if(null==e)e=_([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},X.$$arity=-1),t.def(J,"$finite?",K=function(){return!0},K.$$arity=0),t.def(J,"$infinite?",V=function(){return a},V.$$arity=0),a&&"infinite?"}(o[0],0,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=t.top,n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.klass),s=t.truthy,l=t.hash2,c=t.send,u=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),r.$require("corelib/enumerable"),r.$require("corelib/numeric"),function(r,n,_){var d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut,_t,dt,pt,ft,ht,mt,yt,gt,vt,bt,xt,kt,wt,Et,At,Ot,St,Rt,Ct,It,Tt,Lt,Nt,Ft,Dt,zt,Bt,Mt,jt,qt,Pt,Ut,Ht,Yt,Gt,Wt,Xt,Kt,Vt,Jt,Zt=a(r,Array,"Array"),Qt=[Zt].concat(_);function te(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function ee(t,e){return t===e||0===e?1:e>0&&t>e?ee(t-1,e-1)+ee(t-1,e):0}return Zt.$include(o(Qt,"Enumerable")),t.defineProperty(Zt.$$prototype,"$$is_array",!0),t.defs(Zt,"$[]",d=function(e){var r=this;return te(t.slice.call(arguments,0,arguments.length),r)},d.$$arity=-1),t.def(Zt,"$initialize",p=function(t,e){var r,n,a=p.$$p,s=a||$,l=this;if(a&&(p.$$p=null),a&&(p.$$p=null),null==t&&(t=$),null==e&&(e=$),e!==$&&s!==$&&l.$warn("warning: block supersedes default value argument"),t>i(o(Qt,"Integer"),"MAX")&&l.$raise(o(Qt,"ArgumentError"),"array size too big"),arguments.length>2&&l.$raise(o(Qt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return l.splice(0,l.length),l;if(1===arguments.length){if(t.$$is_array)return l.$replace(t.$to_a()),l;if(t["$respond_to?"]("to_ary"))return l.$replace(t.$to_ary()),l}if((t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&l.$raise(o(Qt,"ArgumentError"),"negative array size"),l.splice(0,l.length),s===$)for(r=0;r<t;r++)l.push(e);else for(r=0;r<t;r++)n=s(r),l[r]=n;return l},p.$$arity=-1),t.defs(Zt,"$try_convert",f=function(t){return o(Qt,"Opal")["$coerce_to?"](t,o(Qt,"Array"),"to_ary")},f.$$arity=1),t.def(Zt,"$&",h=function(e){e=s(o(Qt,"Array")["$==="](e))?e.$to_a():o(Qt,"Opal").$coerce_to(e,o(Qt,"Array"),"to_ary").$to_a();var r,n,$,i=[],a=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(a,e[r],!0);for(r=0,n=this.length;r<n;r++)$=this[r],void 0!==t.hash_delete(a,$)&&i.push($);return i},h.$$arity=1),t.def(Zt,"$|",m=function(e){e=s(o(Qt,"Array")["$==="](e))?e.$to_a():o(Qt,"Opal").$coerce_to(e,o(Qt,"Array"),"to_ary").$to_a();var r,n,$=l([],{});for(r=0,n=this.length;r<n;r++)t.hash_put($,this[r],!0);for(r=0,n=e.length;r<n;r++)t.hash_put($,e[r],!0);return $.$keys()},m.$$arity=1),t.def(Zt,"$*",y=function(t){var e=this;if(s(t["$respond_to?"]("to_str")))return e.$join(t.$to_str());t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),s(t<0)&&e.$raise(o(Qt,"ArgumentError"),"negative argument");for(var r=[],n=e.$to_a(),$=0;$<t;$++)r=r.concat(n);return te(r,e.$class())},y.$$arity=1),t.def(Zt,"$+",g=function(t){return t=s(o(Qt,"Array")["$==="](t))?t.$to_a():o(Qt,"Opal").$coerce_to(t,o(Qt,"Array"),"to_ary").$to_a(),this.concat(t)},g.$$arity=1),t.def(Zt,"$-",v=function(e){var r=this;if(e=s(o(Qt,"Array")["$==="](e))?e.$to_a():o(Qt,"Opal").$coerce_to(e,o(Qt,"Array"),"to_ary").$to_a(),s(0===r.length))return[];if(s(0===e.length))return r.slice();var n,$,i,a=[],c=l([],{});for(n=0,$=e.length;n<$;n++)t.hash_put(c,e[n],!0);for(n=0,$=r.length;n<$;n++)i=r[n],void 0===t.hash_get(c,i)&&a.push(i);return a},v.$$arity=1),t.def(Zt,"$<<",b=function(t){return this.push(t),this},b.$$arity=1),t.def(Zt,"$<=>",x=function(t){var e=this;if(s(o(Qt,"Array")["$==="](t)))t=t.$to_a();else{if(!s(t["$respond_to?"]("to_ary")))return $;t=t.$to_ary().$to_a()}if(e.$hash()===t.$hash())return 0;for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]["$<=>"](t[n]);if(0!==i)return i}return e.length["$<=>"](t.length)},x.$$arity=1),t.def(Zt,"$==",k=function(t){var e={};return function t(r,n){var $,i,a,s;if(r===n)return!0;if(!n.$$is_array)return!!o(Qt,"Opal")["$respond_to?"](n,"to_ary")&&n["$=="](r);if(r.$$constructor!==Array&&(r=r.$to_a()),n.$$constructor!==Array&&(n=n.$to_a()),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,$=0,i=r.length;$<i;$++)if(a=r[$],s=n[$],a.$$is_array){if(s.$$is_array&&s.length!==a.length)return!1;if(!e.hasOwnProperty(a.$object_id())&&!t(a,s))return!1}else if(!a["$=="](s))return!1;return!0}(this,t)},k.$$arity=1),t.def(Zt,"$[]",w=function(e,r){return e.$$is_range?function(e,r){var n,i,o,a=e.length;return n=r.excl,i=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),o=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),i<0&&(i+=a)<0||i>a?$:o<0&&(o+=a)<0?[]:(n||(o+=1),te(e.slice(i,o),e.$class()))}(this,e):function(e,r,n){var i=e.length;return(r=t.Opal.$coerce_to(r,t.Integer,"to_int"))<0&&(r+=i)<0?$:void 0===n?r>=i||r<0?$:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"))<0||r>i||r<0?$:te(e.slice(r,r+n),e.$class())}(this,e,r)},w.$$arity=-2),t.def(Zt,"$[]=",E=function(t,e,r){var n,i,a=this,l=$,c=$,u=a.length;if(s(o(Qt,"Range")["$==="](t))){l=s(o(Qt,"Array")["$==="](e))?e.$to_a():s(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var _=t.excl,d=o(Qt,"Opal").$coerce_to(t.begin,o(Qt,"Integer"),"to_int"),p=o(Qt,"Opal").$coerce_to(t.end,o(Qt,"Integer"),"to_int");if(d<0&&(d+=u)<0&&a.$raise(o(Qt,"RangeError"),t.$inspect()+" out of range"),p<0&&(p+=u),_||(p+=1),d>u)for(n=u;n<d;n++)a[n]=$;return p<0?a.splice.apply(a,[d,0].concat(l)):a.splice.apply(a,[d,p-d].concat(l)),e}if(s(void 0===r)?c=1:(c=e,e=r,l=s(o(Qt,"Array")["$==="](e))?e.$to_a():s(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),c=o(Qt,"Opal").$coerce_to(c,o(Qt,"Integer"),"to_int"),t<0&&(i=t,(t+=u)<0&&a.$raise(o(Qt,"IndexError"),"index "+i+" too small for array; minimum "+-a.length)),c<0&&a.$raise(o(Qt,"IndexError"),"negative length ("+c+")"),t>u)for(n=u;n<t;n++)a[n]=$;return void 0===r?a[t]=e:a.splice.apply(a,[t,c].concat(l)),e},E.$$arity=-3),t.def(Zt,"$any?",A=function(e){var r=A.$$p,n=this,i=$,o=$,a=$;for(r&&(A.$$p=null),o=0,a=arguments.length,i=new Array(a);o<a;o++)i[o]=arguments[o];return r&&(A.$$p=null),0!==n.length&&c(n,t.find_super_dispatcher(n,"any?",A,!1),i,r)},A.$$arity=-1),t.def(Zt,"$assoc",O=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&e[0]["$=="](t))return e;return $},O.$$arity=1),t.def(Zt,"$at",S=function(t){var e=this;return(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&(t+=e.length),t<0||t>=e.length?$:e[t]},S.$$arity=1),t.def(Zt,"$bsearch_index",R=function(){var e=R.$$p,r=e||$,n=this;if(e&&(R.$$p=null),e&&(R.$$p=null),r===$)return n.$enum_for("bsearch_index");for(var i,a,s,l=0,c=n.length,u=!1,_=$;l<c;){if(a=n[i=l+Math.floor((c-l)/2)],!0===(s=t.yield1(r,a)))_=i,u=!0;else if(!1===s||s===$)u=!1;else if(s.$$is_number){if(0===s)return i;u=s<0}else n.$raise(o(Qt,"TypeError"),"wrong argument type "+s.$class()+" (must be numeric, true, false or nil)");u?c=i:l=i+1}return _},R.$$arity=0),t.def(Zt,"$bsearch",C=function(){var t,e=C.$$p,r=e||$,n=this;return e&&(C.$$p=null),e&&(C.$$p=null),r===$?n.$enum_for("bsearch"):null!=(t=c(n,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?n[t]:t},C.$$arity=0),t.def(Zt,"$cycle",I=function(r){var n,a,l,u,_=I.$$p,d=_||$,p=this;if(_&&(I.$$p=null),_&&(I.$$p=null),null==r&&(r=$),d===$)return c(p,"enum_for",["cycle",r],(n=function(){var t,$,a=n.$$s||this;return s(r["$nil?"]())?i(o(Qt,"Float"),"INFINITY"):(r=o(Qt,"Opal")["$coerce_to!"](r,o(Qt,"Integer"),"to_int"),s(e(r,0))?(t=a.$enumerator_size(),$=r,"number"==typeof t&&"number"==typeof $?t*$:t["$*"]($)):0)},n.$$s=p,n.$$arity=0,n));if(s(s(a=p["$empty?"]())?a:r["$=="](0)))return $;if(r===$)for(;;)for(l=0,u=p.length;l<u;l++)t.yield1(d,p[l]);else{if((r=o(Qt,"Opal")["$coerce_to!"](r,o(Qt,"Integer"),"to_int"))<=0)return p;for(;r>0;){for(l=0,u=p.length;l<u;l++)t.yield1(d,p[l]);r--}}return p},I.$$arity=-1),t.def(Zt,"$clear",T=function(){var t=this;return t.splice(0,t.length),t},T.$$arity=0),t.def(Zt,"$count",L=function(e){var r,n=L.$$p,i=n||$,o=this,a=$,l=$,u=$;for(n&&(L.$$p=null),l=0,u=arguments.length,a=new Array(u);l<u;l++)a[l]=arguments[l];return n&&(L.$$p=null),null==e&&(e=$),s(s(r=e)?r:i)?c(o,t.find_super_dispatcher(o,"count",L,!1),a,n):o.$size()},L.$$arity=-1),t.def(Zt,"$initialize_copy",N=function(t){return this.$replace(t)},N.$$arity=1),t.def(Zt,"$collect",F=function(){var e,r=F.$$p,n=r||$,i=this;if(r&&(F.$$p=null),r&&(F.$$p=null),n===$)return c(i,"enum_for",["collect"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e));for(var o=[],a=0,s=i.length;a<s;a++){var l=t.yield1(n,i[a]);o.push(l)}return o},F.$$arity=0),t.def(Zt,"$collect!",D=function(){var e,r=D.$$p,n=r||$,i=this;if(r&&(D.$$p=null),r&&(D.$$p=null),n===$)return c(i,"enum_for",["collect!"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e));for(var o=0,a=i.length;o<a;o++){var s=t.yield1(n,i[o]);i[o]=s}return i},D.$$arity=0),t.def(Zt,"$combination",z=function(e){var r,n,i,a,s,l,u,_,d,p=z.$$p,f=p||$,h=this;if(p&&(z.$$p=null),n=o(Qt,"Opal")["$coerce_to!"](e,o(Qt,"Integer"),"to_int"),f===$)return c(h,"enum_for",["combination",n],((r=function(){return ee((r.$$s||this).length,n)}).$$s=h,r.$$arity=0,r));if(0===n)t.yield1(f,[]);else if(1===n)for(i=0,a=h.length;i<a;i++)t.yield1(f,[h[i]]);else if(n===h.length)t.yield1(f,h.slice());else if(n>=0&&n<h.length){for(s=[],i=0;i<=n+1;i++)s.push(0);for(l=[],u=0,_=!1,s[0]=-1;!_;){for(l[u]=h[s[u+1]];u<n-1;)d=s[++u+1]=s[u]+1,l[u]=h[d];t.yield1(f,l.slice()),u++;do{_=0===u,s[u]++,u--}while(s[u+1]+n===h.length+u+1)}}return h},z.$$arity=1),t.def(Zt,"$repeated_combination",B=function(e){var r,n,i=B.$$p,a=i||$,s=this;if(i&&(B.$$p=null),n=o(Qt,"Opal")["$coerce_to!"](e,o(Qt,"Integer"),"to_int"),a===$)return c(s,"enum_for",["repeated_combination",n],((r=function(){return ee((r.$$s||this).length+n-1,n)}).$$s=s,r.$$arity=0,r));return n>=0&&function e(r,n,$,i){if($.length!=r)for(var o=n;o<i.length;o++)$.push(i[o]),e(r,o,$,i),$.pop();else{var s=$.slice();t.yield1(a,s)}}(n,0,[],s),s},B.$$arity=1),t.def(Zt,"$compact",M=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==$&&e.push(t);return e},M.$$arity=0),t.def(Zt,"$compact!",j=function(){for(var t=this,e=t.length,r=0,n=t.length;r<n;r++)t[r]===$&&(t.splice(r,1),n--,r--);return t.length===e?$:t},j.$$arity=0),t.def(Zt,"$concat",q=function(e){var r,n,i,a,l=this;return r=t.slice.call(arguments,0,arguments.length),n=c(n=r,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=$),t=s(o(Qt,"Array")["$==="](t))?t.$to_a():o(Qt,"Opal").$coerce_to(t,o(Qt,"Array"),"to_ary").$to_a(),s(t["$equal?"](e))&&(t=t.$dup()),t},i.$$s=l,i.$$arity=1,i)),c(n,"each",[],(a=function(t){var e=a.$$s||this;null==t&&(t=$);for(var r=0,n=t.length;r<n;r++)e.push(t[r])},a.$$s=l,a.$$arity=1,a)),l},q.$$arity=-1),t.def(Zt,"$delete",P=function(e){var r=P.$$p,n=r||$,i=this;r&&(P.$$p=null);for(var o=i.length,a=0,s=o;a<s;a++)i[a]["$=="](e)&&(i.splice(a,1),s--,a--);return i.length===o?n!==$?t.yieldX(n,[]):$:e},P.$$arity=1),t.def(Zt,"$delete_at",U=function(t){var e=this;if((t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&(t+=e.length),t<0||t>=e.length)return $;var r=e[t];return e.splice(t,1),r},U.$$arity=1),t.def(Zt,"$delete_if",H=function(){var t,e=H.$$p,r=e||$,n=this;if(e&&(H.$$p=null),e&&(H.$$p=null),r===$)return c(n,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));for(var i,o=0,a=n.length;o<a;o++)!1!==(i=r(n[o]))&&i!==$&&(n.splice(o,1),a--,o--);return n},H.$$arity=0),t.def(Zt,"$dig",Y=function(e,r){var n,i=this,a=$;return n=t.slice.call(arguments,1,arguments.length),(a=i["$[]"](e))===$||0===n.length?a:(s(a["$respond_to?"]("dig"))||i.$raise(o(Qt,"TypeError"),a.$class()+" does not have #dig method"),c(a,"dig",t.to_a(n)))},Y.$$arity=-2),t.def(Zt,"$drop",G=function(t){return t<0&&this.$raise(o(Qt,"ArgumentError")),this.slice(t)},G.$$arity=1),t.def(Zt,"$dup",W=function(){var e=W.$$p,r=this,n=$,i=$,o=$;for(e&&(W.$$p=null),i=0,o=arguments.length,n=new Array(o);i<o;i++)n[i]=arguments[i];return r.$$class===t.Array&&r.$$class.$allocate.$$pristine&&r.$copy_instance_variables.$$pristine&&r.$initialize_dup.$$pristine?r.slice(0):c(r,t.find_super_dispatcher(r,"dup",W,!1),n,e)},W.$$arity=0),t.def(Zt,"$each",X=function(){var e,r=X.$$p,n=r||$,i=this;if(r&&(X.$$p=null),r&&(X.$$p=null),n===$)return c(i,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e));for(var o=0,a=i.length;o<a;o++)t.yield1(n,i[o]);return i},X.$$arity=0),t.def(Zt,"$each_index",K=function(){var e,r=K.$$p,n=r||$,i=this;if(r&&(K.$$p=null),r&&(K.$$p=null),n===$)return c(i,"enum_for",["each_index"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e));for(var o=0,a=i.length;o<a;o++)t.yield1(n,o);return i},K.$$arity=0),t.def(Zt,"$empty?",V=function(){return 0===this.length},V.$$arity=0),t.def(Zt,"$eql?",J=function(t){var e={};return function t(r,n){var $,i,o,a;if(!n.$$is_array)return!1;if(n=n.$to_a(),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,$=0,i=r.length;$<i;$++)if(o=r[$],a=n[$],o.$$is_array){if(a.$$is_array&&a.length!==o.length)return!1;if(!e.hasOwnProperty(o.$object_id())&&!t(o,a))return!1}else if(!o["$eql?"](a))return!1;return!0}(this,t)},J.$$arity=1),t.def(Zt,"$fetch",Z=function(t,e){var r=Z.$$p,n=r||$,i=this;r&&(Z.$$p=null),r&&(Z.$$p=null);var a=t;return(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&(t+=i.length),t>=0&&t<i.length?i[t]:(n!==$&&null!=e&&i.$warn("warning: block supersedes default value argument"),n!==$?n(a):null!=e?e:void(0===i.length?i.$raise(o(Qt,"IndexError"),"index "+a+" outside of array bounds: 0...0"):i.$raise(o(Qt,"IndexError"),"index "+a+" outside of array bounds: -"+i.length+"..."+i.length)))},Z.$$arity=-2),t.def(Zt,"$fill",Q=function(e){var r,n,i,a,l,c=Q.$$p,u=c||$,_=this,d=$,p=$,f=$,h=$,m=$;if(c&&(Q.$$p=null),c&&(Q.$$p=null),r=t.slice.call(arguments,0,arguments.length),s(u)?(s(r.length>2)&&_.$raise(o(Qt,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),i=r,d=null==(n=t.to_ary(i))[0]?$:n[0],p=null==n[1]?$:n[1]):(s(0==r.length)?_.$raise(o(Qt,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):s(r.length>3)&&_.$raise(o(Qt,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"),i=r,f=null==(n=t.to_ary(i))[0]?$:n[0],d=null==n[1]?$:n[1],p=null==n[2]?$:n[2]),s(o(Qt,"Range")["$==="](d))){if(s(p)&&_.$raise(o(Qt,"TypeError"),"length invalid with range"),h=o(Qt,"Opal").$coerce_to(d.$begin(),o(Qt,"Integer"),"to_int"),s(h<0)&&(h+=this.length),s(h<0)&&_.$raise(o(Qt,"RangeError"),d.$inspect()+" out of range"),m=o(Qt,"Opal").$coerce_to(d.$end(),o(Qt,"Integer"),"to_int"),s(m<0)&&(m+=this.length),s(d["$exclude_end?"]())||(m+=1),s(m<=h))return _}else if(s(d))if(h=o(Qt,"Opal").$coerce_to(d,o(Qt,"Integer"),"to_int"),s(h<0)&&(h+=this.length),s(h<0)&&(h=0),s(p)){if(m=o(Qt,"Opal").$coerce_to(p,o(Qt,"Integer"),"to_int"),s(0==m))return _;m+=h}else m=this.length;else h=0,m=this.length;if(s(h>this.length))for(a=this.length;a<m;a++)_[a]=$;if(s(m>this.length)&&(this.length=m),s(u))for(this.length;h<m;h++)l=u(h),_[h]=l;else for(this.length;h<m;h++)_[h]=f;return _},Q.$$arity=-1),t.def(Zt,"$first",tt=function(t){var e=this;return null==t?0===e.length?$:e[0]:((t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&e.$raise(o(Qt,"ArgumentError"),"negative array size"),e.slice(0,t))},tt.$$arity=-1),t.def(Zt,"$flatten",et=function(t){var e=this;return void 0!==t&&(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int")),te(function t(r,n){var i,a,s,l,c=[];for(i=0,a=(r=r.$to_a()).length;i<a;i++)if(s=r[i],o(Qt,"Opal")["$respond_to?"](s,"to_ary",!0))if((l=s.$to_ary())!==$)switch(l.$$is_array||e.$raise(o(Qt,"TypeError")),l===e&&e.$raise(o(Qt,"ArgumentError")),n){case void 0:c=c.concat(t(l));break;case 0:c.push(l);break;default:c.push.apply(c,t(l,n-1))}else c.push(s);else c.push(s);return c}(e,t),e.$class())},et.$$arity=-1),t.def(Zt,"$flatten!",rt=function(t){var e=this,r=e.$flatten(t);if(e.length==r.length){for(var n=0,i=e.length;n<i&&e[n]===r[n];n++);if(n==i)return $}return e.$replace(r),e},rt.$$arity=-1),t.def(Zt,"$hash",nt=function(){var e,r,n,$=this,i=void 0===t.hash_ids,o=["A"],a=$.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[a])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],$["$eql?"](e))return"self";for(t.hash_ids[a]=$,r=0;r<$.length;r++)e=$[r],o.push(e.$hash());return o.join(",")}finally{i&&(t.hash_ids=void 0)}},nt.$$arity=0),t.def(Zt,"$include?",$t=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},$t.$$arity=1),t.def(Zt,"$index",it=function(t){var e,r,n,i=it.$$p,o=i||$,a=this;if(i&&(it.$$p=null),i&&(it.$$p=null),null!=t&&o!==$&&a.$warn("warning: given block not used"),null!=t){for(e=0,r=a.length;e<r;e++)if(a[e]["$=="](t))return e}else{if(o===$)return a.$enum_for("index");for(e=0,r=a.length;e<r;e++)if(!1!==(n=o(a[e]))&&n!==$)return e}return $},it.$$arity=-1),t.def(Zt,"$insert",ot=function(e,r){var n,i=this;if(n=t.slice.call(arguments,1,arguments.length),e=o(Qt,"Opal").$coerce_to(e,o(Qt,"Integer"),"to_int"),n.length>0){if(e<0&&(e+=i.length+1)<0&&i.$raise(o(Qt,"IndexError"),e+" is out of bounds"),e>i.length)for(var a=i.length;a<e;a++)i.push($);i.splice.apply(i,[e,0].concat(n))}return i},ot.$$arity=-2),t.def(Zt,"$inspect",at=function(){for(var t=this,e=[],r=t.$__id__(),n=0,$=t.length;n<$;n++){var i=t["$[]"](n);i.$__id__()===r?e.push("[...]"):e.push(i.$inspect())}return"["+e.join(", ")+"]"},at.$$arity=0),t.def(Zt,"$join",st=function(e){var r=this;if(null==u[","]&&(u[","]=$),null==e&&(e=$),s(0===r.length))return"";s(e===$)&&(e=u[","]);var n,i,a,l,c=[];for(n=0,i=r.length;n<i;n++)a=r[n],o(Qt,"Opal")["$respond_to?"](a,"to_str")&&(l=a.$to_str())!==$?c.push(l.$to_s()):o(Qt,"Opal")["$respond_to?"](a,"to_ary")&&((l=a.$to_ary())===r&&r.$raise(o(Qt,"ArgumentError")),l!==$)?c.push(l.$join(e)):o(Qt,"Opal")["$respond_to?"](a,"to_s")&&(l=a.$to_s())!==$?c.push(l):r.$raise(o(Qt,"NoMethodError").$new(t.inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===$?c.join(""):c.join(o(Qt,"Opal")["$coerce_to!"](e,o(Qt,"String"),"to_str").$to_s())},st.$$arity=-1),t.def(Zt,"$keep_if",lt=function(){var t,e=lt.$$p,r=e||$,n=this;if(e&&(lt.$$p=null),e&&(lt.$$p=null),r===$)return c(n,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));for(var i,o=0,a=n.length;o<a;o++)!1!==(i=r(n[o]))&&i!==$||(n.splice(o,1),a--,o--);return n},lt.$$arity=0),t.def(Zt,"$last",ct=function(t){var e=this;return null==t?0===e.length?$:e[e.length-1]:((t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&e.$raise(o(Qt,"ArgumentError"),"negative array size"),t>e.length&&(t=e.length),e.slice(e.length-t,e.length))},ct.$$arity=-1),t.def(Zt,"$length",ut=function(){return this.length},ut.$$arity=0),t.alias(Zt,"map","collect"),t.alias(Zt,"map!","collect!"),t.def(Zt,"$max",_t=function(t){var e=_t.$$p,r=e||$;return e&&(_t.$$p=null),e&&(_t.$$p=null),c(this.$each(),"max",[t],r.$to_proc())},_t.$$arity=-1),t.def(Zt,"$min",dt=function(){var t=dt.$$p,e=t||$;return t&&(dt.$$p=null),t&&(dt.$$p=null),c(this.$each(),"min",[],e.$to_proc())},dt.$$arity=0),t.def(Zt,"$permutation",pt=function(e){var r,n,i,a,s=pt.$$p,l=s||$,u=this,_=$,d=$;if(s&&(pt.$$p=null),s&&(pt.$$p=null),l===$)return c(u,"enum_for",["permutation",e],(r=function(){var t=r.$$s||this;return function(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}(t.length,void 0===e?t.length:e)},r.$$s=u,r.$$arity=0,r));if((e=void 0===e?u.length:o(Qt,"Opal").$coerce_to(e,o(Qt,"Integer"),"to_int"))<0||u.length<e);else if(0===e)t.yield1(l,[]);else if(1===e)for(var p=0;p<u.length;p++)t.yield1(l,[u[p]]);else _=o(Qt,"Array").$new(e),d=o(Qt,"Array").$new(u.length,!1),n=function(e,r,$,i,o){u=this;for(var s=0;s<u.length;s++)if(i["$[]"](s)["$!"]())if(r[$]=s,$<e-1)i[s]=!0,n.call(u,e,r,$+1,i,o),i[s]=!1;else{a=[];for(var l=0;l<r.length;l++)a.push(u[r[l]]);t.yield1(o,a)}},l!==$?(i=u.slice(),n.call(i,e,_,0,d,l)):n.call(u,e,_,0,d,l);return u},pt.$$arity=-1),t.def(Zt,"$repeated_permutation",ft=function(e){var r,n,i=ft.$$p,a=i||$,l=this;if(i&&(ft.$$p=null),n=o(Qt,"Opal")["$coerce_to!"](e,o(Qt,"Integer"),"to_int"),a===$)return c(l,"enum_for",["repeated_permutation",n],(r=function(){var t,e,$=r.$$s||this;return s((e=0,"number"==typeof(t=n)&&"number"==typeof e?t>=e:t["$>="](e)))?$.$size()["$**"](n):0},r.$$s=l,r.$$arity=0,r));return function e(r,n,$){if(n.length!=r)for(var i=0;i<$.length;i++)n.push($[i]),e(r,n,$),n.pop();else{var o=n.slice();t.yield1(a,o)}}(n,[],l.slice()),l},ft.$$arity=1),t.def(Zt,"$pop",ht=function(t){var e=this;return s(void 0===t)?s(0===e.length)?$:e.pop():(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),s(t<0)&&e.$raise(o(Qt,"ArgumentError"),"negative array size"),s(0===e.length)?[]:s(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},ht.$$arity=-1),t.def(Zt,"$product",mt=function(e){var r,n,i=mt.$$p,a=i||$,s=this;i&&(mt.$$p=null),i&&(mt.$$p=null),r=t.slice.call(arguments,0,arguments.length);var l,c,u,_,d=a!==$?null:[],p=(n=r).length+1,f=new Array(p),h=new Array(p),m=new Array(p),y=1;for(m[0]=s,l=1;l<p;l++)m[l]=o(Qt,"Opal").$coerce_to(n[l-1],o(Qt,"Array"),"to_ary");for(l=0;l<p;l++){if(0===(_=m[l].length))return d||s;(y*=_)>2147483647&&s.$raise(o(Qt,"RangeError"),"too big to product"),h[l]=_,f[l]=0}t:for(;;){for(u=[],l=0;l<p;l++)u.push(m[l][f[l]]);for(d?d.push(u):t.yield1(a,u),f[c=p-1]++;f[c]===h[c];){if(f[c]=0,--c<0)break t;f[c]++}}return d||s},mt.$$arity=-1),t.def(Zt,"$push",yt=function(e){for(var r,n=this,$=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;$<i;$++)n.push(r[$]);return n},yt.$$arity=-1),t.alias(Zt,"append","push"),t.def(Zt,"$rassoc",gt=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return $},gt.$$arity=1),t.def(Zt,"$reject",vt=function(){var t,e=vt.$$p,r=e||$,n=this;if(e&&(vt.$$p=null),e&&(vt.$$p=null),r===$)return c(n,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));for(var i,o=[],a=0,s=n.length;a<s;a++)!1!==(i=r(n[a]))&&i!==$||o.push(n[a]);return o},vt.$$arity=0),t.def(Zt,"$reject!",bt=function(){var t,e,r=bt.$$p,n=r||$,i=this;return r&&(bt.$$p=null),r&&(bt.$$p=null),n===$?c(i,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=i,t.$$arity=0,t)):(e=i.$length(),c(i,"delete_if",[],n.$to_proc()),i.$length()["$=="](e)?$:i)},bt.$$arity=0),t.def(Zt,"$replace",xt=function(t){var e=this;return t=s(o(Qt,"Array")["$==="](t))?t.$to_a():o(Qt,"Opal").$coerce_to(t,o(Qt,"Array"),"to_ary").$to_a(),e.splice(0,e.length),e.push.apply(e,t),e},xt.$$arity=1),t.def(Zt,"$reverse",kt=function(){return this.slice(0).reverse()},kt.$$arity=0),t.def(Zt,"$reverse!",wt=function(){return this.reverse()},wt.$$arity=0),t.def(Zt,"$reverse_each",Et=function(){var t,e=Et.$$p,r=e||$,n=this;return e&&(Et.$$p=null),e&&(Et.$$p=null),r===$?c(n,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t)):(c(n.$reverse(),"each",[],r.$to_proc()),n)},Et.$$arity=0),t.def(Zt,"$rindex",At=function(t){var e,r,n=At.$$p,i=n||$,o=this;if(n&&(At.$$p=null),n&&(At.$$p=null),null!=t&&i!==$&&o.$warn("warning: given block not used"),null!=t){for(e=o.length-1;e>=0&&!(e>=o.length);e--)if(o[e]["$=="](t))return e}else if(i!==$){for(e=o.length-1;e>=0&&!(e>=o.length);e--)if(!1!==(r=i(o[e]))&&r!==$)return e}else if(null==t)return o.$enum_for("rindex");return $},At.$$arity=-1),t.def(Zt,"$rotate",Ot=function(t){var e,r,n,$,i=this;return null==t&&(t=1),t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),1===i.length?i.slice():0===i.length?[]:(r=t%(e=i.slice()).length,n=e.slice(r),$=e.slice(0,r),n.concat($))},Ot.$$arity=-1),t.def(Zt,"$rotate!",St=function(t){var e,r=this;return null==t&&(t=1),0===r.length||1===r.length?r:(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),e=r.$rotate(t),r.$replace(e))},St.$$arity=-1),function(e,r,n){var i,l,c=a(e,null,"SampleRandom"),u=[c].concat(n);c.$$prototype.rng=$,t.def(c,"$initialize",i=function(t){return this.rng=t},i.$$arity=1),t.def(c,"$rand",l=function(t){var e,r=this;return e=o(u,"Opal").$coerce_to(r.rng.$rand(t),o(u,"Integer"),"to_int"),s(e<0)&&r.$raise(o(u,"RangeError"),"random value must be >= 0"),s(e<t)||r.$raise(o(u,"RangeError"),"random value must be less than Array size"),e},l.$$arity=1)}(Qt[0],0,Qt),t.def(Zt,"$sample",Rt=function(t,e){var r,n,i,a,l,c,u,_,d,p=this,f=$,h=$;if(s(void 0===t))return p.$at(o(Qt,"Kernel").$rand(p.length));if(s(void 0===e)?s(f=o(Qt,"Opal")["$coerce_to?"](t,o(Qt,"Hash"),"to_hash"))?(e=f,t=$):(e=$,t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int")):(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),e=o(Qt,"Opal").$coerce_to(e,o(Qt,"Hash"),"to_hash")),s(s(r=t)?t<0:r)&&p.$raise(o(Qt,"ArgumentError"),"count must be greater than 0"),s(e)&&(h=e["$[]"]("random")),h=s(s(r=h)?h["$respond_to?"]("rand"):r)?o(Qt,"SampleRandom").$new(h):o(Qt,"Kernel"),!s(t))return p[h.$rand(p.length)];switch(t>p.length&&(t=p.length),t){case 0:return[];case 1:return[p[h.$rand(p.length)]];case 2:return(l=h.$rand(p.length))===(c=h.$rand(p.length))&&(c=0===l?l+1:l-1),[p[l],p[c]];default:if(p.length/t>3){for(n=!1,i=0,l=1,(a=o(Qt,"Array").$new(t))[0]=h.$rand(p.length);l<t;){for(u=h.$rand(p.length),c=0;c<l;){for(;u===a[c];){if(++i>100){n=!0;break}u=h.$rand(p.length)}if(n)break;c++}if(n)break;a[l]=u,l++}if(!n){for(l=0;l<t;)a[l]=p[a[l]],l++;return a}}a=p.slice();for(var m=0;m<t;m++)_=h.$rand(p.length),d=a[m],a[m]=a[_],a[_]=d;return t===p.length?a:a["$[]"](0,t)}},Rt.$$arity=-1),t.def(Zt,"$select",Ct=function(){var e,r=Ct.$$p,n=r||$,i=this;if(r&&(Ct.$$p=null),r&&(Ct.$$p=null),n===$)return c(i,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e));for(var o,a,s=[],l=0,u=i.length;l<u;l++)o=i[l],a=t.yield1(n,o),t.truthy(a)&&s.push(o);return s},Ct.$$arity=0),t.def(Zt,"$select!",It=function(){var t,e=It.$$p,r=e||$,n=this;if(e&&(It.$$p=null),e&&(It.$$p=null),r===$)return c(n,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));var i=n.length;return c(n,"keep_if",[],r.$to_proc()),n.length===i?$:n},It.$$arity=0),t.def(Zt,"$shift",Tt=function(t){var e=this;return s(void 0===t)?s(0===e.length)?$:function(t){for(var e=t[0],r=1,n=t.length;r<n;r++)t[r-1]=t[r];return t.pop(),e}(e):(t=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),s(t<0)&&e.$raise(o(Qt,"ArgumentError"),"negative array size"),s(0===e.length)?[]:e.splice(0,t))},Tt.$$arity=-1),t.alias(Zt,"size","length"),t.def(Zt,"$shuffle",Lt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Lt.$$arity=-1),t.def(Zt,"$shuffle!",Nt=function(t){var e,r,n,i=this,a=i.length;for(void 0!==t&&(t=o(Qt,"Opal")["$coerce_to?"](t,o(Qt,"Hash"),"to_hash"))!==$&&(t=t["$[]"]("random"))!==$&&t["$respond_to?"]("rand")&&(e=t);a;)e?((r=e.$rand(a).$to_int())<0&&i.$raise(o(Qt,"RangeError"),"random number too small "+r),r>=a&&i.$raise(o(Qt,"RangeError"),"random number too big "+r)):r=i.$rand(a),n=i[--a],i[a]=i[r],i[r]=n;return i},Nt.$$arity=-1),t.alias(Zt,"slice","[]"),t.def(Zt,"$slice!",Ft=function(t,e){var r=this,n=$,i=$,a=$,l=$,c=$;if(n=$,s(void 0===e))if(s(o(Qt,"Range")["$==="](t))){i=t,n=r["$[]"](i),a=o(Qt,"Opal").$coerce_to(i.$begin(),o(Qt,"Integer"),"to_int"),l=o(Qt,"Opal").$coerce_to(i.$end(),o(Qt,"Integer"),"to_int"),a<0&&(a+=r.length),l<0?l+=r.length:l>=r.length&&(l=r.length-1,i.excl&&(l+=1));var u=l-a;i.excl?l-=1:u+=1,a<r.length&&a>=0&&l<r.length&&l>=0&&u>0&&r.splice(a,u)}else{if((c=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"))<0&&(c+=r.length),c<0||c>=r.length)return $;n=r[c],0===c?r.shift():r.splice(c,1)}else{if(c=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),(e=o(Qt,"Opal").$coerce_to(e,o(Qt,"Integer"),"to_int"))<0)return $;n=r["$[]"](c,e),c<0&&(c+=r.length),c+e>r.length&&(e=r.length-c),c<r.length&&c>=0&&r.splice(c,e)}return n},Ft.$$arity=-2),t.def(Zt,"$sort",Dt=function(){var t=Dt.$$p,r=t||$,n=this;return t&&(Dt.$$p=null),t&&(Dt.$$p=null),s(n.length>1)?(r===$&&(r=function(t,e){return t["$<=>"](e)}),n.slice().sort((function(t,i){var a,s,l=r(t,i);return l===$&&n.$raise(o(Qt,"ArgumentError"),"comparison of "+t.$inspect()+" with "+i.$inspect()+" failed"),e(l,0)?1:(s=0,("number"==typeof(a=l)&&"number"==typeof s?a<s:a["$<"](s))?-1:0)}))):n},Dt.$$arity=0),t.def(Zt,"$sort!",zt=function(){var t,e=zt.$$p,r=e||$,n=this;e&&(zt.$$p=null),e&&(zt.$$p=null),t=r!==$?c(n.slice(),"sort",[],r.$to_proc()):n.slice().$sort(),n.length=0;for(var i=0,o=t.length;i<o;i++)n.push(t[i]);return n},zt.$$arity=0),t.def(Zt,"$sort_by!",Bt=function(){var t,e=Bt.$$p,r=e||$,n=this;return e&&(Bt.$$p=null),e&&(Bt.$$p=null),r===$?c(n,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t)):n.$replace(c(n,"sort_by",[],r.$to_proc()))},Bt.$$arity=0),t.def(Zt,"$take",Mt=function(t){return t<0&&this.$raise(o(Qt,"ArgumentError")),this.slice(0,t)},Mt.$$arity=1),t.def(Zt,"$take_while",jt=function(){var t=jt.$$p,e=t||$;t&&(jt.$$p=null),t&&(jt.$$p=null);for(var r,n,i=[],o=0,a=this.length;o<a;o++){if(!1===(n=e(r=this[o]))||n===$)return i;i.push(r)}return i},jt.$$arity=0),t.def(Zt,"$to_a",qt=function(){return this},qt.$$arity=0),t.alias(Zt,"to_ary","to_a"),t.def(Zt,"$to_h",Pt=function(){var e,r,n,$,i=this,a=i.length,s=l([],{});for(e=0;e<a;e++)(r=o(Qt,"Opal")["$coerce_to?"](i[e],o(Qt,"Array"),"to_ary")).$$is_array||i.$raise(o(Qt,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&i.$raise(o(Qt,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],$=r[1],t.hash_put(s,n,$);return s},Pt.$$arity=0),t.alias(Zt,"to_s","inspect"),t.def(Zt,"$transpose",Ut=function(){var e,r=this,n=$,i=$;return s(r["$empty?"]())?[]:(n=[],i=$,c(r,"each",[],(e=function(r){var a,l,u=e.$$s||this;return null==r&&(r=$),r=s(o(Qt,"Array")["$==="](r))?r.$to_a():o(Qt,"Opal").$coerce_to(r,o(Qt,"Array"),"to_ary").$to_a(),i=s(a=i)?a:r.length,s(r.length["$!="](i))&&u.$raise(o(Qt,"IndexError"),"element size differs ("+r.length+" should be "+i+")"),c(r.length,"times",[],((l=function(e){l.$$s;var i,o,a,u=$;return null==e&&(e=$),(s(i=n["$[]"](e))?i:(u=[e,[]],c(n,"[]=",t.to_a(u)),u[(o=u.length,a=1,"number"==typeof o&&"number"==typeof a?o-a:o["$-"](a))]))["$<<"](r.$at(e))}).$$s=u,l.$$arity=1,l))},e.$$s=r,e.$$arity=1,e)),n)},Ut.$$arity=0),t.def(Zt,"$uniq",Ht=function(){var e=Ht.$$p,r=e||$,n=this;e&&(Ht.$$p=null),e&&(Ht.$$p=null);var i,o,a,s,c=l([],{});if(r===$)for(i=0,o=n.length;i<o;i++)a=n[i],void 0===t.hash_get(c,a)&&t.hash_put(c,a,a);else for(i=0,o=n.length;i<o;i++)a=n[i],s=t.yield1(r,a),void 0===t.hash_get(c,s)&&t.hash_put(c,s,a);return te(c.$values(),n.$class())},Ht.$$arity=0),t.def(Zt,"$uniq!",Yt=function(){var e=Yt.$$p,r=e||$,n=this;e&&(Yt.$$p=null),e&&(Yt.$$p=null);var i,o,a,s,c=n.length,u=l([],{});for(i=0,o=c;i<o;i++)a=n[i],s=r===$?a:t.yield1(r,a),void 0!==t.hash_get(u,s)?(n.splice(i,1),o--,i--):t.hash_put(u,s,a);return n.length===c?$:n},Yt.$$arity=0),t.def(Zt,"$unshift",Gt=function(e){for(var r,n=this,$=(r=t.slice.call(arguments,0,arguments.length)).length-1;$>=0;$--)n.unshift(r[$]);return n},Gt.$$arity=-1),t.alias(Zt,"prepend","unshift"),t.def(Zt,"$values_at",Wt=function(e){var r,n,i=this,a=$;return r=t.slice.call(arguments,0,arguments.length),a=[],c(r,"each",[],(n=function(t){var e,r=n.$$s||this,i=$,l=$,u=$;return null==t&&(t=$),s(t["$is_a?"](o(Qt,"Range")))?(i=o(Qt,"Opal").$coerce_to(t.$last(),o(Qt,"Integer"),"to_int"),(l=o(Qt,"Opal").$coerce_to(t.$first(),o(Qt,"Integer"),"to_int"))<0?(l+=r.length,$):(i<0&&(i+=r.length),t["$exclude_end?"]()&&i--,i<l?$:c(l,"upto",[i],(e=function(t){var r=e.$$s||this;return null==t&&(t=$),a["$<<"](r.$at(t))},e.$$s=r,e.$$arity=1,e)))):(u=o(Qt,"Opal").$coerce_to(t,o(Qt,"Integer"),"to_int"),a["$<<"](r.$at(u)))},n.$$s=i,n.$$arity=1,n)),a},Wt.$$arity=-1),t.def(Zt,"$zip",Xt=function(e){var r,n,i=Xt.$$p,a=i||$,l=this;i&&(Xt.$$p=null),i&&(Xt.$$p=null),r=t.slice.call(arguments,0,arguments.length);var c,u,_,d,p,f=[],h=l.length;for(d=0,p=r.length;d<p;d++)(u=r[d]).$$is_array||(u.$$is_enumerator?u.$size()===1/0?r[d]=u.$take(h):r[d]=u.$to_a():r[d]=(s(n=o(Qt,"Opal")["$coerce_to?"](u,o(Qt,"Array"),"to_ary"))?n:o(Qt,"Opal")["$coerce_to!"](u,o(Qt,"Enumerator"),"each")).$to_a());for(_=0;_<h;_++){for(c=[l[_]],d=0,p=r.length;d<p;d++)null==(u=r[d][_])&&(u=$),c[d+1]=u;f[_]=c}if(a!==$){for(_=0;_<h;_++)a(f[_]);return $}return f},Xt.$$arity=-1),t.defs(Zt,"$inherited",Kt=function(t){t.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Kt.$$arity=1),t.def(Zt,"$instance_variables",Vt=function(){var e,r=Vt.$$p,n=this,i=$,o=$,a=$;for(r&&(Vt.$$p=null),o=0,a=arguments.length,i=new Array(a);o<a;o++)i[o]=arguments[o];return c(c(n,t.find_super_dispatcher(n,"instance_variables",Vt,!1),i,r),"reject",[],((e=function(t){var r;e.$$s;return null==t&&(t=$),s(r=/^@\d+$/.test(t))?r:t["$=="]("@length")}).$$s=n,e.$$arity=1,e))},Vt.$$arity=0),o(Qt,"Opal").$pristine(Zt.$singleton_class(),"allocate"),o(Qt,"Opal").$pristine(Zt,"copy_instance_variables","initialize_dup"),t.def(Zt,"$pack",Jt=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Jt.$$arity=-1),$&&"pack"}(n[0],0,n)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),n.$require("corelib/enumerable"),function(n,$,u){var _,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut,_t,dt,pt,ft,ht,mt,yt,gt,vt,bt=a(n,null,"Hash"),xt=[bt].concat(u);return bt.$include(o(xt,"Enumerable")),bt.$$prototype.$$is_hash=!0,t.defs(bt,"$[]",_=function(e){var r,n,$,a=this,s=(r=t.slice.call(arguments,0,arguments.length)).length;if(1===s){if((n=o(xt,"Opal")["$coerce_to?"](r["$[]"](0),o(xt,"Hash"),"to_hash"))!==i)return a.$allocate()["$merge!"](n);for((r=o(xt,"Opal")["$coerce_to?"](r["$[]"](0),o(xt,"Array"),"to_ary"))===i&&a.$raise(o(xt,"ArgumentError"),"odd number of arguments for Hash"),s=r.length,n=a.$allocate(),$=0;$<s;$++)if(r[$].$$is_array)switch(r[$].length){case 1:n.$store(r[$][0],i);break;case 2:n.$store(r[$][0],r[$][1]);break;default:a.$raise(o(xt,"ArgumentError"),"invalid number of elements ("+r[$].length+" for 1..2)")}return n}for(s%2!=0&&a.$raise(o(xt,"ArgumentError"),"odd number of arguments for Hash"),n=a.$allocate(),$=0;$<s;$+=2)n.$store(r[$],r[$+1]);return n},_.$$arity=-1),t.defs(bt,"$allocate",d=function(){var e=new this.$$constructor;return t.hash_init(e),e.$$none=i,e.$$proc=i,e},d.$$arity=0),t.defs(bt,"$try_convert",p=function(t){return o(xt,"Opal")["$coerce_to?"](t,o(xt,"Hash"),"to_hash")},p.$$arity=1),t.def(bt,"$initialize",f=function(t){var e=f.$$p,r=e||i,n=this;return e&&(f.$$p=null),e&&(f.$$p=null),void 0!==t&&r!==i&&n.$raise(o(xt,"ArgumentError"),"wrong number of arguments (1 for 0)"),n.$$none=void 0===t?i:t,n.$$proc=r,n},f.$$arity=-1),t.def(bt,"$==",h=function(e){var r=this;if(r===e)return!0;if(!e.$$is_hash)return!1;if(r.$$keys.length!==e.$$keys.length)return!1;for(var n,$,i,o=0,a=r.$$keys,s=a.length;o<s;o++)if((n=a[o]).$$is_string?($=r.$$smap[n],i=e.$$smap[n]):($=n.value,i=t.hash_get(e,n.key)),void 0===i||!$["$eql?"](i))return!1;return!0},h.$$arity=1),t.def(bt,"$>=",m=function(t){var e,r=i;return t=o(xt,"Opal")["$coerce_to!"](t,o(xt,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(r=!0,s(t,"each",[],(e=function(t,n){var $,o=e.$$s||this;null==t&&(t=i),null==n&&(n=i),null!=($=o.$fetch(t,null))&&$===n||(r=!1)},e.$$s=this,e.$$arity=2,e)),r)},m.$$arity=1),t.def(bt,"$>",y=function(t){return t=o(xt,"Opal")["$coerce_to!"](t,o(xt,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&e(this,t)},y.$$arity=1),t.def(bt,"$<",g=function(t){var e,r;return t=o(xt,"Opal")["$coerce_to!"](t,o(xt,"Hash"),"to_hash"),r=this,"number"==typeof(e=t)&&"number"==typeof r?e>r:e["$>"](r)},g.$$arity=1),t.def(bt,"$<=",v=function(t){return e(t=o(xt,"Opal")["$coerce_to!"](t,o(xt,"Hash"),"to_hash"),this)},v.$$arity=1),t.def(bt,"$[]",b=function(e){var r=t.hash_get(this,e);return void 0!==r?r:this.$default(e)},b.$$arity=1),t.def(bt,"$[]=",x=function(e,r){return t.hash_put(this,e,r),r},x.$$arity=2),t.def(bt,"$assoc",k=function(t){for(var e,r=0,n=this.$$keys,$=n.length;r<$;r++)if((e=n[r]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return i},k.$$arity=1),t.def(bt,"$clear",w=function(){return t.hash_init(this),this},w.$$arity=0),t.def(bt,"$clone",E=function(){var e=new this.$$class;return t.hash_init(e),t.hash_clone(this,e),e},E.$$arity=0),t.def(bt,"$compact",A=function(){for(var e,r,n=t.hash(),$=0,o=this.$$keys,a=o.length;$<a;$++)(e=o[$]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r!==i&&t.hash_put(n,e,r);return n},A.$$arity=0),t.def(bt,"$compact!",O=function(){for(var e,r,n=this,$=!1,o=0,a=n.$$keys,s=a.length;o<s;o++)(e=a[o]).$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r===i&&void 0!==t.hash_delete(n,e)&&($=!0,s--,o--);return $?n:i},O.$$arity=0),t.def(bt,"$compare_by_identity",S=function(){var e,r,n,$,i=this,o=i.$$keys;if(i.$$by_identity)return i;if(0===i.$$keys.length)return i.$$by_identity=!0,i;for($=l([],{}).$compare_by_identity(),e=0,r=o.length;e<r;e++)(n=o[e]).$$is_string||(n=n.key),t.hash_put($,n,t.hash_get(i,n));return i.$$by_identity=!0,i.$$map=$.$$map,i.$$smap=$.$$smap,i},S.$$arity=0),t.def(bt,"$compare_by_identity?",R=function(){return!0===this.$$by_identity},R.$$arity=0),t.def(bt,"$default",C=function(t){var e=this;return void 0!==t&&e.$$proc!==i&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?i:e.$$none},C.$$arity=-1),t.def(bt,"$default=",I=function(t){return this.$$proc=i,this.$$none=t,t},I.$$arity=1),t.def(bt,"$default_proc",T=function(){return void 0!==this.$$proc?this.$$proc:i},T.$$arity=0),t.def(bt,"$default_proc=",L=function(t){var e=this,r=t;return r!==i&&(r=o(xt,"Opal")["$coerce_to!"](r,o(xt,"Proc"),"to_proc"))["$lambda?"]()&&2!==r.$arity().$abs()&&e.$raise(o(xt,"TypeError"),"default_proc takes two arguments"),e.$$none=i,e.$$proc=r,t},L.$$arity=1),t.def(bt,"$delete",N=function(e){var r=N.$$p,n=r||i;r&&(N.$$p=null),r&&(N.$$p=null);var $=t.hash_delete(this,e);return void 0!==$?$:n!==i?t.yield1(n,e):i},N.$$arity=1),t.def(bt,"$delete_if",F=function(){var e,r=F.$$p,n=r||i,$=this;if(r&&(F.$$p=null),r&&(F.$$p=null),!c(n))return s($,"enum_for",["delete_if"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l,u=0,_=$.$$keys,d=_.length;u<d;u++)(o=_[u]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),!1!==(l=n(o,a))&&l!==i&&void 0!==t.hash_delete($,o)&&(d--,u--);return $},F.$$arity=0),t.alias(bt,"dup","clone"),t.def(bt,"$dig",D=function(e,r){var n,$=this,a=i;return n=t.slice.call(arguments,1,arguments.length),(a=$["$[]"](e))===i||0===n.length?a:(c(a["$respond_to?"]("dig"))||$.$raise(o(xt,"TypeError"),a.$class()+" does not have #dig method"),s(a,"dig",t.to_a(n)))},D.$$arity=-2),t.def(bt,"$each",z=function(){var e,r=z.$$p,n=r||i,$=this;if(r&&(z.$$p=null),r&&(z.$$p=null),!c(n))return s($,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l=0,u=$.$$keys,_=u.length;l<_;l++)(o=u[l]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),t.yield1(n,[o,a]);return $},z.$$arity=0),t.def(bt,"$each_key",B=function(){var t,e=B.$$p,r=e||i,n=this;if(e&&(B.$$p=null),e&&(B.$$p=null),!c(r))return s(n,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));for(var $,o=0,a=n.$$keys,l=a.length;o<l;o++)r(($=a[o]).$$is_string?$:$.key);return n},B.$$arity=0),t.alias(bt,"each_pair","each"),t.def(bt,"$each_value",M=function(){var t,e=M.$$p,r=e||i,n=this;if(e&&(M.$$p=null),e&&(M.$$p=null),!c(r))return s(n,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));for(var $,o=0,a=n.$$keys,l=a.length;o<l;o++)r(($=a[o]).$$is_string?n.$$smap[$]:$.value);return n},M.$$arity=0),t.def(bt,"$empty?",j=function(){return 0===this.$$keys.length},j.$$arity=0),t.alias(bt,"eql?","=="),t.def(bt,"$fetch",q=function(e,r){var n=q.$$p,$=n||i,a=this;n&&(q.$$p=null),n&&(q.$$p=null);var s=t.hash_get(a,e);return void 0!==s?s:$!==i?$(e):void 0!==r?r:a.$raise(o(xt,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:a})))},q.$$arity=-2),t.def(bt,"$fetch_values",P=function(e){var r,n,$=P.$$p,o=$||i,a=this;return $&&(P.$$p=null),$&&(P.$$p=null),r=t.slice.call(arguments,0,arguments.length),s(r,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=i),s(e,"fetch",[t],o.$to_proc())},n.$$s=a,n.$$arity=1,n))},P.$$arity=-1),t.def(bt,"$flatten",U=function(t){null==t&&(t=1),t=o(xt,"Opal")["$coerce_to!"](t,o(xt,"Integer"),"to_int");for(var e,r,n=[],$=0,i=this.$$keys,a=i.length;$<a;$++)if((e=i[$]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array){if(1===t){n.push(r);continue}n=n.concat(r.$flatten(t-2))}else n.push(r);return n},U.$$arity=-1),t.def(bt,"$has_key?",H=function(e){return void 0!==t.hash_get(this,e)},H.$$arity=1),t.def(bt,"$has_value?",Y=function(t){for(var e,r=0,n=this.$$keys,$=n.length;r<$;r++)if(((e=n[r]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},Y.$$arity=1),t.def(bt,"$hash",G=function(){var e,r,n=this,$=void 0===t.hash_ids,i=n.$object_id(),o=["Hash"];try{if($&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],n["$eql?"](r))return"self";t.hash_ids[i]=n;for(var a=0,s=n.$$keys,l=s.length;a<l;a++)(e=s[a]).$$is_string?o.push([e,n.$$smap[e].$hash()]):o.push([e.key_hash,e.value.$hash()]);return o.sort().join()}finally{$&&(t.hash_ids=void 0)}},G.$$arity=0),t.alias(bt,"include?","has_key?"),t.def(bt,"$index",W=function(t){for(var e,r,n=0,$=this.$$keys,o=$.length;n<o;n++)if((e=$[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return i},W.$$arity=1),t.def(bt,"$indexes",X=function(e){for(var r,n,$,i=this,o=[],a=0,s=(r=t.slice.call(arguments,0,arguments.length)).length;a<s;a++)n=r[a],void 0!==($=t.hash_get(i,n))?o.push($):o.push(i.$default());return o},X.$$arity=-1),t.alias(bt,"indices","indexes"),t.def(bt,"$inspect",K=function(){var t=this,e=void 0===vt,r=t.$object_id(),n=[];try{if(e&&(vt={}),vt.hasOwnProperty(r))return"{...}";vt[r]=!0;for(var $,i,o=0,a=t.$$keys,s=a.length;o<s;o++)($=a[o]).$$is_string?i=t.$$smap[$]:(i=$.value,$=$.key),n.push($.$inspect()+"=>"+i.$inspect());return"{"+n.join(", ")+"}"}finally{e&&(vt=void 0)}},K.$$arity=0),t.def(bt,"$invert",V=function(){for(var e,r,n=t.hash(),$=0,i=this.$$keys,o=i.length;$<o;$++)(e=i[$]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),t.hash_put(n,r,e);return n},V.$$arity=0),t.def(bt,"$keep_if",J=function(){var e,r=J.$$p,n=r||i,$=this;if(r&&(J.$$p=null),r&&(J.$$p=null),!c(n))return s($,"enum_for",["keep_if"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l,u=0,_=$.$$keys,d=_.length;u<d;u++)(o=_[u]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),!1!==(l=n(o,a))&&l!==i||void 0!==t.hash_delete($,o)&&(d--,u--);return $},J.$$arity=0),t.alias(bt,"key","index"),t.alias(bt,"key?","has_key?"),t.def(bt,"$keys",Z=function(){for(var t,e=[],r=0,n=this.$$keys,$=n.length;r<$;r++)(t=n[r]).$$is_string?e.push(t):e.push(t.key);return e},Z.$$arity=0),t.def(bt,"$length",Q=function(){return this.$$keys.length},Q.$$arity=0),t.alias(bt,"member?","has_key?"),t.def(bt,"$merge",tt=function(t){var e=tt.$$p,r=e||i;return e&&(tt.$$p=null),e&&(tt.$$p=null),s(this.$dup(),"merge!",[t],r.$to_proc())},tt.$$arity=1),t.def(bt,"$merge!",et=function(e){var r=et.$$p,n=r||i,$=this;r&&(et.$$p=null),r&&(et.$$p=null),e.$$is_hash||(e=o(xt,"Opal")["$coerce_to!"](e,o(xt,"Hash"),"to_hash"));var a,s,l,c,u=e.$$keys,_=u.length;if(n===i){for(a=0;a<_;a++)(s=u[a]).$$is_string?c=e.$$smap[s]:(c=s.value,s=s.key),t.hash_put($,s,c);return $}for(a=0;a<_;a++)(s=u[a]).$$is_string?c=e.$$smap[s]:(c=s.value,s=s.key),void 0!==(l=t.hash_get($,s))?t.hash_put($,s,n(s,l,c)):t.hash_put($,s,c);return $},et.$$arity=1),t.def(bt,"$rassoc",rt=function(t){for(var e,r,n=0,$=this.$$keys,o=$.length;n<o;n++)if((e=$[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return i},rt.$$arity=1),t.def(bt,"$rehash",nt=function(){return t.hash_rehash(this),this},nt.$$arity=0),t.def(bt,"$reject",$t=function(){var e,r=$t.$$p,n=r||i,$=this;if(r&&($t.$$p=null),r&&($t.$$p=null),!c(n))return s($,"enum_for",["reject"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l,u=t.hash(),_=0,d=$.$$keys,p=d.length;_<p;_++)(o=d[_]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),!1!==(l=n(o,a))&&l!==i||t.hash_put(u,o,a);return u},$t.$$arity=0),t.def(bt,"$reject!",it=function(){var e,r=it.$$p,n=r||i,$=this;if(r&&(it.$$p=null),r&&(it.$$p=null),!c(n))return s($,"enum_for",["reject!"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l,u=!1,_=0,d=$.$$keys,p=d.length;_<p;_++)(o=d[_]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),!1!==(l=n(o,a))&&l!==i&&void 0!==t.hash_delete($,o)&&(u=!0,p--,_--);return u?$:i},it.$$arity=0),t.def(bt,"$replace",ot=function(e){var n=this,$=i;e=o(xt,"Opal")["$coerce_to!"](e,o(xt,"Hash"),"to_hash"),t.hash_init(n);for(var a,l,u=0,_=e.$$keys,d=_.length;u<d;u++)(a=_[u]).$$is_string?l=e.$$smap[a]:(l=a.value,a=a.key),t.hash_put(n,a,l);return c(e.$default_proc())?($=[e.$default_proc()],s(n,"default_proc=",t.to_a($)),$[r($.length,1)]):($=[e.$default()],s(n,"default=",t.to_a($)),$[r($.length,1)]),n},ot.$$arity=1),t.def(bt,"$select",at=function(){var e,r=at.$$p,n=r||i,$=this;if(r&&(at.$$p=null),r&&(at.$$p=null),!c(n))return s($,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l,u=t.hash(),_=0,d=$.$$keys,p=d.length;_<p;_++)(o=d[_]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),!1!==(l=n(o,a))&&l!==i&&t.hash_put(u,o,a);return u},at.$$arity=0),t.def(bt,"$select!",st=function(){var e,r=st.$$p,n=r||i,$=this;if(r&&(st.$$p=null),r&&(st.$$p=null),!c(n))return s($,"enum_for",["select!"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l,u=i,_=0,d=$.$$keys,p=d.length;_<p;_++)(o=d[_]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),!1!==(l=n(o,a))&&l!==i||(void 0!==t.hash_delete($,o)&&(p--,_--),u=$);return u},st.$$arity=0),t.def(bt,"$shift",lt=function(){var e,r=this,n=r.$$keys;return n.length>0?[e=(e=n[0]).$$is_string?e:e.key,t.hash_delete(r,e)]:r.$default(i)},lt.$$arity=0),t.alias(bt,"size","length"),t.def(bt,"$slice",ct=function(e){var r,n=this;r=t.slice.call(arguments,0,arguments.length);for(var $=t.hash(),i=0,o=r.length;i<o;i++){var a=r[i],s=t.hash_get(n,a);void 0!==s&&t.hash_put($,a,s)}return $},ct.$$arity=-1),t.alias(bt,"store","[]="),t.def(bt,"$to_a",ut=function(){for(var t,e,r=[],n=0,$=this.$$keys,i=$.length;n<i;n++)(t=$[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},ut.$$arity=0),t.def(bt,"$to_h",_t=function(){var e=this;if(e.$$class===t.Hash)return e;var r=new t.Hash;return t.hash_init(r),t.hash_clone(e,r),r},_t.$$arity=0),t.def(bt,"$to_hash",dt=function(){return this},dt.$$arity=0),t.def(bt,"$to_proc",pt=function(){var t;return s(this,"proc",[],(t=function(e){var r=t.$$s||this;return null==e&&r.$raise(o(xt,"ArgumentError"),"no key given"),r["$[]"](e)},t.$$s=this,t.$$arity=-1,t))},pt.$$arity=0),t.alias(bt,"to_s","inspect"),t.def(bt,"$transform_keys",ft=function(){var e,r=ft.$$p,n=r||i,$=this;if(r&&(ft.$$p=null),r&&(ft.$$p=null),!c(n))return s($,"enum_for",["transform_keys"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l=t.hash(),u=0,_=$.$$keys,d=_.length;u<d;u++)(o=_[u]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),o=t.yield1(n,o),t.hash_put(l,o,a);return l},ft.$$arity=0),t.def(bt,"$transform_keys!",ht=function(){var e,r=ht.$$p,n=r||i,$=this;if(r&&(ht.$$p=null),r&&(ht.$$p=null),!c(n))return s($,"enum_for",["transform_keys!"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));var o,a,l,u,_=t.slice.call($.$$keys),d=_.length;for(o=0;o<d;o++)(a=_[o]).$$is_string?l=$.$$smap[a]:(l=a.value,a=a.key),u=t.yield1(n,a),t.hash_delete($,a),t.hash_put($,u,l);return $},ht.$$arity=0),t.def(bt,"$transform_values",mt=function(){var e,r=mt.$$p,n=r||i,$=this;if(r&&(mt.$$p=null),r&&(mt.$$p=null),!c(n))return s($,"enum_for",["transform_values"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l=t.hash(),u=0,_=$.$$keys,d=_.length;u<d;u++)(o=_[u]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),a=t.yield1(n,a),t.hash_put(l,o,a);return l},mt.$$arity=0),t.def(bt,"$transform_values!",yt=function(){var e,r=yt.$$p,n=r||i,$=this;if(r&&(yt.$$p=null),r&&(yt.$$p=null),!c(n))return s($,"enum_for",["transform_values!"],((e=function(){return(e.$$s||this).$size()}).$$s=$,e.$$arity=0,e));for(var o,a,l=0,u=$.$$keys,_=u.length;l<_;l++)(o=u[l]).$$is_string?a=$.$$smap[o]:(a=o.value,o=o.key),a=t.yield1(n,a),t.hash_put($,o,a);return $},yt.$$arity=0),t.alias(bt,"update","merge!"),t.alias(bt,"value?","has_value?"),t.alias(bt,"values_at","indexes"),t.def(bt,"$values",gt=function(){for(var t,e=[],r=0,n=this.$$keys,$=n.length;r<$;r++)(t=n[r]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},gt.$$arity=0),i&&"values"}($[0],0,$)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var a=t.top,s=[],l=t.nil,c=t.const_get_qualified,u=t.const_get_relative,_=(t.breaker,t.slice,t.klass),d=t.truthy,p=t.send,f=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),a.$require("corelib/numeric"),function(a,s,h){var m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut,_t,dt,pt,ft,ht,mt,yt,gt,vt,bt,xt,kt,wt,Et,At,Ot,St,Rt,Ct,It,Tt,Lt,Nt,Ft=_(a,s,"Number"),Dt=[Ft].concat(h);u(Dt,"Opal").$bridge(Number,Ft),t.defineProperty(Ft.$$prototype,"$$is_number",!0),Ft.$$is_number_class=!0,function(e,r){var n,$=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u($,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(Ft),Dt),t.def(Ft,"$coerce",m=function(t){var e=this;if(t===l)e.$raise(u(Dt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[e.$Float(t),e];if(t["$respond_to?"]("to_f"))return[u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Float"),"to_f"),e];if(t.$$is_number)return[t,e];e.$raise(u(Dt,"TypeError"),"can't convert "+t.$class()+" into Float")}},m.$$arity=1),t.def(Ft,"$__id__",y=function(){return 2*this+1},y.$$arity=0),t.alias(Ft,"object_id","__id__"),t.def(Ft,"$+",g=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},g.$$arity=1),t.def(Ft,"$-",v=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},v.$$arity=1),t.def(Ft,"$*",b=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},b.$$arity=1),t.def(Ft,"$/",x=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},x.$$arity=1),t.alias(Ft,"fdiv","/"),t.def(Ft,"$%",k=function(t){var e=this;return t.$$is_number?t==-1/0?t:0!=t?t<0||e<0?(e%t+t)%t:e%t:void e.$raise(u(Dt,"ZeroDivisionError"),"divided by 0"):e.$__coerced__("%",t)},k.$$arity=1),t.def(Ft,"$&",w=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},w.$$arity=1),t.def(Ft,"$|",E=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},E.$$arity=1),t.def(Ft,"$^",A=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},A.$$arity=1),t.def(Ft,"$<",O=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},O.$$arity=1),t.def(Ft,"$<=",S=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},S.$$arity=1),t.def(Ft,"$>",R=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},R.$$arity=1),t.def(Ft,"$>=",C=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},C.$$arity=1);t.def(Ft,"$<=>",I=function(e){try{return function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?l:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)}(this,e)}catch(e){if(!t.rescue(e,[u(Dt,"ArgumentError")]))throw e;try{return l}finally{t.pop_exception()}}},I.$$arity=1),t.def(Ft,"$<<",T=function(t){return(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"))>0?this<<t:this>>-t},T.$$arity=1),t.def(Ft,"$>>",L=function(t){return(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"))>0?this>>t:this<<-t},L.$$arity=1),t.def(Ft,"$[]",N=function(t){return(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"))<0?0:t>=32?this<0?1:0:this>>t&1},N.$$arity=1),t.def(Ft,"$+@",F=function(){return+this},F.$$arity=0),t.def(Ft,"$-@",D=function(){return-this},D.$$arity=0),t.def(Ft,"$~",z=function(){return~this},z.$$arity=0),t.def(Ft,"$**",B=function(t){var n,$,i=this;return d(u(Dt,"Integer")["$==="](t))?d(d(n=u(Dt,"Integer")["$==="](i)["$!"]())?n:e(t,0))?Math.pow(i,t):u(Dt,"Rational").$new(i,1)["$**"](t):d((n=r(i,0))?d($=u(Dt,"Float")["$==="](t))?$:u(Dt,"Rational")["$==="](t):r(i,0))?u(Dt,"Complex").$new(i,0)["$**"](t.$to_f()):d(null!=t.$$is_number)?Math.pow(i,t):i.$__coerced__("**",t)},B.$$arity=1),t.def(Ft,"$===",M=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},M.$$arity=1),t.def(Ft,"$==",j=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},j.$$arity=1),t.def(Ft,"$abs",q=function(){return Math.abs(this)},q.$$arity=0),t.def(Ft,"$abs2",P=function(){return Math.abs(this*this)},P.$$arity=0),t.def(Ft,"$allbits?",U=function(t){return(this&(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int")))==t},U.$$arity=1),t.def(Ft,"$anybits?",H=function(t){return 0!=(this&(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int")))},H.$$arity=1),t.def(Ft,"$angle",Y=function(){var t=this;return d(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},Y.$$arity=0),t.alias(Ft,"arg","angle"),t.alias(Ft,"phase","angle"),t.def(Ft,"$bit_length",G=function(){var t=this;if(d(u(Dt,"Integer")["$==="](t))||t.$raise(u(Dt,"NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||-1===t)return 0;for(var e=0,r=t<0?~t:t;0!=r;)e+=1,r>>>=1;return e},G.$$arity=0),t.def(Ft,"$ceil",W=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.ceil(e*r)/r;return e%1==0&&(n=Math.round(n)),n},W.$$arity=-1),t.def(Ft,"$chr",X=function(t){return String.fromCharCode(this)},X.$$arity=-1),t.def(Ft,"$denominator",K=function(){var e,r=K.$$p,n=this,$=l,i=l,o=l;for(r&&(K.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return d(d(e=n["$nan?"]())?e:n["$infinite?"]())?1:p(n,t.find_super_dispatcher(n,"denominator",K,!1),$,r)},K.$$arity=0),t.def(Ft,"$downto",V=function(t){var r,i=V.$$p,o=i||l,a=this;if(i&&(V.$$p=null),i&&(V.$$p=null),o===l)return p(a,"enum_for",["downto",t],(r=function(){var i=r.$$s||this;return d(u(Dt,"Numeric")["$==="](t))||i.$raise(u(Dt,"ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed"),d(e(t,i))?0:n($(i,t),1)},r.$$s=a,r.$$arity=0,r));t.$$is_number||a.$raise(u(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var s=a;s>=t;s--)o(s);return a},V.$$arity=1),t.alias(Ft,"eql?","=="),t.def(Ft,"$equal?",J=function(t){var e;return d(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},J.$$arity=1),t.def(Ft,"$even?",Z=function(){return this%2==0},Z.$$arity=0),t.def(Ft,"$floor",Q=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.floor(e*r)/r;return e%1==0&&(n=Math.round(n)),n},Q.$$arity=-1),t.def(Ft,"$gcd",tt=function(t){d(u(Dt,"Integer")["$==="](t))||this.$raise(u(Dt,"TypeError"),"not an integer");for(var e=Math.abs(this),r=Math.abs(t);e>0;){var n=e;e=r%e,r=n}return r},tt.$$arity=1),t.def(Ft,"$gcdlcm",et=function(t){return[this.$gcd(),this.$lcm()]},et.$$arity=1),t.def(Ft,"$integer?",rt=function(){return this%1==0},rt.$$arity=0),t.def(Ft,"$is_a?",nt=function(e){var r=nt.$$p,n=this,$=l,i=l,o=l;for(r&&(nt.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return!!d(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](n):e["$=="](u(Dt,"Integer")))||(!!d(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](n):e["$=="](u(Dt,"Integer")))||(!!d(e["$=="](u(Dt,"Float"))?u(Dt,"Float")["$==="](n):e["$=="](u(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"is_a?",nt,!1),$,r)))},nt.$$arity=1),t.alias(Ft,"kind_of?","is_a?"),t.def(Ft,"$instance_of?",$t=function(e){var r=$t.$$p,n=this,$=l,i=l,o=l;for(r&&($t.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return!!d(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](n):e["$=="](u(Dt,"Integer")))||(!!d(e["$=="](u(Dt,"Integer"))?u(Dt,"Integer")["$==="](n):e["$=="](u(Dt,"Integer")))||(!!d(e["$=="](u(Dt,"Float"))?u(Dt,"Float")["$==="](n):e["$=="](u(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"instance_of?",$t,!1),$,r)))},$t.$$arity=1),t.def(Ft,"$lcm",it=function(t){var e=this;return d(u(Dt,"Integer")["$==="](t))||e.$raise(u(Dt,"TypeError"),"not an integer"),0==e||0==t?0:Math.abs(e*t/e.$gcd(t))},it.$$arity=1),t.alias(Ft,"magnitude","abs"),t.alias(Ft,"modulo","%"),t.def(Ft,"$next",ot=function(){return this+1},ot.$$arity=0),t.def(Ft,"$nobits?",at=function(t){return 0==(this&(t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int")))},at.$$arity=1),t.def(Ft,"$nonzero?",st=function(){return 0==this?l:this},st.$$arity=0),t.def(Ft,"$numerator",lt=function(){var e,r=lt.$$p,n=this,$=l,i=l,o=l;for(r&&(lt.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return d(d(e=n["$nan?"]())?e:n["$infinite?"]())?n:p(n,t.find_super_dispatcher(n,"numerator",lt,!1),$,r)},lt.$$arity=0),t.def(Ft,"$odd?",ct=function(){return this%2!=0},ct.$$arity=0),t.def(Ft,"$ord",ut=function(){return this},ut.$$arity=0),t.def(Ft,"$pow",_t=function(t,e){var r=this;return 0==r&&r.$raise(u(Dt,"ZeroDivisionError"),"divided by 0"),void 0===e?r["$**"](t):(u(Dt,"Integer")["$==="](t)||r.$raise(u(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&r.$raise(u(Dt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),u(Dt,"Integer")["$==="](e)||r.$raise(u(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&r.$raise(u(Dt,"ZeroDivisionError"),"divided by 0"),r["$**"](t)["$%"](e))},_t.$$arity=-2),t.def(Ft,"$pred",dt=function(){return this-1},dt.$$arity=0),t.def(Ft,"$quo",pt=function(e){var r=pt.$$p,n=this,$=l,o=l,a=l;for(r&&(pt.$$p=null),o=0,a=arguments.length,$=new Array(a);o<a;o++)$[o]=arguments[o];return d(u(Dt,"Integer")["$==="](n))?p(n,t.find_super_dispatcher(n,"quo",pt,!1),$,r):i(n,e)},pt.$$arity=1),t.def(Ft,"$rationalize",ft=function(e){var r,n,i=this,a=l,s=l;return arguments.length>1&&i.$raise(u(Dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(u(Dt,"Integer")["$==="](i))?u(Dt,"Rational").$new(i,1):d(i["$infinite?"]())?i.$raise(u(Dt,"FloatDomainError"),"Infinity"):d(i["$nan?"]())?i.$raise(u(Dt,"FloatDomainError"),"NaN"):d(null==e)?(n=u(Dt,"Math").$frexp(i),a=null==(r=t.to_ary(n))[0]?l:r[0],s=null==r[1]?l:r[1],a=u(Dt,"Math").$ldexp(a,c(u(Dt,"Float"),"MANT_DIG")).$to_i(),s=$(s,c(u(Dt,"Float"),"MANT_DIG")),u(Dt,"Rational").$new(o(2,a),1["$<<"]($(1,s))).$rationalize(u(Dt,"Rational").$new(1,1["$<<"]($(1,s))))):i.$to_r().$rationalize(e)},ft.$$arity=-1),t.def(Ft,"$remainder",ht=function(t){return $(this,o(t,i(this,t).$truncate()))},ht.$$arity=1),t.def(Ft,"$round",mt=function(o){var a,s,_,p,f=this,h=l;if(d(u(Dt,"Integer")["$==="](f))){if(d(null==o))return f;if(d(d(a=u(Dt,"Float")["$==="](o))?o["$infinite?"]():a)&&f.$raise(u(Dt,"RangeError"),"Infinity"),o=u(Dt,"Opal")["$coerce_to!"](o,u(Dt,"Integer"),"to_int"),d(r(o,c(u(Dt,"Integer"),"MIN")))&&f.$raise(u(Dt,"RangeError"),"out of bounds"),d(o>=0))return f;if(.415241*(o=o["$-@"]())-.125>f.$size())return 0;var m=Math.pow(10,o),y=Math.floor((Math.abs(y)+m/2)/m)*m;return f<0?-y:y}if(d(d(a=f["$nan?"]())?null==o:a)&&f.$raise(u(Dt,"FloatDomainError"),"NaN"),o=u(Dt,"Opal")["$coerce_to!"](o||0,u(Dt,"Integer"),"to_int"),d((p=0,"number"==typeof(_=o)&&"number"==typeof p?_<=p:_["$<="](p))))d(f["$nan?"]())?f.$raise(u(Dt,"RangeError"),"NaN"):d(f["$infinite?"]())&&f.$raise(u(Dt,"FloatDomainError"),"Infinity");else{if(o["$=="](0))return Math.round(f);if(d(d(a=f["$nan?"]())?a:f["$infinite?"]()))return f}return s=u(Dt,"Math").$frexp(f),null==(a=t.to_ary(s))[0]?l:a[0],h=null==a[1]?l:a[1],d(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(o,$(n(c(u(Dt,"Float"),"DIG"),2),d(e(h,0))?i(h,4):$(i(h,3),1))))?f:d(r(o,(d(e(h,0))?n(i(h,3),1):i(h,4))["$-@"]()))?0:Math.round(f*Math.pow(10,o))/Math.pow(10,o)},mt.$$arity=-1),t.def(Ft,"$step",yt=function(e,r,n){var $,i,o,a,s,_,d,h=yt.$$p,m=h||l,y=this,g=l,v=l;if(h&&(yt.$$p=null),h&&(yt.$$p=null),$=t.slice.call(arguments,0,arguments.length),null==(i=t.extract_kwargs($)))i=f([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");function b(){void 0!==s&&(o=s),void 0===o&&(o=l),a===l&&y.$raise(u(Dt,"TypeError"),"step must be numeric"),0===a&&y.$raise(u(Dt,"ArgumentError"),"step can't be 0"),void 0!==_&&(a=_),a!==l&&null!=a||(a=1);var t=a["$<=>"](0);t===l&&y.$raise(u(Dt,"ArgumentError"),"0 can't be coerced into "+a.$class()),o!==l&&null!=o||(o=t>0?c(u(Dt,"Float"),"INFINITY"):c(u(Dt,"Float"),"INFINITY")["$-@"]()),u(Dt,"Opal").$compare(y,o)}function x(){if(a>0&&y>o||a<0&&y<o)return 0;if(a===1/0||a===-1/0)return 1;var t=Math.abs,e=Math.floor,r=(t(y)+t(o)+t(o-y))/t(a)*c(u(Dt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),e((o-y)/a+r)+1)}function k(){if(b(),0===a)return 1/0;if(a%1!=0)return x();if(a>0&&y>o||a<0&&y<o)return 0;var t=Math.ceil,e=Math.abs;return t((e(y-o)+1)/e(a))}if($.length>0&&(o=$[0],$.splice(0,1)),$.length>0&&(a=$[0],$.splice(0,1)),s=i.$$smap.to,_=i.$$smap.by,void 0!==o&&void 0!==s&&y.$raise(u(Dt,"ArgumentError"),"to is given twice"),void 0!==a&&void 0!==_&&y.$raise(u(Dt,"ArgumentError"),"step is given twice"),m===l)return g=[],v=f([],{}),void 0!==o&&g.push(o),void 0!==a&&g.push(a),void 0!==s&&t.hash_put(v,"to",s),void 0!==_&&t.hash_put(v,"by",_),v["$any?"]()&&g.push(v),p(y,"enum_for",["step"].concat(t.to_a(g)),((d=function(){return d.$$s,k()}).$$s=y,d.$$arity=0,d));if(b(),0===a)for(;;)m(y);if(y%1!=0||o%1!=0||a%1!=0){var w=x();if(w>0)if(a===1/0||a===-1/0)m(y);else{var E,A=0;if(a>0)for(;A<w;)o<(E=A*a+y)&&(E=o),m(E),A+=1;else for(;A<w;)o>(E=A*a+y)&&(E=o),m(E),A+=1}}else{var O=y;if(a>0)for(;O<=o;)m(O),O+=a;else for(;O>=o;)m(O),O+=a}return y},yt.$$arity=-1),t.alias(Ft,"succ","next"),t.def(Ft,"$times",gt=function(){var t,e=gt.$$p,r=e||l,n=this;if(e&&(gt.$$p=null),e&&(gt.$$p=null),!d(r))return p(n,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=n,t.$$arity=0,t));for(var $=0;$<n;$++)r($);return n},gt.$$arity=0),t.def(Ft,"$to_f",vt=function(){return this},vt.$$arity=0),t.def(Ft,"$to_i",bt=function(){return parseInt(this,10)},bt.$$arity=0),t.alias(Ft,"to_int","to_i"),t.def(Ft,"$to_r",xt=function(){var e,r,n=this,i=l,a=l;return d(u(Dt,"Integer")["$==="](n))?u(Dt,"Rational").$new(n,1):(r=u(Dt,"Math").$frexp(n),i=null==(e=t.to_ary(r))[0]?l:e[0],a=null==e[1]?l:e[1],i=u(Dt,"Math").$ldexp(i,c(u(Dt,"Float"),"MANT_DIG")).$to_i(),a=$(a,c(u(Dt,"Float"),"MANT_DIG")),o(i,c(u(Dt,"Float"),"RADIX")["$**"](a)).$to_r())},xt.$$arity=0),t.def(Ft,"$to_s",kt=function(t){var n;return null==t&&(t=10),t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"),d(d(n=r(t,2))?n:e(t,36))&&this.$raise(u(Dt,"ArgumentError"),"invalid radix "+t),this.toString(t)},kt.$$arity=-1),t.def(Ft,"$truncate",wt=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=parseInt(e*r,10)/r;return e%1==0&&(n=Math.round(n)),n},wt.$$arity=-1),t.alias(Ft,"inspect","to_s"),t.def(Ft,"$digits",Et=function(t){var e=this;null==t&&(t=10),r(e,0)&&e.$raise(c(u(Dt,"Math"),"DomainError"),"out of domain"),t=u(Dt,"Opal")["$coerce_to!"](t,u(Dt,"Integer"),"to_int"),d(r(t,2))&&e.$raise(u(Dt,"ArgumentError"),"invalid radix "+t);for(var n=e,$=[];0!==n;)$.push(n%t),n=parseInt(n/t,10);return $},Et.$$arity=-1),t.def(Ft,"$divmod",At=function(e){var r,n=At.$$p,$=this,i=l,o=l,a=l;for(n&&(At.$$p=null),o=0,a=arguments.length,i=new Array(a);o<a;o++)i[o]=arguments[o];return d(d(r=$["$nan?"]())?r:e["$nan?"]())?$.$raise(u(Dt,"FloatDomainError"),"NaN"):d($["$infinite?"]())?$.$raise(u(Dt,"FloatDomainError"),"Infinity"):p($,t.find_super_dispatcher($,"divmod",At,!1),i,n)},At.$$arity=1),t.def(Ft,"$upto",Ot=function(t){var e,i=Ot.$$p,o=i||l,a=this;if(i&&(Ot.$$p=null),i&&(Ot.$$p=null),o===l)return p(a,"enum_for",["upto",t],(e=function(){var i=e.$$s||this;return d(u(Dt,"Numeric")["$==="](t))||i.$raise(u(Dt,"ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed"),d(r(t,i))?0:n($(t,i),1)},e.$$s=a,e.$$arity=0,e));t.$$is_number||a.$raise(u(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var s=a;s<=t;s++)o(s);return a},Ot.$$arity=1),t.def(Ft,"$zero?",St=function(){return 0==this},St.$$arity=0),t.def(Ft,"$size",Rt=function(){return 4},Rt.$$arity=0),t.def(Ft,"$nan?",Ct=function(){return isNaN(this)},Ct.$$arity=0),t.def(Ft,"$finite?",It=function(){var t=this;return t!=1/0&&t!=-1/0&&!isNaN(t)},It.$$arity=0),t.def(Ft,"$infinite?",Tt=function(){return this==1/0?1:this==-1/0?-1:l},Tt.$$arity=0),t.def(Ft,"$positive?",Lt=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},Lt.$$arity=0),t.def(Ft,"$negative?",Nt=function(){return this==-1/0||1/this<0},Nt.$$arity=0)}(s[0],u(s,"Numeric"),s),t.const_set(s[0],"Fixnum",u(s,"Number")),function(e,r,n){var $=_(e,r,"Integer"),i=[$].concat(n);$.$$is_number_class=!0,function(e,r){var n,$,i,o=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u(o,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",$=function(t){return!!t.$$is_number&&t%1==0},$.$$arity=1),t.def(e,"$sqrt",i=function(t){return(t=u(o,"Opal")["$coerce_to!"](t,u(o,"Integer"),"to_int"))<0&&this.$raise(c(u(o,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},i.$$arity=1)}(t.get_singleton_class($),i),t.const_set(i[0],"MAX",Math.pow(2,30)-1),t.const_set(i[0],"MIN",-Math.pow(2,30))}(s[0],u(s,"Numeric"),s),function(e,r,n){var $=_(e,r,"Float"),i=[$].concat(n);return $.$$is_number_class=!0,function(e,r){var n,$,i=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u(i,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",$=function(t){return!!t.$$is_number},$.$$arity=1)}(t.get_singleton_class($),i),t.const_set(i[0],"INFINITY",1/0),t.const_set(i[0],"MAX",Number.MAX_VALUE),t.const_set(i[0],"MIN",Number.MIN_VALUE),t.const_set(i[0],"NAN",NaN),t.const_set(i[0],"DIG",15),t.const_set(i[0],"MANT_DIG",53),t.const_set(i[0],"RADIX",2),t.const_set(i[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}(s[0],u(s,"Numeric"),s)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var i=t.top,o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,_=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),i.$require("corelib/enumerable"),function(i,o,d){var p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T=c(i,null,"Range"),L=[T].concat(d);return T.$$prototype.begin=T.$$prototype.end=T.$$prototype.excl=a,T.$include(l(L,"Enumerable")),T.$$prototype.$$is_range=!0,T.$attr_reader("begin","end"),t.def(T,"$initialize",p=function(t,e,r){var n=this;return null==r&&(r=!1),u(n.begin)&&n.$raise(l(L,"NameError"),"'initialize' called twice"),u(t["$<=>"](e))||n.$raise(l(L,"ArgumentError"),"bad value for range"),n.begin=t,n.end=e,n.excl=r},p.$$arity=-3),t.def(T,"$==",f=function(t){var e=this;return!!t.$$is_range&&(e.excl===t.excl&&e.begin==t.begin&&e.end==t.end)},f.$$arity=1),t.def(T,"$===",h=function(t){return this["$include?"](t)},h.$$arity=1),t.def(T,"$cover?",m=function(t){var n,$,i,o=this;return $=o.begin["$<=>"](t),!!u(u(n=$)?e($,0):n)&&(i=t["$<=>"](o.end),u(o.excl)?u(n=i)?r(i,0):n:u(n=i)?e(i,0):n)},m.$$arity=1),t.def(T,"$each",y=function(){var e,n,$,i,o=y.$$p,s=o||a,c=this,d=a;if(o&&(y.$$p=null),o&&(y.$$p=null),s===a)return c.$enum_for("each");if(c.begin.$$is_number&&c.end.$$is_number){for(c.begin%1==0&&c.end%1==0||c.$raise(l(L,"TypeError"),"can't iterate from Float"),$=c.begin,i=c.end+(u(c.excl)?0:1);$<i;$++)s($);return c}if(c.begin.$$is_string&&c.end.$$is_string)return _(c.begin,"upto",[c.end,c.excl],s.$to_proc()),c;for(d=c.begin,n=c.end,u(d["$respond_to?"]("succ"))||c.$raise(l(L,"TypeError"),"can't iterate from "+d.$class());u(r(d["$<=>"](n),0));)t.yield1(s,d),d=d.$succ();return u(u(e=c.excl["$!"]())?d["$=="](n):e)&&t.yield1(s,d),c},y.$$arity=0),t.def(T,"$eql?",g=function(t){var e,r,n=this;return!!u(l(L,"Range")["$==="](t))&&(u(e=u(r=n.excl["$==="](t["$exclude_end?"]()))?n.begin["$eql?"](t.$begin()):r)?n.end["$eql?"](t.$end()):e)},g.$$arity=1),t.def(T,"$exclude_end?",v=function(){return this.excl},v.$$arity=0),t.def(T,"$first",b=function(e){var r=b.$$p,n=this,$=a,i=a,o=a;for(r&&(b.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return u(null==e)?n.begin:_(n,t.find_super_dispatcher(n,"first",b,!1),$,r)},b.$$arity=-1),t.alias(T,"include?","cover?"),t.def(T,"$last",x=function(t){return u(null==t)?this.end:this.$to_a().$last(t)},x.$$arity=-1),t.def(T,"$max",k=function(){var e,r=k.$$p,$=r||a,i=this,o=a,s=a,l=a;for(r&&(k.$$p=null),s=0,l=arguments.length,o=new Array(l);s<l;s++)o[s]=arguments[s];return $!==a?_(i,t.find_super_dispatcher(i,"max",k,!1),o,r):u(n(i.begin,i.end))||u(u(e=i.excl)?i.begin["$=="](i.end):e)?a:i.excl?i.end-1:i.end},k.$$arity=0),t.alias(T,"member?","cover?"),t.def(T,"$min",w=function(){var e,r=w.$$p,$=r||a,i=this,o=a,s=a,l=a;for(r&&(w.$$p=null),s=0,l=arguments.length,o=new Array(l);s<l;s++)o[s]=arguments[s];return $!==a?_(i,t.find_super_dispatcher(i,"min",w,!1),o,r):u(n(i.begin,i.end))||u(u(e=i.excl)?i.begin["$=="](i.end):e)?a:i.begin},w.$$arity=0),t.def(T,"$size",E=function(){var t,e,n,$,i=this,o=a,c=a;return o=i.begin,c=i.end,u(i.excl)&&($=1,c="number"==typeof(n=c)&&"number"==typeof $?n-$:n["$-"]($)),u(u(t=l(L,"Numeric")["$==="](o))?l(L,"Numeric")["$==="](c):t)?u(r(c,o))?0:(e=s(l(L,"Float"),"INFINITY"),u([o.$abs(),c.$abs()]["$include?"](e))?e:(Math.abs(c-o)+1).$to_i()):a},E.$$arity=0),t.def(T,"$step",A=function(e){var r,i,o,c=A.$$p,d=c||a,p=this,f=a;function h(){e.$$is_number||(e=l(L,"Opal")["$coerce_to!"](e,l(L,"Integer"),"to_int")),e<0?p.$raise(l(L,"ArgumentError"),"step can't be negative"):0===e&&p.$raise(l(L,"ArgumentError"),"step can't be 0")}return c&&(A.$$p=null),null==e&&(e=1),d===a?_(p,"enum_for",["step",e],((r=function(){return r.$$s,h(),function(){if(!p.begin["$respond_to?"]("succ"))return a;if(p.begin.$$is_string&&p.end.$$is_string)return a;if(e%1==0)return(r=p.$size(),n=e,"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n)).$ceil();var t,r,n,$=p.begin,i=p.end,o=Math.abs,c=Math.floor,u=(o($)+o(i)+o(i-$))/o(e)*s(l(L,"Float"),"EPSILON");return u>.5&&(u=.5),p.excl?(t=c((i-$)/e-u))*e+$<i&&t++:t=c((i-$)/e+u)+1,t}()}).$$s=p,r.$$arity=0,r)):(h(),u(p.begin.$$is_number&&p.end.$$is_number)?(f=0,function(){var r=t.new_brk();try{_(p,"loop",[],(i=function(){var o,s,l,c=i.$$s||this;return null==c.begin&&(c.begin=a),null==c.excl&&(c.excl=a),null==c.end&&(c.end=a),o=$(c.begin,(l=e,"number"==typeof(s=f)&&"number"==typeof l?s*l:s["$*"](l))),u(c.excl)?u(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(o,c.end))&&t.brk(a,r):u(n(o,c.end))&&t.brk(a,r),t.yield1(d,o),f=$(f,1)},i.$$s=p,i.$$brk=r,i.$$arity=0,i))}catch(t){if(t===r)return t.$v;throw t}}()):(p.begin.$$is_string&&p.end.$$is_string&&e%1!=0&&p.$raise(l(L,"TypeError"),"no implicit conversion to float from string"),_(p,"each_with_index",[],((o=function(r,n){return o.$$s,null==r&&(r=a),null==n&&(n=a),n["$%"](e)["$=="](0)?t.yield1(d,r):a}).$$s=p,o.$$arity=2,o))),p)},A.$$arity=-1),t.def(T,"$bsearch",O=function(){var t=O.$$p,e=t||a,r=this;return t&&(O.$$p=null),t&&(O.$$p=null),e===a?r.$enum_for("bsearch"):(u(r.begin.$$is_number&&r.end.$$is_number)||r.$raise(l(L,"TypeError"),"can't do binary search for "+r.begin.$class()),_(r.$to_a(),"bsearch",[],e.$to_proc()))},O.$$arity=0),t.def(T,"$to_s",S=function(){var t=this;return t.begin+(u(t.excl)?"...":"..")+t.end},S.$$arity=0),t.def(T,"$inspect",R=function(){var t=this;return t.begin.$inspect()+(u(t.excl)?"...":"..")+t.end.$inspect()},R.$$arity=0),t.def(T,"$marshal_load",C=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.excl=t["$[]"]("excl")},C.$$arity=1),t.def(T,"$hash",I=function(){var t=this;return[t.begin,t.end,t.excl].$hash()},I.$$arity=0),a&&"hash"}(o[0],0,o)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice),i=t.klass,o=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,a,s){var l,c,u,_,d,p,f,h,m,y,g=i(e,Function,"Proc"),v=[g].concat(s);return t.defineProperty(g.$$prototype,"$$is_proc",!0),t.defineProperty(g.$$prototype,"$$is_lambda",!1),t.defs(g,"$new",l=function(){var t=l.$$p,e=t||r;return t&&(l.$$p=null),t&&(l.$$p=null),o(e)||this.$raise(n(v,"ArgumentError"),"tried to create a Proc object without a block"),e},l.$$arity=0),t.def(g,"$call",c=function(e){var n,$=c.$$p,i=$||r,o=this;$&&(c.$$p=null),$&&(c.$$p=null),n=t.slice.call(arguments,0,arguments.length),i!==r&&(o.$$p=i);var a,s=o.$$brk;if(s)try{a=o.$$is_lambda?o.apply(null,n):t.yieldX(o,n)}catch(t){if(t===s)return s.$v;throw t}else a=o.$$is_lambda?o.apply(null,n):t.yieldX(o,n);return a},c.$$arity=-1),t.alias(g,"[]","call"),t.alias(g,"===","call"),t.alias(g,"yield","call"),t.def(g,"$to_proc",u=function(){return this},u.$$arity=0),t.def(g,"$lambda?",_=function(){return!!this.$$is_lambda},_.$$arity=0),t.def(g,"$arity",d=function(){return this.$$is_curried?-1:this.$$arity},d.$$arity=0),t.def(g,"$source_location",p=function(){return this.$$is_curried,r},p.$$arity=0),t.def(g,"$binding",f=function(){return this.$$is_curried&&this.$raise(n(v,"ArgumentError"),"Can't create Binding"),r},f.$$arity=0),t.def(g,"$parameters",h=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,r,n=[];for(e=0,r=t.$$parameters.length;e<r;e++){var $=t.$$parameters[e];"req"===$[0]&&($=["opt",$[1]]),n.push($)}return n}return[]},h.$$arity=0),t.def(g,"$curry",m=function(t){var e=this;function r(){var i,o=$.call(arguments),a=o.length;return a>t&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(n(v,"ArgumentError"),"wrong number of arguments ("+a+" for "+t+")"),a>=t?e.$call.apply(e,o):(i=function(){return r.apply(null,o.concat($.call(arguments)))},i.$$is_lambda=e.$$is_lambda,i.$$is_curried=!0,i)}return void 0===t?t=e.length:(t=n(v,"Opal")["$coerce_to!"](t,n(v,"Integer"),"to_int"),e.$$is_lambda&&t!==e.length&&e.$raise(n(v,"ArgumentError"),"wrong number of arguments ("+t+" for "+e.length+")")),r.$$is_lambda=e.$$is_lambda,r.$$is_curried=!0,r},m.$$arity=-1),t.def(g,"$dup",y=function(){var t=this,e=t.$$original_proc||t,r=function(){return e.apply(this,arguments)};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},y.$$arity=0),t.alias(g,"clone","dup")}(e[0],0,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,o,a){var s,l,c,u,_,d,p,f,h,m=$(e,null,"Method"),y=[m].concat(a);m.$$prototype.method=m.$$prototype.receiver=m.$$prototype.owner=m.$$prototype.name=r,m.$attr_reader("owner","receiver","name"),t.def(m,"$initialize",s=function(t,e,r,n){var $=this;return $.receiver=t,$.owner=e,$.name=n,$.method=r},s.$$arity=4),t.def(m,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(m,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.def(m,"$source_location",u=function(){var t;return i(t=this.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.def(m,"$comments",_=function(){var t;return i(t=this.method.$$comments)?t:[]},_.$$arity=0),t.def(m,"$call",d=function(e){var n,$=d.$$p,i=$||r,o=this;return $&&(d.$$p=null),$&&(d.$$p=null),n=t.slice.call(arguments,0,arguments.length),o.method.$$p=i,o.method.apply(o.receiver,n)},d.$$arity=-1),t.alias(m,"[]","call"),t.def(m,"$unbind",p=function(){var t=this;return n(y,"UnboundMethod").$new(t.receiver.$class(),t.owner,t.method,t.name)},p.$$arity=0),t.def(m,"$to_proc",f=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e.$$arity=t.method.$$arity,e.$$parameters=t.method.$$parameters,e},f.$$arity=0),t.def(m,"$inspect",h=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},h.$$arity=0)}(e[0],0,e),function(e,o,a){var s,l,c,u,_,d,p,f=$(e,null,"UnboundMethod"),h=[f].concat(a);return f.$$prototype.method=f.$$prototype.owner=f.$$prototype.name=f.$$prototype.source=r,f.$attr_reader("source","owner","name"),t.def(f,"$initialize",s=function(t,e,r,n){var $=this;return $.source=t,$.owner=e,$.method=r,$.name=n},s.$$arity=4),t.def(f,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(f,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.def(f,"$source_location",u=function(){var t;return i(t=this.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.def(f,"$comments",_=function(){var t;return i(t=this.method.$$comments)?t:[]},_.$$arity=0),t.def(f,"$bind",d=function(e){var r=this;if(r.owner.$$is_module||t.is_a(e,r.owner))return n(h,"Method").$new(e,r.owner,r.method,r.name);r.$raise(n(h,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+r.owner+" to be true)")},d.$$arity=1),t.def(f,"$inspect",p=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},p.$$arity=0),r&&"inspect"}(e[0],0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.gvars),i=t.hash2;return t.add_stubs(["$new"]),$["&"]=$["~"]=$["`"]=$["'"]=r,$.LOADED_FEATURES=$['"']=t.loaded_features,$.LOAD_PATH=$[":"]=[],$["/"]="\n",$[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",i([],{})),$.VERBOSE=!1,$.DEBUG=!1,$.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,i){var o=[$(e,"Opal")].concat(i);t.const_set(o[0],"REGEXP_START",n(o,"RUBY_ENGINE")["$=="]("opal")?"^":r),t.const_set(o[0],"REGEXP_END",n(o,"RUBY_ENGINE")["$=="]("opal")?"$":r),t.const_set(o[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"INLINE_IDENTIFIER_REGEXP",n(o,"Regexp").$new("[^"+n(o,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(o,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(o[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"CONST_NAME_REGEXP",n(o,"Regexp").$new(n(o,"REGEXP_START")+"(::)?[A-Z][^"+n(o,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(o,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(t){var e,r,n,$,i,o=t.top,a=[],s=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.klass),_=t.hash2,d=t.truthy,p=t.send;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$dup","$bytesize","$enum_for","$coerce_to!","$find","$<"]),o.$require("corelib/string"),function(e,r,n){var $,i,o,a,l,f,h,m,y,g=u(e,null,"Encoding"),v=[g].concat(n);g.$$prototype.ascii=g.$$prototype.dummy=g.$$prototype.name=s,t.defineProperty(g,"$$register",{}),t.defs(g,"$register",$=function(t,e){var r,n,i,o,a,l=$.$$p,u=l||s,f=this,h=s,m=s;return l&&($.$$p=null),l&&($.$$p=null),null==e&&(e=_([],{})),o=[t],a=d(r=e["$[]"]("aliases"))?r:[],h="number"==typeof o&&"number"==typeof a?o+a:o["$+"](a),i=p(c(v,"Class"),"new",[f],u.$to_proc()).$new(t,h,!!d(r=e["$[]"]("ascii"))&&r,!!d(r=e["$[]"]("dummy"))&&r),m=f.$$register,p(h,"each",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=s),e.$const_set(t.$sub("-","_"),i),m["$$"+t]=i},n.$$s=f,n.$$arity=1,n))},$.$$arity=-2),t.defs(g,"$find",i=function(t){var e,r,n,$=this;return t["$=="]("default_external")?$.$default_external():(r=$.$$register,n=d(e=r["$$"+t])?e:r["$$"+t.$upcase()],d(n)||$.$raise(c(v,"ArgumentError"),"unknown encoding name - "+t),n)},i.$$arity=1),function(t,e){[t].concat(e),t.$attr_accessor("default_external")}(t.get_singleton_class(g),v),g.$attr_reader("name","names"),t.def(g,"$initialize",o=function(t,e,r,n){var $=this;return $.name=t,$.names=e,$.ascii=r,$.dummy=n},o.$$arity=4),t.def(g,"$ascii_compatible?",a=function(){return this.ascii},a.$$arity=0),t.def(g,"$dummy?",l=function(){return this.dummy},l.$$arity=0),t.def(g,"$to_s",f=function(){return this.name},f.$$arity=0),t.def(g,"$inspect",h=function(){var t=this;return"#<Encoding:"+t.name+(d(t.dummy)?" (dummy)":s)+">"},h.$$arity=0),t.def(g,"$each_byte",m=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(c(v,"NotImplementedError"))},m.$$arity=-1),t.def(g,"$bytesize",y=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(c(v,"NotImplementedError"))},y.$$arity=-1),function(t,e,r){[u(t,e,"EncodingError")].concat(r)}(v[0],c(v,"StandardError"),v),function(t,e,r){[u(t,e,"CompatibilityError")].concat(r)}(v[0],c(v,"EncodingError"),v)}(a[0],0,a),p(c(a,"Encoding"),"register",["UTF-8",_(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(e=function(){var r,n,$=e.$$s||this;return t.def($,"$each_byte",r=function(e){var n=r.$$p,$=n||s;n&&(r.$$p=null),n&&(r.$$p=null);for(var i,o=1/0,a=e.length,l=null,c=0;c<a;++c){if((i=e.charCodeAt(c))>55295&&i<57344){if(!l){if(i>56319){(o-=3)>-1&&(t.yield1($,239),t.yield1($,191),t.yield1($,189));continue}if(c+1===a){(o-=3)>-1&&(t.yield1($,239),t.yield1($,191),t.yield1($,189));continue}l=i;continue}if(i<56320){(o-=3)>-1&&(t.yield1($,239),t.yield1($,191),t.yield1($,189)),l=i;continue}i=65536+(l-55296<<10|i-56320)}else l&&(o-=3)>-1&&(t.yield1($,239),t.yield1($,191),t.yield1($,189));if(l=null,i<128){if((o-=1)<0)break;t.yield1($,i)}else if(i<2048){if((o-=2)<0)break;t.yield1($,i>>6|192),t.yield1($,63&i|128)}else if(i<65536){if((o-=3)<0)break;t.yield1($,i>>12|224),t.yield1($,i>>6&63|128),t.yield1($,63&i|128)}else if(i<1114112){if((o-=4)<0)break;t.yield1($,i>>18|240),t.yield1($,i>>12&63|128),t.yield1($,i>>6&63|128),t.yield1($,63&i|128)}}},r.$$arity=1),t.def($,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),s&&"bytesize"},e.$$s=o,e.$$arity=0,e)),p(c(a,"Encoding"),"register",["UTF-16LE"],(r=function(){var e,n,$=r.$$s||this;return t.def($,"$each_byte",e=function(r){var n=e.$$p,$=n||s;n&&(e.$$p=null),n&&(e.$$p=null);for(var i=0,o=r.length;i<o;i++){var a=r.charCodeAt(i);t.yield1($,255&a),t.yield1($,a>>8)}},e.$$arity=1),t.def($,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),s&&"bytesize"},r.$$s=o,r.$$arity=0,r)),p(c(a,"Encoding"),"register",["UTF-16BE"],(n=function(){var e,r,$=n.$$s||this;return t.def($,"$each_byte",e=function(r){var n=e.$$p,$=n||s;n&&(e.$$p=null),n&&(e.$$p=null);for(var i=0,o=r.length;i<o;i++){var a=r.charCodeAt(i);t.yield1($,a>>8),t.yield1($,255&a)}},e.$$arity=1),t.def($,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),s&&"bytesize"},n.$$s=o,n.$$arity=0,n)),p(c(a,"Encoding"),"register",["UTF-32LE"],($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,$=n||s;n&&(e.$$p=null),n&&(e.$$p=null);for(var i=0,o=r.length;i<o;i++){var a=r.charCodeAt(i);t.yield1($,255&a),t.yield1($,a>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),s&&"bytesize"},$.$$s=o,$.$$arity=0,$)),p(c(a,"Encoding"),"register",["ASCII-8BIT",_(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,$=n||s;n&&(e.$$p=null),n&&(e.$$p=null);for(var i=0,o=r.length;i<o;i++){var a=r.charCodeAt(i);t.yield1($,255&a),t.yield1($,a>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),s&&"bytesize"},i.$$s=o,i.$$arity=0,i)),function(e,r,n){var $,i,o,a,_,f,h,m=u(e,null,"String"),y=[m].concat(n);return m.$$prototype.bytes=m.$$prototype.internal_encoding=s,m.$attr_reader("encoding"),m.$attr_reader("internal_encoding"),t.defineProperty(String.prototype,"bytes",s),t.defineProperty(String.prototype,"encoding",l(c(y,"Encoding"),"UTF_8")),t.defineProperty(String.prototype,"internal_encoding",l(c(y,"Encoding"),"UTF_8")),t.def(m,"$bytes",$=function(){var t,e=this;return e.bytes=d(t=e.bytes)?t:e.$each_byte().$to_a(),e.bytes.$dup()},$.$$arity=0),t.def(m,"$bytesize",i=function(){return this.internal_encoding.$bytesize(this)},i.$$arity=0),t.def(m,"$each_byte",o=function(){var t=o.$$p,e=t||s,r=this;return t&&(o.$$p=null),t&&(o.$$p=null),e===s?r.$enum_for("each_byte"):(p(r.internal_encoding,"each_byte",[r],e.$to_proc()),r)},o.$$arity=0),t.def(m,"$encode",a=function(e){return t.enc(this,e)},a.$$arity=1),t.def(m,"$force_encoding",_=function(t){var e=this;return t===e.encoding?e:(t=c(y,"Opal")["$coerce_to!"](t,c(y,"String"),"to_s"),(t=c(y,"Encoding").$find(t))===e.encoding||(e.encoding=t),e)},_.$$arity=1),t.def(m,"$getbyte",f=function(t){var e,r,n=s;return n=this.$bytes(),t=c(y,"Opal")["$coerce_to!"](t,c(y,"Integer"),"to_int"),d((e=n.$length(),r=t,"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?s:n["$[]"](t)},f.$$arity=1),t.def(m,"$valid_encoding?",h=function(){return!0},h.$$arity=0),s&&"valid_encoding?"}(a[0],0,a)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var o=t.top,a=[],s=t.nil,l=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice,t.klass),u=t.hash2,_=t.truthy,d=t.send;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),o.$require("corelib/enumerable"),function(o,a,p){var f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N=c(o,null,"Struct"),F=[N].concat(p);return N.$include(l(F,"Enumerable")),t.defs(N,"$new",f=function(e,r,n){var $,i,o,a,c,p,h=f.$$p,m=h||s,y=this,g=s;if(h&&(f.$$p=null),h&&(f.$$p=null),$=t.slice.call(arguments,1,arguments.length),null==(i=t.extract_kwargs($)))i=u([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if(o=$,null==(a=i.$$smap.keyword_init)&&(a=!1),_(e))try{e=l(F,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[l(F,"TypeError"),l(F,"NameError")]))throw r;try{o.$unshift(e),e=s}finally{t.pop_exception()}}return d(o,"map",[],((c=function(t){return c.$$s,null==t&&(t=s),l(F,"Opal")["$coerce_to!"](t,l(F,"String"),"to_str")}).$$s=y,c.$$arity=1,c)),g=d(l(F,"Class"),"new",[y],(p=function(){var e,r=p.$$s||this;return d(o,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)},e.$$s=r,e.$$arity=1,e)),function(e,r){var n;[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=this,$=s;return r=t.slice.call(arguments,0,arguments.length),($=n.$allocate()).$$data={},d($,"initialize",t.to_a(r)),$},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),F)},p.$$s=y,p.$$arity=0,p)),_(m)&&d(g,"module_eval",[],m.$to_proc()),g.$$keyword_init=a,_(e)&&l(F,"Struct").$const_set(e,g),g},f.$$arity=-2),t.defs(N,"$define_struct_attribute",h=function(t){var e,r,n=this;return n["$=="](l(F,"Struct"))&&n.$raise(l(F,"ArgumentError"),"you cannot define attributes to the Struct class"),n.$members()["$<<"](t),d(n,"define_method",[t],((e=function(){return(e.$$s||this).$$data[t]}).$$s=n,e.$$arity=0,e)),d(n,"define_method",[t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=n,r.$$arity=1,r))},h.$$arity=1),t.defs(N,"$members",m=function(){var t,e=this;return null==e.members&&(e.members=s),e["$=="](l(F,"Struct"))&&e.$raise(l(F,"ArgumentError"),"the Struct class has no members"),e.members=_(t=e.members)?t:[]},m.$$arity=0),t.defs(N,"$inherited",y=function(t){var e,r,n=this;return null==n.members&&(n.members=s),r=n.members,d(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=r}).$$s=n,e.$$arity=0,e))},y.$$arity=1),t.def(N,"$initialize",g=function(n){var $,i,o,a,c,p=this,f=s,h=s;return $=t.slice.call(arguments,0,arguments.length),i=$,_(p.$class().$$keyword_init)?(f=_(o=i.$last())?o:u([],{}),_(_(o=e(i.$length(),1))?o:1===i.length&&!f.$$is_hash)&&p.$raise(l(F,"ArgumentError"),"wrong number of arguments (given "+i.$length()+", expected 0)"),h=r(f.$keys(),p.$class().$members()),_(h["$any?"]())&&p.$raise(l(F,"ArgumentError"),"unknown keywords: "+h.$join(", ")),d(p.$class().$members(),"each",[],(a=function(e){var n,$=a.$$s||this;return null==e&&(e=s),n=[e,f["$[]"](e)],d($,"[]=",t.to_a(n)),n[r(n.length,1)]},a.$$s=p,a.$$arity=1,a))):(_(e(i.$length(),p.$class().$members().$length()))&&p.$raise(l(F,"ArgumentError"),"struct size differs"),d(p.$class().$members(),"each_with_index",[],(c=function(e,n){var $,o=c.$$s||this;return null==e&&(e=s),null==n&&(n=s),$=[e,i["$[]"](n)],d(o,"[]=",t.to_a($)),$[r($.length,1)]},c.$$s=p,c.$$arity=2,c)))},g.$$arity=-1),t.def(N,"$members",v=function(){return this.$class().$members()},v.$$arity=0),t.def(N,"$hash",b=function(){return l(F,"Hash").$new(this.$$data).$hash()},b.$$arity=0),t.def(N,"$[]",x=function(t){var e=this;return _(l(F,"Integer")["$==="](t))?(_(n(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(l(F,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),_($(t,e.$class().$members().$size()))&&e.$raise(l(F,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):_(l(F,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(l(F,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(l(F,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(F,"Opal")["$coerce_to!"](t,l(F,"String"),"to_str"),e.$$data[t]},x.$$arity=1),t.def(N,"$[]=",k=function(t,e){var r=this;return _(l(F,"Integer")["$==="](t))?(_(n(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(l(F,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),_($(t,r.$class().$members().$size()))&&r.$raise(l(F,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):_(l(F,"String")["$==="](t))?_(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(l(F,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(l(F,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(F,"Opal")["$coerce_to!"](t,l(F,"String"),"to_str"),r.$$data[t]=e},k.$$arity=2),t.def(N,"$==",w=function(t){if(!_(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,$){var i,o,a;for(i in e[n.$__id__()]=!0,r[$.$__id__()]=!0,n.$$data)if(o=n.$$data[i],a=$.$$data[i],l(F,"Struct")["$==="](o)){if(!(e.hasOwnProperty(o.$__id__())&&r.hasOwnProperty(a.$__id__())||t(o,a)))return!1}else if(!o["$=="](a))return!1;return!0}(this,t)},w.$$arity=1),t.def(N,"$eql?",E=function(t){if(!_(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,$){var i,o,a;for(i in e[n.$__id__()]=!0,r[$.$__id__()]=!0,n.$$data)if(o=n.$$data[i],a=$.$$data[i],l(F,"Struct")["$==="](o)){if(!(e.hasOwnProperty(o.$__id__())&&r.hasOwnProperty(a.$__id__())||t(o,a)))return!1}else if(!o["$eql?"](a))return!1;return!0}(this,t)},E.$$arity=1),t.def(N,"$each",A=function(){var e,r,n=A.$$p,$=n||s,i=this;return n&&(A.$$p=null),$===s?d(i,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e)):(d(i.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1($,n["$[]"](e))},r.$$s=i,r.$$arity=1,r)),i)},A.$$arity=0),t.def(N,"$each_pair",O=function(){var e,r,n=O.$$p,$=n||s,i=this;return n&&(O.$$p=null),$===s?d(i,"enum_for",["each_pair"],((e=function(){return(e.$$s||this).$size()}).$$s=i,e.$$arity=0,e)):(d(i.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1($,[e,n["$[]"](e)])},r.$$s=i,r.$$arity=1,r)),i)},O.$$arity=0),t.def(N,"$length",S=function(){return this.$class().$members().$length()},S.$$arity=0),t.alias(N,"size","length"),t.def(N,"$to_a",R=function(){var t;return d(this.$class().$members(),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)},t.$$s=this,t.$$arity=1,t))},R.$$arity=0),t.alias(N,"values","to_a"),t.def(N,"$inspect",C=function(){var t,e,r=this,n=s;return n="#<struct ",_(_(t=l(F,"Struct")["$==="](r))?r.$class().$name():t)&&(n=i(n,r.$class()+" ")),n=i(n,d(r.$each_pair(),"map",[],(e=function(t,r){return e.$$s,null==t&&(t=s),null==r&&(r=s),t+"="+r.$inspect()},e.$$s=r,e.$$arity=2,e)).$join(", ")),n=i(n,">")},C.$$arity=0),t.alias(N,"to_s","inspect"),t.def(N,"$to_h",I=function(){var e;return d(this.$class().$members(),"each_with_object",[u([],{})],(e=function(n,$){var i,o=e.$$s||this;return null==n&&(n=s),null==$&&($=s),i=[n,o["$[]"](n)],d($,"[]=",t.to_a(i)),i[r(i.length,1)]},e.$$s=this,e.$$arity=2,e))},I.$$arity=0),t.def(N,"$values_at",T=function(e){var r,n,$,i=this;r=t.slice.call(arguments,0,arguments.length);for(var o=[],a=0,c=(n=d(n=r,"map",[],($=function(t){return $.$$s,null==t&&(t=s),t.$$is_range?t.$to_a():t},$.$$s=i,$.$$arity=1,$)).$flatten()).length;a<c;a++)n[a].$$is_number||i.$raise(l(F,"TypeError"),"no implicit conversion of "+n[a].$class()+" into Integer"),o.push(i["$[]"](n[a]));return o},T.$$arity=-1),t.def(N,"$dig",L=function(e,r){var n,$=this,i=s;return n=t.slice.call(arguments,1,arguments.length),(i=_(e.$$is_string&&$.$$data.hasOwnProperty(e))&&$.$$data[e]||s)===s||0===n.length?i:(_(i["$respond_to?"]("dig"))||$.$raise(l(F,"TypeError"),i.$class()+" does not have #dig method"),d(i,"dig",t.to_a(n)))},L.$$arity=-2),s&&"dig"}(a[0],0,a)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.module,s=t.send,l=t.gvars,c=t.truthy,u=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,$){var u,_,d,p,f=o(e,null,"IO"),h=[f].concat($);f.$$prototype.tty=f.$$prototype.closed=n,t.const_set(h[0],"SEEK_SET",0),t.const_set(h[0],"SEEK_CUR",1),t.const_set(h[0],"SEEK_END",2),t.def(f,"$tty?",u=function(){return this.tty},u.$$arity=0),t.def(f,"$closed?",_=function(){return this.closed},_.$$arity=0),f.$attr_accessor("write_proc"),t.def(f,"$write",d=function(t){return this.write_proc(t),t.$size()},d.$$arity=1),f.$attr_accessor("sync","tty"),t.def(f,"$flush",p=function(){return n},p.$$arity=0),function(e,r){var $,i,o,u=a(e,"Writable");[u].concat(r);t.def(u,"$<<",$=function(t){return this.$write(t),this},$.$$arity=1),t.def(u,"$print",i=function(e){var r,$,i=this;return null==l[","]&&(l[","]=n),r=t.slice.call(arguments,0,arguments.length),i.$write(s(r,"map",[],($=function(t){var e=$.$$s||this;return null==t&&(t=n),e.$String(t)},$.$$s=i,$.$$arity=1,$)).$join(l[","])),n},i.$$arity=-1),t.def(u,"$puts",o=function(e){var r,$,i=this,o=n;return null==l["/"]&&(l["/"]=n),r=t.slice.call(arguments,0,arguments.length),o=l["/"],c(r["$empty?"]())?i.$write(l["/"]):i.$write(s(r,"map",[],($=function(t){var e=$.$$s||this;return null==t&&(t=n),e.$String(t).$chomp()},$.$$s=i,$.$$arity=1,$)).$concat([n]).$join(o)),n},o.$$arity=-1)}(h[0],h),function(e,r){var $,o,s,c,u=a(e,"Readable"),_=[u].concat(r);t.def(u,"$readbyte",$=function(){return this.$getbyte()},$.$$arity=0),t.def(u,"$readchar",o=function(){return this.$getc()},o.$$arity=0),t.def(u,"$readline",s=function(t){return null==l["/"]&&(l["/"]=n),null==t&&(t=l["/"]),this.$raise(i(_,"NotImplementedError"))},s.$$arity=-1),t.def(u,"$readpartial",c=function(t,e){return null==e&&(e=n),this.$raise(i(_,"NotImplementedError"))},c.$$arity=-2)}(h[0],h)}(r[0],0,r),t.const_set(r[0],"STDERR",l.stderr=i(r,"IO").$new()),t.const_set(r[0],"STDIN",l.stdin=i(r,"IO").$new()),t.const_set(r[0],"STDOUT",l.stdout=i(r,"IO").$new());var _=t.global.console;return u=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){_.log(t)}],s(i(r,"STDOUT"),"write_proc=",t.to_a(u)),u[e(u.length,1)],u=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){_.warn(t)}],s(i(r,"STDERR"),"write_proc=",t.to_a(u)),u[e(u.length,1)],i(r,"STDOUT").$extend($(i(r,"IO"),"Writable")),i(r,"STDERR").$extend($(i(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return o($,"Object").$include(t)},r.$$arity=1),i&&"include"},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$[]"]),function(e,o,a){var s=$(e,null,"Dir"),l=[s].concat(a);return function(e,$){var o,a,s,l=[e].concat($);return t.def(e,"$chdir",o=function(e){var n=o.$$p,$=n||r,i=r;return n&&(o.$$p=null),function(){try{return i=t.current_dir,t.current_dir=e,t.yieldX($,[])}finally{t.current_dir=i}}()},o.$$arity=1),t.def(e,"$pwd",a=function(){return t.current_dir||"."},a.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return i(t=n(l,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(s),l)}(e[0],0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,$=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),o=t.truthy,a=t.range,s=t.send;return t.add_stubs(["$respond_to?","$to_path","$pwd","$split","$sub","$+","$unshift","$join","$home","$raise","$start_with?","$absolute_path","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(r,l,c){var u=i(r,l,"File"),_=[u].concat(c),d=n;return t.const_set(_[0],"Separator",t.const_set(_[0],"SEPARATOR","/")),t.const_set(_[0],"ALT_SEPARATOR",n),t.const_set(_[0],"PATH_SEPARATOR",":"),t.const_set(_[0],"FNM_SYSCASE",0),d=/^[a-zA-Z]:(?:\\|\/)/,function(r,i){var l,c,u,_,p,f,h,m,y,g=[r].concat(i);function v(t){return o(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=$(g,"Opal")["$coerce_to!"](t,$(g,"String"),"to_str")}function b(){return $(g,"ALT_SEPARATOR")===n?t.escape_regexp($(g,"SEPARATOR")):t.escape_regexp(e($(g,"SEPARATOR"),$(g,"ALT_SEPARATOR")))}return t.def(r,"$absolute_path",l=function(t,r){var i,a,s,l,c,u,_=n,p=n,f=n,h=n,m=n;null==r&&(r=n),a=$(g,"SEPARATOR"),s=b(),_=[],t=o(t["$respond_to?"]("to_path"))?t.$to_path():t,r=o(i=r)?i:$(g,"Dir").$pwd(),l=t.substr(0,a.length)===a||d.test(t),c=r.substr(0,a.length)===a||d.test(r),o(l)?(p=t.$split(new RegExp("["+s+"]")),f=d.test(t)?"":t.$sub(new RegExp("^(["+s+"]+).*$"),"\\1"),h=!0):(p=e(r.$split(new RegExp("["+s+"]")),t.$split(new RegExp("["+s+"]"))),f=d.test(r)?"":r.$sub(new RegExp("^(["+s+"]+).*$"),"\\1"),h=c);for(var y=0,v=p.length;y<v;y++)(u=p[y])===n||""===u&&(0===_.length||h)||"."===u&&(0===_.length||h)||(".."===u?_.pop():_.push(u));return h||"."===p[0]||_.$unshift("."),m=_.$join(a),o(h)&&(m=e(f,m)),m},l.$$arity=-2),t.def(r,"$expand_path",c=function(t,r){var i,a,s=this,l=n,c=n,u=n;return null==r&&(r=n),i=$(g,"SEPARATOR"),a=b(),o("~"===t[0]||r&&"~"===r[0])&&(l=$(g,"Dir").$home(),o(l)||s.$raise($(g,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),c=d.test(l)?"":l.$sub(new RegExp("^(["+a+"]+).*$"),"\\1"),o(l["$start_with?"](c))||s.$raise($(g,"ArgumentError"),"non-absolute home"),l=e(l,i),u=new RegExp("^\\~(?:"+i+"|$)"),t=t.$sub(u,l),o(r)&&(r=r.$sub(u,l))),s.$absolute_path(t,r)},c.$$arity=-2),t.alias(r,"realpath","expand_path"),t.def(r,"$dirname",u=function(t){var e;e=b();var r=(t=v(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?r?"/":".":t},u.$$arity=1),t.def(r,"$basename",_=function(e,r){var i;return null==r&&(r=n),i=b(),0==(e=v(e)).length||(r=r!==n?$(g,"Opal")["$coerce_to!"](r,$(g,"String"),"to_str"):null,e=(e=e.replace(new RegExp("(.)["+i+"]*$"),"$1")).replace(new RegExp("^(?:.*["+i+"])?([^"+i+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(r+"$"),""))),e},_.$$arity=-2),t.def(r,"$extname",p=function(r){var $,i,s,l=n,c=n;return r=v(r),l=this.$basename(r),o(l["$empty?"]())?"":(c=l["$[]"](a(1,-1,!1)).$rindex("."),o(o($=c["$nil?"]())?$:e(c,1)["$=="]((i=l.$length(),s=1,"number"==typeof i&&"number"==typeof s?i-s:i["$-"](s))))?"":l["$[]"](t.Range.$new(e(c,1),-1,!1)))},p.$$arity=1),t.def(r,"$exist?",f=function(e){return null!=t.modules[e]},f.$$arity=1),t.alias(r,"exists?","exist?"),t.def(r,"$directory?",h=function(e){var r,i=n;for(var o in i=[],t.modules)i.push(o);return e=e.$gsub(new RegExp("(^."+$(g,"SEPARATOR")+"+|"+$(g,"SEPARATOR")+"+$)")),s(i,"find",[],((r=function(t){return r.$$s,null==t&&(t=n),t["$=~"](new RegExp("^"+e))}).$$s=this,r.$$arity=1,r))},h.$$arity=1),t.def(r,"$join",m=function(r){var i,a,l,c,u=this,_=n;return i=t.slice.call(arguments,0,arguments.length),o((a=i)["$empty?"]())?"":(_="",a=s(a.$flatten().$each_with_index(),"map",[],((l=function(t,r){l.$$s;return null==t&&(t=n),null==r&&(r=n),o(r["$=="](0)?t["$empty?"]():r["$=="](0))||o(a.$length()["$=="](e(r,1))?t["$empty?"]():a.$length()["$=="](e(r,1)))?$(g,"SEPARATOR"):t}).$$s=u,l.$$arity=2,l)),a=s(a,"reject",[],"empty?".$to_proc()),s(a,"each_with_index",[],((c=function(t,r){c.$$s;var i,s=n;return null==t&&(t=n),null==r&&(r=n),s=a["$[]"](e(r,1)),o(s["$nil?"]())?_=""+_+t:(o(o(i=t["$end_with?"]($(g,"SEPARATOR")))?s["$start_with?"]($(g,"SEPARATOR")):i)&&(t=t.$sub(new RegExp($(g,"SEPARATOR")+"+$"),"")),_=o(o(i=t["$end_with?"]($(g,"SEPARATOR")))?i:s["$start_with?"]($(g,"SEPARATOR")))?""+_+t:""+_+t+$(g,"SEPARATOR"))}).$$s=u,c.$$arity=2,c)),_)},m.$$arity=-1),t.def(r,"$split",y=function(t){return t.$split($(g,"SEPARATOR"))},y.$$arity=1),n&&"split"}(t.get_singleton_class(u),_)}(r[0],$(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,$=t.const_get_relative,i=(t.breaker,t.slice,t.klass),o=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,a,s){var l,c,u,_,d=i(e,null,"Process"),p=[d].concat(s),f=r;if(d.__clocks__=[],t.defs(d,"$__register_clock__",l=function(t,e){var n=this;return null==n.__clocks__&&(n.__clocks__=r),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](e)},l.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",(function(){return Date.now()})),f=!1,t.global.performance)f=function(){return performance.now()};else if(t.global.process&&process.hrtime){var h=process.hrtime();f=function(){var t=process.hrtime(h),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}o(f)&&d.$__register_clock__("CLOCK_MONOTONIC",f),t.defs(d,"$pid",c=function(){return 0},c.$$arity=0),t.defs(d,"$times",u=function(){var t;return t=$(p,"Time").$now().$to_f(),n($(p,"Benchmark"),"Tms").$new(t,t,t,t,t)},u.$$arity=0),t.defs(d,"$clock_gettime",_=function(t,e){var i=this,a=r;null==i.__clocks__&&(i.__clocks__=r),null==e&&(e="float_second"),o(a=i.__clocks__["$[]"](t))||i.$raise(n($(p,"Errno"),"EINVAL"),"clock_gettime("+t+") "+i.__clocks__["$[]"](t));var s=a();switch(e){case"float_second":return s/1e3;case"float_millisecond":return s/1;case"float_microsecond":return 1e3*s;case"second":return s/1e3|0;case"millisecond":return s/1|0;case"microsecond":return 1e3*s|0;case"nanosecond":return 1e6*s|0;default:i.$raise($(p,"ArgumentError"),"unexpected unit: "+e)}},_.$$arity=-2)}(e[0],0,e),function(e,n,$){var o,a=i(e,null,"Signal");[a].concat($);t.defs(a,"$trap",o=function(e){return t.slice.call(arguments,0,arguments.length),r},o.$$arity=-1)}(e[0],0,e),function(e,n,$){var o,a=i(e,null,"GC");[a].concat($);return t.defs(a,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],0,e)},Opal.modules["corelib/unsupported"]=function(t){var e,r,n=t.top,$=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.module;t.add_stubs(["$raise","$warn","$%"]);var l={};function c(e){switch(t.config.unsupported_features_severity){case"error":o($,"Kernel").$raise(o($,"NotImplementedError"),e);break;case"warning":!function(t){if(l[t])return;l[t]=!0,n.$warn(t)}(e)}}return function(e,r,n){var $,i,s,l,c,u,_,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R=a(e,null,"String"),C=[R].concat(n),I="String#%s not supported. Mutable String methods are not supported in Opal.";t.def(R,"$<<",$=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("<<"))},$.$$arity=-1),t.def(R,"$capitalize!",i=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("capitalize!"))},i.$$arity=-1),t.def(R,"$chomp!",s=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("chomp!"))},s.$$arity=-1),t.def(R,"$chop!",l=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("chop!"))},l.$$arity=-1),t.def(R,"$downcase!",c=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("downcase!"))},c.$$arity=-1),t.def(R,"$gsub!",u=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("gsub!"))},u.$$arity=-1),t.def(R,"$lstrip!",_=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("lstrip!"))},_.$$arity=-1),t.def(R,"$next!",d=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("next!"))},d.$$arity=-1),t.def(R,"$reverse!",p=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("reverse!"))},p.$$arity=-1),t.def(R,"$slice!",f=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("slice!"))},f.$$arity=-1),t.def(R,"$squeeze!",h=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("squeeze!"))},h.$$arity=-1),t.def(R,"$strip!",m=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("strip!"))},m.$$arity=-1),t.def(R,"$sub!",y=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("sub!"))},y.$$arity=-1),t.def(R,"$succ!",g=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("succ!"))},g.$$arity=-1),t.def(R,"$swapcase!",v=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("swapcase!"))},v.$$arity=-1),t.def(R,"$tr!",b=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("tr!"))},b.$$arity=-1),t.def(R,"$tr_s!",x=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("tr_s!"))},x.$$arity=-1),t.def(R,"$upcase!",k=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("upcase!"))},k.$$arity=-1),t.def(R,"$prepend",w=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("prepend"))},w.$$arity=-1),t.def(R,"$[]=",E=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("[]="))},E.$$arity=-1),t.def(R,"$clear",A=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("clear"))},A.$$arity=-1),t.def(R,"$encode!",O=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("encode!"))},O.$$arity=-1),t.def(R,"$unicode_normalize!",S=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(C,"NotImplementedError"),I["$%"]("unicode_normalize!"))},S.$$arity=-1)}($[0],0,$),function(e,r){var n,$,i=s(e,"Kernel"),o=([i].concat(r),"Object freezing is not supported by Opal");t.def(i,"$freeze",n=function(){return c(o),this},n.$$arity=0),t.def(i,"$frozen?",$=function(){return c(o),!1},$.$$arity=0)}($[0],$),function(e,r){var n,$,i,o=s(e,"Kernel"),a=([o].concat(r),"Object tainting is not supported by Opal");t.def(o,"$taint",n=function(){return c(a),this},n.$$arity=0),t.def(o,"$untaint",$=function(){return c(a),this},$.$$arity=0),t.def(o,"$tainted?",i=function(){return c(a),!1},i.$$arity=0)}($[0],$),function(e,r,n){var $,o,s,l,c=a(e,null,"Module");[c].concat(n);t.def(c,"$public",$=function(e){var r=this;return 0===t.slice.call(arguments,0,arguments.length).length&&(r.$$module_function=!1),i},$.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",o=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r},o.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",s=function(t){return!1},s.$$arity=1),t.def(c,"$private_constant",l=function(e){return t.slice.call(arguments,0,arguments.length),i},l.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_instance_method","instance_method"),t.alias(c,"public_method_defined?","method_defined?")}($[0],0,$),function(e,r){var n,$=s(e,"Kernel");[$].concat(r);t.def($,"$private_methods",n=function(e){return t.slice.call(arguments,0,arguments.length),[]},n.$$arity=-1),t.alias($,"private_instance_methods","private_methods")}($[0],$),function(e,r){var n,$=s(e,"Kernel"),i=[$].concat(r);t.def($,"$eval",n=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(o(i,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+o(i,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},n.$$arity=-1)}($[0],$),t.defs(n,"$public",e=function(e){return t.slice.call(arguments,0,arguments.length),i},e.$$arity=-1),t.defs(n,"$private",r=function(e){return t.slice.call(arguments,0,arguments.length),i},r.$$arity=-1),i&&"private"},function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/encoding"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/unsupported")}(Opal),function(t,e){"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("asciidoctor",["module"],(function(t){return e(t.config())})):globalThis.Asciidoctor=e}(0,(function(t){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass);return t.add_stubs(["$new"]),function(e,i,o){var a,s=$(e,null,"File"),l=[s].concat(o);return t.defs(s,"$read",a=function(t){var e="",r=-1;try{var $=new XMLHttpRequest;$.open("GET",t,!1),$.addEventListener("load",(function(){0!==(r=this.status)&&200!==r||(e=this.responseText)})),$.overrideMimeType("text/plain"),$.send()}catch(e){throw n(l,"IOError").$new("Error reading file or directory: "+t+"; reason: "+e.message)}if(404===r||0===r&&!e)throw n(l,"IOError").$new("No such file or directory: "+t);return e},a.$$arity=1),r&&"read"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var r,n,$,i,o=e.top,a=[];e.nil,e.const_get_qualified,e.const_get_relative,e.breaker,e.slice;if(e.add_stubs(["$require"]),"object"==typeof t&&"object"==typeof t.runtime){var s=t.runtime;r=s.platform,n=s.engine,$=s.framework,i=s.ioModule}return i=i||"xmlhttprequest",r=r||"browser",n=n||"",$=$||"",e.const_set(a[0],"JAVASCRIPT_IO_MODULE",i),e.const_set(a[0],"JAVASCRIPT_PLATFORM",r),e.const_set(a[0],"JAVASCRIPT_ENGINE",n),e.const_set(a[0],"JAVASCRIPT_FRAMEWORK",$),o.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,$=t.const_get_relative,i=(t.breaker,t.slice,t.module),o=t.klass,a=t.hash2,s=t.truthy;return t.add_stubs(["$uriish?","$[]","$web_path","$path_resolver","$descends_from?","$base_dir","$start_with?","$attr?","$join","$prepare_source_string","$read","$fetch","$warn","$logger","$normalize_system_path","$read_asset"]),function(e,l){var c=[i(e,"Asciidoctor")].concat(l);!function(e,i,l){var c,u,_=o(e,null,"AbstractNode"),d=[_].concat(l);_.$$prototype.document=r,t.def(_,"$read_contents",c=function(e,i){var o,l,c,u=this,_=r,p=r;if(null==i&&(i=a([],{})),_=u.document,!s(s(o=$(d,"Helpers")["$uriish?"](e))?o:s(l=s(c=p=i["$[]"]("start"))?$(d,"Helpers")["$uriish?"](p):c)?e=_.$path_resolver().$web_path(e,p):l))return e=u.$normalize_system_path(e,i["$[]"]("start"),r,a(["target_name"],{target_name:s(o=i["$[]"]("label"))?o:"asset"})),u.$read_asset(e,a(["normalize","warn_on_failure","label"],{normalize:i["$[]"]("normalize"),warn_on_failure:i.$fetch("warn_on_failure",!0),label:i["$[]"]("label")}));if(!s(s(o=s(l=_.$path_resolver()["$descends_from?"](e,_.$base_dir()))?l:e["$start_with?"]("chrome://"))?o:_["$attr?"]("allow-uri-read")))return s(i.$fetch("warn_on_failure",!0))&&u.$logger().$warn("cannot retrieve contents of "+(s(o=i["$[]"]("label"))?o:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),r;try{return s(i["$[]"]("normalize"))?$(d,"Helpers").$prepare_source_string(n("::","File").$read(e)).$join($(d,"LF")):n("::","File").$read(e)}catch(n){if(!t.rescue(n,[$(d,"StandardError")]))throw n;try{return s(i.$fetch("warn_on_failure",!0))&&u.$logger().$warn("could not retrieve contents of "+(s(o=i["$[]"]("label"))?o:"asset")+" at URI: "+e),r}finally{t.pop_exception()}}},c.$$arity=-2),t.def(_,"$generate_data_uri_from_uri",u=function(t,e){null==e&&(e=!1);var r="",n="",$=-1;try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.overrideMimeType("text/plain; charset=x-user-defined"),i.addEventListener("load",(function(){if(0===($=this.status)||200===$){for(var t="",e=this.responseText,i=0,o=e.length;i<o;++i){var a=255&e.charCodeAt(i);t+=String.fromCharCode(a)}n=btoa(t),r=this.getResponseHeader("content-type")}})),i.send(null),r||(t.endsWith(".jpeg")||t.endsWith(".jpg")||t.endsWith(".jpe")?r="image/jpg":t.endsWith(".png")?r="image/png":t.endsWith(".svg")?r="image/svg+xml":t.endsWith(".bmp")?r="image/bmp":(t.endsWith(".tif")||t.endsWith(".tiff"))&&(r="image/tiff"))}catch(t){$=0}return 404!==$&&(0!==$||n&&r)?"data:"+r+";base64,"+n:(this.$logger().$warn("could not retrieve image data from URI: "+t),t)},u.$$arity=-2)}(c[0],0,c)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.send;return t.add_stubs(["$new","$path"]),function(e,o){var a,s=[$(e,"OpenURI")].concat(o);t.defs(n(s,"OpenURI"),"$open_uri",a=function(e,$){var o,l=a.$$p,c=l||r,u=this,_=r;return l&&(a.$$p=null),o=t.slice.call(arguments,1,arguments.length),_=i(n(s,"File"),"new",[u.$path()].concat(t.to_a(o))),c!==r?t.yield1(c,_):_},a.$$arity=-2)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),n=t.klass,$=t.truthy;return t.add_stubs(["$absolute_path?","$start_with?"]),function(e,i){var o=[r(e,"Asciidoctor")].concat(i);!function(e,r,i){var o,a=n(e,null,"PathResolver");[a].concat(i);t.def(a,"$root?",o=function(t){var e;return $(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://","chrome://")},o.$$arity=1)}(o[0],0,o)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.klass,o=t.truthy;return t.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(e,a){var s=[$(e,"Asciidoctor")].concat(a);!function(e,$,a){var s,l=i(e,$,"PreprocessorReader"),c=[l].concat(a);l.$$prototype.path_resolver=l.$$prototype.document=l.$$prototype.include_stack=l.$$prototype.dir=r,t.def(l,"$resolve_include_path",s=function(t,e,$){var i,a=this,s=r,l=r,u=r,_=r,d=r,p=r,f=r;if(s=(a.path_resolver=o(i=a.path_resolver)?i:n(c,"PathResolver").$new("\\")).$posixify(t),(i=["file",a.document.$base_dir()])[0],l=i[1],o(s["$start_with?"]("file://")))u=_=s;else if(o(n(c,"Helpers")["$uriish?"](s))){if(!o(o(i=a.path_resolver["$descends_from?"](s,l))?i:a.document.$attributes()["$key?"]("allow-uri-read")))return a.$replace_next_line("link:"+t+"["+e+"]");u=_=s}else if(o(a.path_resolver["$absolute_path?"](s)))u=_="file://"+(o(s["$start_with?"]("/"))?"":"/")+s;else if((d=o(p=a.include_stack["$empty?"]())?l:a.dir)["$=="]("."))u=_=s;else if(o(o(i=d["$start_with?"]("file://"))?i:n(c,"Helpers")["$uriish?"](d)["$!"]()))u=d+"/"+s,_=o(p)?s:o(o(i=l["$=="]("."))?i:(f=a.path_resolver["$descends_from?"](u,l))["$!"]())?u:u.$slice(f,u.$length());else if(o(p))u=d+"/"+(_=s);else{if(!o(o(i=f=a.path_resolver["$descends_from?"](d,l))?i:a.document.$attributes()["$key?"]("allow-uri-read")))return a.$replace_next_line("link:"+t+"["+e+"]");u=d+"/"+s,_=o(f)?u.$slice(f,u.$length()):s}return[u,"file",_]},s.$$arity=3)}(s[0],n(s,"Reader"),s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$==","$require"]),n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(e.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),e.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),e.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),e.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):r},Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var $=[],i=t.nil,o=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.hash2,l=t.truthy,c=t.send,u=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function($,u,_){var d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q=a($,null,"Set"),P=[q].concat(_);q.$$prototype.hash=i,q.$include(o(P,"Enumerable")),t.defs(q,"$[]",d=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.$new(r)},d.$$arity=-1),t.def(q,"$initialize",p=function(e){var r,n=p.$$p,$=n||i,a=this;return n&&(p.$$p=null),n&&(p.$$p=null),null==e&&(e=i),a.hash=s([],{}),l(e["$nil?"]())?i:(l(o(P,"Enumerable")["$==="](e))||a.$raise(o(P,"ArgumentError"),"value must be enumerable"),l($)?c(e,"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=i),n.$add(t.yield1($,e))},r.$$s=a,r.$$arity=1,r)):a.$merge(e))},p.$$arity=-1),t.def(q,"$dup",f=function(){return this.$class().$new().$merge(this)},f.$$arity=0),t.def(q,"$-",h=function(t){return l(t["$respond_to?"]("each"))||this.$raise(o(P,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},h.$$arity=1),t.alias(q,"difference","-"),t.def(q,"$inspect",m=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},m.$$arity=0),t.def(q,"$==",y=function(t){var e,r,n=this;return!!l(n["$equal?"](t))||(l(t["$instance_of?"](n.$class()))?n.hash["$=="](t.$instance_variable_get("@hash")):!!l(l(e=t["$is_a?"](o(P,"Set")))?n.$size()["$=="](t.$size()):e)&&c(t,"all?",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=i),null==t&&(t=i),e.hash["$include?"](t)},r.$$s=n,r.$$arity=1,r)))},y.$$arity=1),t.def(q,"$add",g=function(r){var n;return n=[r,!0],c(this.hash,"[]=",t.to_a(n)),e(n.length,1),this},g.$$arity=1),t.alias(q,"<<","add"),t.def(q,"$classify",v=function(){var r,n,$=v.$$p,a=$||i,s=this,l=i;return $&&(v.$$p=null),$&&(v.$$p=null),a===i?s.$enum_for("classify"):(l=c(o(P,"Hash"),"new",[],(r=function(n,$){var o,a=r.$$s||this;return null==n&&(n=i),null==$&&($=i),o=[$,a.$class().$new()],c(n,"[]=",t.to_a(o)),o[e(o.length,1)]},r.$$s=s,r.$$arity=2,r)),c(s,"each",[],((n=function(e){return n.$$s,null==e&&(e=i),l["$[]"](t.yield1(a,e)).$add(e)}).$$s=s,n.$$arity=1,n)),l)},v.$$arity=0),t.def(q,"$collect!",b=function(){var e,r=b.$$p,n=r||i,$=this,o=i;return r&&(b.$$p=null),r&&(b.$$p=null),n===i?$.$enum_for("collect!"):(o=$.$class().$new(),c($,"each",[],((e=function(r){return e.$$s,null==r&&(r=i),o["$<<"](t.yield1(n,r))}).$$s=$,e.$$arity=1,e)),$.$replace(o))},b.$$arity=0),t.alias(q,"map!","collect!"),t.def(q,"$delete",x=function(t){return this.hash.$delete(t),this},x.$$arity=1),t.def(q,"$delete?",k=function(t){var e=this;return l(e["$include?"](t))?(e.$delete(t),e):i},k.$$arity=1),t.def(q,"$delete_if",w=function(){var e,r,n=w.$$p,$=n||i,o=this;return n&&(w.$$p=null),$===i?o.$enum_for("delete_if"):(c(c(o,"select",[],((e=function(r){return e.$$s,null==r&&(r=i),t.yield1($,r)}).$$s=o,e.$$arity=1,e)),"each",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=i),null==t&&(t=i),e.hash.$delete(t)},r.$$s=o,r.$$arity=1,r)),o)},w.$$arity=0),t.def(q,"$add?",E=function(t){return l(this["$include?"](t))?i:this.$add(t)},E.$$arity=1),t.def(q,"$each",A=function(){var t=A.$$p,e=t||i,r=this;return t&&(A.$$p=null),t&&(A.$$p=null),e===i?r.$enum_for("each"):(c(r.hash,"each_key",[],e.$to_proc()),r)},A.$$arity=0),t.def(q,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),t.def(q,"$eql?",S=function(t){var e;return this.hash["$eql?"](c(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=i),t.hash},e.$$s=this,e.$$arity=0,e)))},S.$$arity=1),t.def(q,"$clear",R=function(){return this.hash.$clear(),this},R.$$arity=0),t.def(q,"$include?",C=function(t){return this.hash["$include?"](t)},C.$$arity=1),t.alias(q,"member?","include?"),t.def(q,"$merge",I=function(t){var e;return c(t,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=i),r.$add(t)},e.$$s=this,e.$$arity=1,e)),this},I.$$arity=1),t.def(q,"$replace",T=function(t){var e=this;return e.$clear(),e.$merge(t),e},T.$$arity=1),t.def(q,"$size",L=function(){return this.hash.$size()},L.$$arity=0),t.alias(q,"length","size"),t.def(q,"$subtract",N=function(t){var e;return c(t,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=i),r.$delete(t)},e.$$s=this,e.$$arity=1,e)),this},N.$$arity=1),t.def(q,"$|",F=function(t){return l(t["$respond_to?"]("each"))||this.$raise(o(P,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},F.$$arity=1),t.def(q,"$superset?",D=function(t){var e,n=this;return l(t["$is_a?"](o(P,"Set")))||n.$raise(o(P,"ArgumentError"),"value must be a set"),!l(r(n.$size(),t.$size()))&&c(t,"all?",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=i),r["$include?"](t)},e.$$s=n,e.$$arity=1,e))},D.$$arity=1),t.alias(q,">=","superset?"),t.def(q,"$proper_superset?",z=function(t){var e,r=this;return l(t["$is_a?"](o(P,"Set")))||r.$raise(o(P,"ArgumentError"),"value must be a set"),!l(n(r.$size(),t.$size()))&&c(t,"all?",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=i),r["$include?"](t)},e.$$s=r,e.$$arity=1,e))},z.$$arity=1),t.alias(q,">","proper_superset?"),t.def(q,"$subset?",B=function(t){var e,n=this;return l(t["$is_a?"](o(P,"Set")))||n.$raise(o(P,"ArgumentError"),"value must be a set"),!l(r(t.$size(),n.$size()))&&c(n,"all?",[],((e=function(r){return e.$$s,null==r&&(r=i),t["$include?"](r)}).$$s=n,e.$$arity=1,e))},B.$$arity=1),t.alias(q,"<=","subset?"),t.def(q,"$proper_subset?",M=function(t){var e,r=this;return l(t["$is_a?"](o(P,"Set")))||r.$raise(o(P,"ArgumentError"),"value must be a set"),!l(n(t.$size(),r.$size()))&&c(r,"all?",[],((e=function(r){return e.$$s,null==r&&(r=i),t["$include?"](r)}).$$s=r,e.$$arity=1,e))},M.$$arity=1),t.alias(q,"<","proper_subset?"),t.alias(q,"+","|"),t.alias(q,"union","|"),t.def(q,"$to_a",j=function(){return this.hash.$keys()},j.$$arity=0)}($[0],0,$),function(e,r){var n,$=u(e,"Enumerable"),a=[$].concat(r);t.def($,"$to_set",n=function(e,r){var $,s,l,u=n.$$p,_=u||i,d=this;return u&&(n.$$p=null),u&&(n.$$p=null),($=t.slice.call(arguments,0,arguments.length)).length>0&&(s=$[0],$.splice(0,1)),null==s&&(s=o(a,"Set")),l=$,c(s,"new",[d].concat(t.to_a(l)),_.$to_proc())},n.$$arity=-1)}($[0],$)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.send;return t.add_stubs(["$new"]),function(e,o){var a,s,l=$(e,"Kernel"),c=[l].concat(o);t.def(l,"$open",a=function(e,$){var o,s=a.$$p,l=s||r,u=r;return s&&(a.$$p=null),o=t.slice.call(arguments,1,arguments.length),u=i(n(c,"File"),"new",[e].concat(t.to_a(o))),l!==r?t.yield1(l,u):u},a.$$arity=-2),t.def(l,"$__dir__",s=function(){return""},s.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),i=t.truthy,o=t.gvars;return t.add_stubs(["$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(e,a,s){var l,c,u,_,d=$(e,null,"File"),p=[d].concat(s);d.$$prototype.eof=d.$$prototype.path=r,d.$attr_reader("eof"),d.$attr_reader("lineno"),d.$attr_reader("path"),t.def(d,"$initialize",l=function(t,e){var n,$=this;return null==e&&(e="r"),$.path=t,$.contents=r,$.eof=!1,$.lineno=0,n=/:(.*)/,e=(e=e.$delete("b")).$gsub(n,""),$.flags=e},l.$$arity=-2),t.def(d,"$read",c=function(){var t=this,e=r;return i(t.eof)?"":(e=n(p,"File").$read(t.path),t.eof=!0,t.lineno=e.$size(),e)},c.$$arity=0),t.def(d,"$each_line",u=function(e){var $=u.$$p,a=$||r,s=this,l=r;if(null==o["/"]&&(o["/"]=r),$&&(u.$$p=null),$&&(u.$$p=null),null==e&&(e=o["/"]),i(s.eof))return a!==r?s:[].$to_enum();if(a!==r){l=n(p,"File").$read(s.path),s.eof=!1,s.lineno=0;for(var c=l.$chomp(),_=l.length!=c.length,d=c.split(e),f=0,h=d.length;f<h;f++)s.lineno+=1,f<h-1||_?t.yield1(a,d[f]+e):t.yield1(a,d[f]);return s.eof=!0,s}return s.$read().$each_line()},u.$$arity=-1),t.def(d,"$readlines",_=function(){return n(p,"File").$readlines(this.path)},_.$$arity=0),function(e,$){var i,a,s,l,c=[e].concat($);t.def(e,"$readlines",i=function(t,e){return null==o["/"]&&(o["/"]=r),null==e&&(e=o["/"]),n(c,"File").$read(t).$split(e)},i.$$arity=-2),t.def(e,"$file?",a=function(t){return!0},a.$$arity=1),t.def(e,"$readable?",s=function(t){return!0},s.$$arity=1),t.def(e,"$read",l=function(t){return""},l.$$arity=1)}(t.get_singleton_class(d),p)}(e[0],0,e),function(e,i,o){var a,s=$(e,null,"IO"),l=[s].concat(o);return t.defs(s,"$read",a=function(t){return n(l,"File").$read(t)},a.$$arity=1),r&&"read"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),$=t.send;return t.add_stubs(["$[]=","$-"]),function(e,i,o){var a,s=n(e,null,"MatchData");[s].concat(o);return s.$$prototype.matches=r,t.def(s,"$[]=",a=function(e,r){var n,i,o;return n=[e,r],$(this.matches,"[]=",t.to_a(n)),n[(i=n.length,o=1,"number"==typeof i&&"number"==typeof o?i-o:i["$-"](o))]},a.$$arity=2),r&&"[]="}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$>=","$-","$_original_byteslice","$_original_unpack"]),function(e,i,o){var a,s,l,c=n(e,null,"String");[c].concat(o);return $(c["$method_defined?"]("limit_bytesize"))||t.def(c,"$limit_bytesize",a=function(t){var e,r,n=this;return $((e=t,r=n.$bytes().$length(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?n.$byteslice(0,t).$to_s():n.$to_s()},a.$$arity=1),$(c["$method_defined?"]("limit"))||t.alias(c,"limit","limit_bytesize"),t.alias(c,"_original_byteslice","byteslice"),t.def(c,"$byteslice",s=function(t,e){var r,n,i,o=this;return null==e&&(e=1),$($(r=t["$=="](3)?(i=t,"number"==typeof(n=e)&&"number"==typeof i?n>=i:n["$>="](i)):t["$=="](3))?65279===o.charCodeAt():r)?o.substr(1).$byteslice(0,function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(e,3)):o.$_original_byteslice(t,e)},s.$$arity=-2),t.alias(c,"_original_unpack","unpack"),t.def(c,"$unpack",l=function(t){var e=this;if(t["$=="]("C3")){if($(65279===e.charCodeAt()))return[239,187,191];for(var n=[],i=0;i<3;i++)i<e.length?n.push(e.charCodeAt(i)):n.push(r);return n}return e.$_original_unpack(t)},l.$$arity=1),r&&"unpack"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative),n=(t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),function(e,$){var i,o,a=n(e,"URI"),s=[a].concat($);t.defs(a,"$parse",i=function(t){return t.$extend(r(s,"URI"))},i.$$arity=1),t.def(a,"$path",o=function(){return this},o.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),$=t.hash2,i=t.truthy;return t.add_stubs(["$delete"]),function(e,o){var a,s,l,c,u,_,d,p,f=n(e,"Base64");[f].concat(o);d=t.global.btoa||function(t){return(t instanceof Buffer?t:Buffer.from(t.toString(),"binary")).toString("base64")},p=t.global.atob||function(t){return Buffer.from(t,"base64").toString("binary")},t.defs(f,"$decode64",a=function(t){return p(t.replace(/\r?\n/g,""))},a.$$arity=1),t.defs(f,"$encode64",s=function(t){return d(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},s.$$arity=1),t.defs(f,"$strict_decode64",l=function(t){return p(t)},l.$$arity=1),t.defs(f,"$strict_encode64",c=function(t){return d(t)},c.$$arity=1),t.defs(f,"$urlsafe_decode64",u=function(t){return p(t.replace(/\-/g,"+").replace(/_/g,"/"))},u.$$arity=1),t.defs(f,"$urlsafe_encode64",_=function(e,n){var o,a=r;if(null==n)n=$([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(o=n.$$smap.padding)&&(o=!0),a=d(e).replace(/\+/g,"-").replace(/\//g,"_"),i(o)||(a=a.$delete("=")),a},_.$$arity=-2)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$coerce_to!","$>"]),function(e,o,a){var s,l=$(e,o,"Number"),c=[l].concat(a);return t.def(l,"$round",s=function(t){var e,r;return t=n(c,"Opal")["$coerce_to!"](t,n(c,"Integer"),"to_int"),i((r=0,"number"==typeof(e=t)&&"number"==typeof r?e>r:e["$>"](r)))?Number(this.toFixed(t)):Math.round(this)},s.$$arity=-1),r&&"round"}(e[0],n(e,"Numeric"),e)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/base64"),e.$require("asciidoctor/js/opal_ext/number"),t.config.unsupported_features_severity="ignore",e.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,$=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),o=t.send,a=t.gvars,s=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(r,l){var c,u=i(r,"Asciidoctor"),_=[u].concat(l);t.const_set(_[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(u,"$unpack_hex_range",c=function(t){var e;return o(t,"gsub",[$(_,"HEX_RANGE_RX")],((e=function(){var t,r;e.$$s;return"\\u"+((t=a["~"])===n?n:t["$[]"](1))+(s(t=(r=a["~"])===n?n:r["$[]"](2))?"-\\u"+((r=a["~"])===n?n:r["$[]"](2)):t)}).$$s=this,e.$$arity=0,e))},c.$$arity=1),t.const_set(_[0],"P_L",e("A-Za-z",u.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set(_[0],"P_Nl",u.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set(_[0],"P_Nd",e("0-9",u.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set(_[0],"P_Pc",u.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set(_[0],"CC_ALPHA",""+$(_,"P_L")+$(_,"P_Nl")),t.const_set(_[0],"CG_ALPHA","["+$(_,"CC_ALPHA")+"]"),t.const_set(_[0],"CC_ALNUM",""+$(_,"CC_ALPHA")+$(_,"P_Nd")),t.const_set(_[0],"CG_ALNUM","["+$(_,"CC_ALNUM")+"]"),t.const_set(_[0],"CC_WORD",""+$(_,"CC_ALNUM")+$(_,"P_Pc")),t.const_set(_[0],"CG_WORD","["+$(_,"CC_WORD")+"]"),t.const_set(_[0],"CG_BLANK","[ \\t]"),t.const_set(_[0],"CC_EOL","(?=\\n|$)"),t.const_set(_[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set(_[0],"CC_ALL","[\\s\\S]"),t.const_set(_[0],"CC_ANY","[^\\n]")}(r[0],r)},Opal.modules.strscan=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),$=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(e,i,o){var a,s,l,c,u,_,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T=n(e,null,"StringScanner");[T].concat(o);return T.$$prototype.pos=T.$$prototype.string=T.$$prototype.working=T.$$prototype.matched=T.$$prototype.prev_pos=T.$$prototype.match=r,T.$attr_reader("pos"),T.$attr_reader("matched"),t.def(T,"$initialize",a=function(t){var e=this;return e.string=t,e.pos=0,e.matched=r,e.working=t,e.match=[]},a.$$arity=1),T.$attr_reader("string"),t.def(T,"$beginning_of_line?",s=function(){var t=this;return 0===t.pos||"\n"===t.string.charAt(t.pos-1)},s.$$arity=0),t.alias(T,"bol?","beginning_of_line?"),t.def(T,"$scan",l=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return null==n?e.matched=r:"object"==typeof n?(e.prev_pos=e.pos,e.pos+=n[0].length,e.working=e.working.substring(n[0].length),e.matched=n[0],e.match=n,n[0]):"string"==typeof n?(e.pos+=n.length,e.working=e.working.substring(n.length),n):r},l.$$arity=1),t.def(T,"$scan_until",c=function(t){var e=this;t=e.$anchor(t);for(var n,$=e.pos,i=e.working;;){if(n=t.exec(i),$+=1,i=i.substr(1),null!=n)return e.matched=e.string.substr(e.pos,$-e.pos-1+n[0].length),e.prev_pos=$-1,e.pos=$,e.working=i.substr(n[0].length),e.matched;if(0===i.length)return e.matched=r}},c.$$arity=1),t.def(T,"$[]",u=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length||null==e[t]?r:e[t]},u.$$arity=1),t.def(T,"$check",_=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return e.matched=null==n?r:n[0]},_.$$arity=1),t.def(T,"$check_until",d=function(t){var e=this,n=e.prev_pos,$=e.pos,i=e.$scan_until(t);return i!==r&&(e.matched=i.substr(-1),e.working=e.string.substr($)),e.prev_pos=n,e.pos=$,i},d.$$arity=1),t.def(T,"$peek",p=function(t){return this.working.substring(0,t)},p.$$arity=1),t.def(T,"$eos?",f=function(){return 0===this.working.length},f.$$arity=0),t.def(T,"$exist?",h=function(t){var e=t.exec(this.working);return null==e?r:0==e.index?0:e.index+1},h.$$arity=1),t.def(T,"$skip",m=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);if(null==n)return e.matched=r;var $=n[0],i=$.length;return e.matched=$,e.prev_pos=e.pos,e.pos+=i,e.working=e.working.substring(i),i},m.$$arity=1),t.def(T,"$skip_until",y=function(t){var e=this.$scan_until(t);return e===r?r:(this.matched=e.substr(-1),e.length)},y.$$arity=1),t.def(T,"$get_byte",g=function(){var t=this,e=r;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=r,e},g.$$arity=0),t.alias(T,"getch","get_byte"),t.def(T,"$match?",v=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return null==n?r:(e.prev_pos=e.pos,n[0].length)},v.$$arity=1),t.def(T,"$pos=",b=function(t){var e=this;return t<0&&(t+=e.string.$length()),e.pos=t,e.working=e.string.slice(t)},b.$$arity=1),t.def(T,"$matched_size",x=function(){return this.matched===r?r:this.matched.length},x.$$arity=0),t.def(T,"$post_match",k=function(){var t=this;return t.matched===r?r:t.string.substr(t.pos)},k.$$arity=0),t.def(T,"$pre_match",w=function(){var t=this;return t.matched===r?r:t.string.substr(0,t.prev_pos)},w.$$arity=0),t.def(T,"$reset",E=function(){var t=this;return t.working=t.string,t.matched=r,t.pos=0},E.$$arity=0),t.def(T,"$rest",A=function(){return this.working},A.$$arity=0),t.def(T,"$rest?",O=function(){return 0!==this.working.length},O.$$arity=0),t.def(T,"$rest_size",S=function(){return this.$rest().$size()},S.$$arity=0),t.def(T,"$terminate",R=function(){var e,n,i,o=this;return o.match=r,e=[o.string.$length()],$(o,"pos=",t.to_a(e)),e[(n=e.length,i=1,"number"==typeof n&&"number"==typeof i?n-i:n["$-"](i))]},R.$$arity=0),t.def(T,"$unscan",C=function(){var t=this;return t.pos=t.prev_pos,t.prev_pos=r,t.match=r,t},C.$$arity=0),T.$private(),t.def(T,"$anchor",I=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},I.$$arity=1),r&&"anchor"}(e[0],0,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,r,i){var o=n(e,null,"NilClass");[o].concat(i),$(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","nil?")}(e[0],0,e),function(e,r,i){var o=n(e,null,"String");[o].concat(i),$(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,r,i){var o=n(e,null,"Array");[o].concat(i),$(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,r,i){var o=n(e,null,"Hash");[o].concat(i),$(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,i,o){var a=n(e,null,"Numeric");return[a].concat(o),$(a["$method_defined?"]("nil_or_empty?"))?r:t.alias(a,"nil_or_empty?","nil?")}(e[0],0,e)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n,$=t.top,i=[],o=t.nil,a=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.send),l=t.truthy;return t.add_stubs(["$==","$arity","$instance_method","$send","$new","$<","$length","$dup","$>","$inject","$merge","$[]"]),a(i,"Hash").$instance_method("merge").$arity()["$=="](1)?a(i,"Hash").$send("prepend",s(a(i,"Module"),"new",[],(n=function(){var $,i=n.$$s||this;return t.def(i,"$merge",$=function(n){var i,a,c,u=$.$$p,_=this,d=o;return u&&($.$$p=null),i=t.slice.call(arguments,0,arguments.length),l(e(d=(a=i).$length(),1))?_.$dup():l(r(d,1))?s(a,"inject",[_],((c=function(t,e){return c.$$s,null==t&&(t=o),null==e&&(e=o),t.$merge(e)}).$$s=_,c.$$arity=2,c)):s(_,t.find_super_dispatcher(_,"merge",$,!1),[a["$[]"](0)],null)},$.$$arity=-1),o&&"merge"},n.$$s=$,n.$$arity=0,n))):o},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.truthy),i=t.klass;return t.add_stubs(["$method_defined?"]),$(n(e,"MatchData")["$method_defined?"]("names"))?r:function(e,n,$){var o,a=i(e,null,"MatchData");[a].concat($);return t.def(a,"$names",o=function(){return[]},o.$$arity=0),r&&"names"}(e[0],0,e)},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$=="]),e.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),n([],"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):r},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.truthy,l=t.gvars,c=t.send,u=t.hash2;return t.add_stubs(["$module_function","$require","$include?","$include","$==","$===","$path","$message","$raise","$warn","$logger","$chomp","$empty?","$slice","$unpack","$[]","$byteslice","$bytesize","$[]=","$-","$map","$rstrip","$encode","$encoding","$nil_or_empty?","$!=","$tap","$each_line","$<<","$match?","$gsub","$rindex","$index","$basename","$extname","$!","$length","$directory?","$dirname","$mkdir_p","$mkdir","$private_constant","$join","$divmod","$*","$+","$to_s","$to_i","$succ","$class_for_name","$const_get"]),function(n,_){var d=[a(n,"Asciidoctor")].concat(_);!function(n,_){var d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R=a(n,"Helpers"),C=[R].concat(_);R.$module_function(),t.def(R,"$require_library",d=function(e,r,n){var a=this,c=$,u=$;null==l["!"]&&(l["!"]=$),null==r&&(r=!0),null==n&&(n="abort");try{return a.$require(e)}catch(_){if(!t.rescue(_,[i("::","LoadError")]))throw _;try{return s(a["$include?"](o(C,"Logging")))||a.$include(o(C,"Logging")),s(r)?(r["$=="](!0)&&(r=e),"abort"["$==="](c=n)?(u=l["!"].$path()["$=="](r)?"":" (reason: "+(s(l["!"].$path())?"cannot load '"+l["!"].$path()+"'":l["!"].$message())+")",a.$raise(i("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not available"+u+". Processing aborted.")):"warn"["$==="](c)&&(u=l["!"].$path()["$=="](r)?"":" (reason: "+(s(l["!"].$path())?"cannot load '"+l["!"].$path()+"'":l["!"].$message())+")",a.$logger().$warn("optional gem '"+r+"' is not available"+u+". Functionality disabled."))):"abort"["$==="](c=n)?a.$raise(i("::","LoadError"),"asciidoctor: FAILED: "+l["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](c)&&a.$logger().$warn(l["!"].$message().$chomp(".")+". Functionality disabled."),$}finally{t.pop_exception()}}},d.$$arity=-2),t.def(R,"$prepare_source_array",p=function(r,n){var a,l,u,_,d,p,f,h,m=this,y=$,g=$,v=$,b=$;return null==n&&(n=!0),s(r["$empty?"]())?[]:(y=(g=(v=r["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](o(C,"BOM_BYTES_UTF_16LE"))?(b=[0,v.$byteslice(2,v.$bytesize())],c(r,"[]=",t.to_a(b)),b[e(b.length,1)],s(n)?c(r,"map",[],((a=function(t){return a.$$s,null==t&&(t=$),t.$encode(o(C,"UTF_8"),i(i("::","Encoding"),"UTF_16LE")).$rstrip()}).$$s=m,a.$$arity=1,a)):c(r,"map",[],((l=function(t){return l.$$s,null==t&&(t=$),t.$encode(o(C,"UTF_8"),i(i("::","Encoding"),"UTF_16LE")).$chomp()}).$$s=m,l.$$arity=1,l))):y["$=="](o(C,"BOM_BYTES_UTF_16BE"))?(b=[0,v.$byteslice(2,v.$bytesize())],c(r,"[]=",t.to_a(b)),b[e(b.length,1)],s(n)?c(r,"map",[],((u=function(t){return u.$$s,null==t&&(t=$),t.$encode(o(C,"UTF_8"),i(i("::","Encoding"),"UTF_16BE")).$rstrip()}).$$s=m,u.$$arity=1,u)):c(r,"map",[],((_=function(t){return _.$$s,null==t&&(t=$),t.$encode(o(C,"UTF_8"),i(i("::","Encoding"),"UTF_16BE")).$chomp()}).$$s=m,_.$$arity=1,_))):(g["$=="](o(C,"BOM_BYTES_UTF_8"))&&(b=[0,v.$byteslice(3,v.$bytesize())],c(r,"[]=",t.to_a(b)),b[e(b.length,1)]),v.$encoding()["$=="](o(C,"UTF_8"))?s(n)?c(r,"map",[],((d=function(t){return d.$$s,null==t&&(t=$),t.$rstrip()}).$$s=m,d.$$arity=1,d)):c(r,"map",[],((p=function(t){return p.$$s,null==t&&(t=$),t.$chomp()}).$$s=m,p.$$arity=1,p)):s(n)?c(r,"map",[],((f=function(t){return f.$$s,null==t&&(t=$),t.$encode(o(C,"UTF_8")).$rstrip()}).$$s=m,f.$$arity=1,f)):c(r,"map",[],((h=function(t){return h.$$s,null==t&&(t=$),t.$encode(o(C,"UTF_8")).$chomp()}).$$s=m,h.$$arity=1,h)))},p.$$arity=-2),t.def(R,"$prepare_source_string",f=function(t,e){var r,n,a=$,l=$;return null==e&&(e=!0),s(t["$nil_or_empty?"]())?[]:((a=(l=t.$unpack("C3")).$slice(0,2))["$=="](o(C,"BOM_BYTES_UTF_16LE"))?t=t.$byteslice(2,t.$bytesize()).$encode(o(C,"UTF_8"),i(i("::","Encoding"),"UTF_16LE")):a["$=="](o(C,"BOM_BYTES_UTF_16BE"))?t=t.$byteslice(2,t.$bytesize()).$encode(o(C,"UTF_8"),i(i("::","Encoding"),"UTF_16BE")):l["$=="](o(C,"BOM_BYTES_UTF_8"))?(t=t.$byteslice(3,t.$bytesize())).$encoding()["$=="](o(C,"UTF_8"))||(t=t.$encode(o(C,"UTF_8"))):s(t.$encoding()["$!="](o(C,"UTF_8")))&&(t=t.$encode(o(C,"UTF_8"))),s(e)?c([],"tap",[],(r=function(e){var n,i=r.$$s||this;return null==e&&(e=$),c(t,"each_line",[],((n=function(t){return n.$$s,null==t&&(t=$),e["$<<"](t.$rstrip())}).$$s=i,n.$$arity=1,n))},r.$$s=this,r.$$arity=1,r)):c([],"tap",[],(n=function(e){var r,i=n.$$s||this;return null==e&&(e=$),c(t,"each_line",[],((r=function(t){return r.$$s,null==t&&(t=$),e["$<<"](t.$chomp())}).$$s=i,r.$$arity=1,r))},n.$$s=this,n.$$arity=1,n)))},f.$$arity=-2),t.def(R,"$uriish?",h=function(t){var e;return s(e=t["$include?"](":"))?o(C,"UriSniffRx")["$match?"](t):e},h.$$arity=1),o(C,"RUBY_ENGINE")["$=="]("opal")&&t.def(R,"$encode_uri_component",m=function(t){return encodeURIComponent(t).replace(/%20|[!'()*]/g,(function(t){return"%20"===t?"+":"%"+t.charCodeAt(0).toString(16)}))},m.$$arity=1),t.def(R,"$encode_spaces_in_uri",y=function(t){return s(t["$include?"](" "))?t.$gsub(" ","%20"):t},y.$$arity=1),t.def(R,"$rootname",g=function(t){var e;return s(e=t.$rindex("."))?s(t.$index("/",e))?t:t.$slice(0,e):t},g.$$arity=1),t.def(R,"$basename",v=function(t,e){var r=this;return null==e&&(e=$),s(e)?i("::","File").$basename(t,e["$=="](!0)?r.$extname(t):e):i("::","File").$basename(t)},v.$$arity=-2),t.def(R,"$extname?",b=function(t){var e,r;return s(e=r=t.$rindex("."))?t.$index("/",r)["$!"]():e},b.$$arity=1),s(i(i("::","File"),"ALT_SEPARATOR"))?t.def(R,"$extname",x=function(t,e){var r,n;return null==e&&(e=""),s(n=t.$rindex("."))?s(s(r=t.$index("/",n))?r:t.$index(i(i("::","File"),"ALT_SEPARATOR"),n))?e:t.$slice(n,t.$length()):e},x.$$arity=-2):t.def(R,"$extname",k=function(t,e){var r;return null==e&&(e=""),s(r=t.$rindex("."))?s(t.$index("/",r))?e:t.$slice(r,t.$length()):e},k.$$arity=-2),t.def(R,"$mkdir_p",w=function(e){var r=$;if(s(i("::","File")["$directory?"](e)))return $;(r=i("::","File").$dirname(e))["$=="](".")||this.$mkdir_p(r);try{return i("::","Dir").$mkdir(e)}catch(r){if(!t.rescue(r,[i("::","SystemCallError")]))throw r;try{return s(i("::","File")["$directory?"](e))?$:this.$raise()}finally{t.pop_exception()}}},w.$$arity=1),t.const_set(C[0],"ROMAN_NUMERALS",u(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),R.$private_constant("ROMAN_NUMERALS"),t.def(R,"$int_to_roman",E=function(e){var r;return c(o(C,"ROMAN_NUMERALS"),"map",[],(r=function(n,i){var o,a,s,l,c;r.$$s;return null==n&&(n=$),null==i&&(i=$),a=e.$divmod(i),s=null==(o=t.to_ary(a))[0]?$:o[0],e=null==o[1]?$:o[1],c=s,"number"==typeof(l=n)&&"number"==typeof c?l*c:l["$*"](c)},r.$$s=this,r.$$arity=2,r)).$join()},E.$$arity=1),t.def(R,"$nextval",A=function(t){var e=$;return s(i("::","Integer")["$==="](t))?r(t,1):(e=t.$to_i()).$to_s()["$=="](t.$to_s())?r(e,1):t.$succ()},A.$$arity=1),t.def(R,"$resolve_class",O=function(t){return s(i("::","Class")["$==="](t))?t:s(i("::","String")["$==="](t))?this.$class_for_name(t):$},O.$$arity=1),t.def(R,"$class_for_name",S=function(e){var r=$;try{return s(i("::","Class")["$==="](r=i("::","Object").$const_get(e,!1)))||this.$raise(),r}catch(r){if(!t.rescue(r,[o(C,"StandardError")]))throw r;try{return this.$raise(i("::","NameError"),"Could not resolve class for name: "+e)}finally{t.pop_exception()}}},S.$$arity=1)}(d[0],d)}(n[0],n)},Opal.modules.logger=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.module,s=t.send,l=t.truthy;return t.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),function(r,c,u){var _,d,p,f,h,m,y,g,v,b,x,k,w,E,A,O=o(r,null,"Logger"),S=[O].concat(u);return O.$$prototype.level=O.$$prototype.progname=O.$$prototype.pipe=O.$$prototype.formatter=n,function(e,r){var n=[a(e,"Severity")].concat(r);t.const_set(n[0],"DEBUG",0),t.const_set(n[0],"INFO",1),t.const_set(n[0],"WARN",2),t.const_set(n[0],"ERROR",3),t.const_set(n[0],"FATAL",4),t.const_set(n[0],"UNKNOWN",5)}(S[0],S),O.$include(i(S,"Severity")),t.const_set(S[0],"SEVERITY_LABELS",s(i(S,"Severity").$constants(),"map",[],(_=function(t){return _.$$s,null==t&&(t=n),[i(S,"Severity").$const_get(t),t.$to_s()]},_.$$s=O,_.$$arity=1,_)).$to_h()),function(e,r,a){var s,c,u=o(e,null,"Formatter"),_=[u].concat(a);t.const_set(_[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),t.const_set(_[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),t.def(u,"$call",s=function(t,e,r,n){return this.$format(i(_,"MESSAGE_FORMAT"),t.$chr(),e.$strftime(i(_,"DATE_TIME_FORMAT")),t,r,this.$message_as_string(n))},s.$$arity=4),t.def(u,"$message_as_string",c=function(t){var e,r,i,o=n;return o=t,$("::","String")["$==="](o)?t:$("::","Exception")["$==="](o)?(r=t.$message()+" ("+t.$class()+")\n",i=(l(e=t.$backtrace())?e:[]).$join("\n"),"number"==typeof r&&"number"==typeof i?r+i:r["$+"](i)):t.$inspect()},c.$$arity=1)}(S[0],0,S),O.$attr_reader("level"),O.$attr_accessor("progname"),O.$attr_accessor("formatter"),t.def(O,"$initialize",d=function(t){var e=this;return e.pipe=t,e.level=i(S,"DEBUG"),e.formatter=i(S,"Formatter").$new()},d.$$arity=1),t.def(O,"$level=",p=function(t){var e=this,r=n;return l($("::","Integer")["$==="](t))?e.level=t:l(r=i(S,"SEVERITY_LABELS").$key(t.$to_s().$upcase()))?e.level=r:e.$raise(i(S,"ArgumentError"),"invalid log level: "+t)},p.$$arity=1),t.def(O,"$info",f=function(t){var e=f.$$p,r=e||n;return e&&(f.$$p=null),e&&(f.$$p=null),null==t&&(t=n),s(this,"add",[i(S,"INFO"),n,t],r.$to_proc())},f.$$arity=-1),t.def(O,"$debug",h=function(t){var e=h.$$p,r=e||n;return e&&(h.$$p=null),e&&(h.$$p=null),null==t&&(t=n),s(this,"add",[i(S,"DEBUG"),n,t],r.$to_proc())},h.$$arity=-1),t.def(O,"$warn",m=function(t){var e=m.$$p,r=e||n;return e&&(m.$$p=null),e&&(m.$$p=null),null==t&&(t=n),s(this,"add",[i(S,"WARN"),n,t],r.$to_proc())},m.$$arity=-1),t.def(O,"$error",y=function(t){var e=y.$$p,r=e||n;return e&&(y.$$p=null),e&&(y.$$p=null),null==t&&(t=n),s(this,"add",[i(S,"ERROR"),n,t],r.$to_proc())},y.$$arity=-1),t.def(O,"$fatal",g=function(t){var e=g.$$p,r=e||n;return e&&(g.$$p=null),e&&(g.$$p=null),null==t&&(t=n),s(this,"add",[i(S,"FATAL"),n,t],r.$to_proc())},g.$$arity=-1),t.def(O,"$unknown",v=function(t){var e=v.$$p,r=e||n;return e&&(v.$$p=null),e&&(v.$$p=null),null==t&&(t=n),s(this,"add",[i(S,"UNKNOWN"),n,t],r.$to_proc())},v.$$arity=-1),t.def(O,"$info?",b=function(){return e(this.level,i(S,"INFO"))},b.$$arity=0),t.def(O,"$debug?",x=function(){return e(this.level,i(S,"DEBUG"))},x.$$arity=0),t.def(O,"$warn?",k=function(){return e(this.level,i(S,"WARN"))},k.$$arity=0),t.def(O,"$error?",w=function(){return e(this.level,i(S,"ERROR"))},w.$$arity=0),t.def(O,"$fatal?",E=function(){return e(this.level,i(S,"FATAL"))},E.$$arity=0),t.def(O,"$add",A=function(e,r,o){var a,s,c,u=A.$$p,_=u||n,d=this;return u&&(A.$$p=null),u&&(A.$$p=null),null==r&&(r=n),null==o&&(o=n),l((s=e=l(a=e)?a:i(S,"UNKNOWN"),c=d.level,"number"==typeof s&&"number"==typeof c?s<c:s["$<"](c)))||(o=l(a=o)?a:d.progname,l(r)||(_!==n?r=t.yieldX(_,[]):(r=o,o=d.progname)),d.pipe.$write(d.formatter.$call(l(a=i(S,"SEVERITY_LABELS")["$[]"](e))?a:"ANY",$("::","Time").$now(),o,r))),!0},A.$$arity=-2),n&&"add"}(r[0],0,r)},Opal.modules["asciidoctor/logging"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=t.top,$=[],i=t.nil,o=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),l=t.klass,c=t.send,u=t.truthy,_=t.hash2,d=t.gvars;return t.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$to_h","$map","$constants","$const_get","$<<","$clear","$empty?","$max","$attr_accessor","$memoize_logger","$private","$extend","$private_class_method","$logger","$merge"]),n.$require("logger"),function(n,$){var p=[s(n,"Asciidoctor")].concat($);!function(n,$,d){var p,f,h=l(n,$,"Logger"),m=[h].concat(d);h.$$prototype.max_severity=i,h.$attr_reader("max_severity"),t.def(h,"$initialize",p=function(r){var n=p.$$p,$=this,o=i,s=i,l=i,u=i;for(n&&(p.$$p=null),l=0,u=arguments.length,s=new Array(u);l<u;l++)s[l]=arguments[l];return t.slice.call(arguments,0,arguments.length),c($,t.find_super_dispatcher($,"initialize",p,!1),s,n),o=["asciidoctor"],c($,"progname=",t.to_a(o)),o[e(o.length,1)],o=[a(m,"BasicFormatter").$new()],c($,"formatter=",t.to_a(o)),o[e(o.length,1)],o=[a(m,"WARN")],c($,"level=",t.to_a(o)),o[e(o.length,1)]},p.$$arity=-1),t.def(h,"$add",f=function(e,n,$){var o,s=f.$$p,l=this,_=i,d=i,p=i;for(s&&(f.$$p=null),d=0,p=arguments.length,_=new Array(p);d<p;d++)_[d]=arguments[d];return null==n&&(n=i),null==$&&($=i),u(r(e=u(o=e)?o:a(m,"UNKNOWN"),l.max_severity=u(o=l.max_severity)?o:e))&&(l.max_severity=e),c(l,t.find_super_dispatcher(l,"add",f,!1),_,s)},f.$$arity=-2),function(e,r,n){var $,i=l(e,r,"BasicFormatter"),s=[i].concat(n);t.const_set(s[0],"SEVERITY_LABEL_SUBSTITUTES",_(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),t.def(i,"$call",$=function(t,e,r,n){var $;return r+": "+(u($=a(s,"SEVERITY_LABEL_SUBSTITUTES")["$[]"](t))?$:t)+": "+(u(o("::","String")["$==="](n))?n:n.$inspect())+a(s,"LF")},$.$$arity=4)}(m[0],a(m,"Formatter"),m),function(e,r){var n,$=s(e,"AutoFormattingMessage");[$].concat(r);t.def($,"$inspect",n=function(){var t,e=this;return u(t=e["$[]"]("source_location"))?t+": "+e["$[]"]("text"):e["$[]"]("text")},n.$$arity=0)}(m[0],m)}(p[0],o("::","Logger"),p),function(r,n,$){var o,s,d,p,f,h,m=l(r,n,"MemoryLogger"),y=[m].concat($);m.$$prototype.messages=i,t.const_set(y[0],"SEVERITY_SYMBOL_BY_VALUE",c(a(y,"Severity").$constants(!1),"map",[],(o=function(t){return o.$$s,null==t&&(t=i),[a(y,"Severity").$const_get(t),t]},o.$$s=m,o.$$arity=1,o)).$to_h()),m.$attr_reader("messages"),t.def(m,"$initialize",s=function(){var r;return r=[a(y,"WARN")],c(this,"level=",t.to_a(r)),e(r.length,1),this.messages=[]},s.$$arity=0),t.def(m,"$add",d=function(e,r,n){var $,o=d.$$p,s=o||i;return o&&(d.$$p=null),null==r&&(r=i),null==n&&(n=i),r=u($=r)?$:s!==i?t.yieldX(s,[]):n,this.messages["$<<"](_(["severity","message"],{severity:a(y,"SEVERITY_SYMBOL_BY_VALUE")["$[]"](u($=e)?$:a(y,"UNKNOWN")),message:r})),!0},d.$$arity=-2),t.def(m,"$clear",p=function(){return this.messages.$clear()},p.$$arity=0),t.def(m,"$empty?",f=function(){return this.messages["$empty?"]()},f.$$arity=0),t.def(m,"$max_severity",h=function(){var t,e=this;return u(e["$empty?"]())?i:c(e.messages,"map",[],(t=function(e){return t.$$s,null==e&&(e=i),a(y,"Severity").$const_get(e["$[]"]("severity"))},t.$$s=e,t.$$arity=1,t)).$max()},h.$$arity=0)}(p[0],o("::","Logger"),p),function(n,$,o){var s,_,d=l(n,$,"NullLogger"),p=[d].concat(o);d.$$prototype.max_severity=i,d.$attr_reader("max_severity"),t.def(d,"$initialize",s=function(){var r;return r=[a(p,"WARN")],c(this,"level=",t.to_a(r)),r[e(r.length,1)]},s.$$arity=0),t.def(d,"$add",_=function(t,e,n){var $,o=this;return null==e&&(e=i),null==n&&(n=i),u(r(t=u($=t)?$:a(p,"UNKNOWN"),o.max_severity=u($=o.max_severity)?$:t))&&(o.max_severity=t),!0},_.$$arity=-2)}(p[0],o("::","Logger"),p),function(e,r){var n=s(e,"LoggerManager"),$=[n].concat(r);n.logger_class=a($,"Logger"),function(e,r){var n,$,o,a=[e].concat(r);e.$attr_accessor("logger_class"),t.def(e,"$logger",n=function(t){var e,r=this;return null==r.logger&&(r.logger=i),null==r.logger_class&&(r.logger_class=i),null==d.stderr&&(d.stderr=i),null==t&&(t=d.stderr),r.$memoize_logger(),r.logger=u(e=r.logger)?e:r.logger_class.$new(t)},n.$$arity=-1),t.def(e,"$logger=",$=function(t){var e,r=this;return null==r.logger_class&&(r.logger_class=i),null==d.stderr&&(d.stderr=i),r.logger=u(e=t)?e:r.logger_class.$new(d.stderr)},$.$$arity=1),e.$private(),t.def(e,"$memoize_logger",o=function(){return function(e,r){return[e].concat(r),t.alias(e,"logger","logger"),e.$attr_reader("logger")}(t.get_singleton_class(this),a)},o.$$arity=0)}(t.get_singleton_class(n),$)}(p[0],p),function(e,r){var n,$,i,l=s(e,"Logging"),c=[l].concat(r);t.defs(l,"$included",n=function(t){return t.$extend(a(c,"Logging"))},n.$$arity=1),l.$private_class_method("included"),t.def(l,"$logger",$=function(){return a(c,"LoggerManager").$logger()},$.$$arity=0),t.def(l,"$message_with_context",i=function(t,e){return null==e&&(e=_([],{})),_(["text"],{text:t}).$merge(e).$extend(o(a(c,"Logger"),"AutoFormattingMessage"))},i.$$arity=-2)}(p[0],p)}($[0],$)},Opal.modules["asciidoctor/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.hash2,s=t.send,l=t.truthy,c=t.hash;return t.add_stubs(["$==","$join","$to_a","$new","$empty?","$escape","$[]=","$-"]),function(r,u){var _,d,p=o(r,"Asciidoctor"),f=[p].concat(u);!function(t,e){[o(t,"Rx")].concat(e)}(f[0],f),t.const_set(f[0],"AuthorInfoLineRx",new RegExp("^("+i(f,"CG_WORD")+"["+i(f,"CC_WORD")+"\\-'.]*)(?: +("+i(f,"CG_WORD")+"["+i(f,"CC_WORD")+"\\-'.]*))?(?: +("+i(f,"CG_WORD")+"["+i(f,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(f[0],"AuthorDelimiterRx",/;(?: |$)/),t.const_set(f[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+i(f,"CC_ANY")+"*?),)? *(?!:)("+i(f,"CC_ANY")+"*?)(?: *(?!^),?: *("+i(f,"CC_ANY")+"*))?$")),t.const_set(f[0],"ManpageTitleVolnumRx",new RegExp("^("+i(f,"CC_ANY")+"+?) *\\( *("+i(f,"CC_ANY")+"+?) *\\)$")),t.const_set(f[0],"ManpageNamePurposeRx",new RegExp("^("+i(f,"CC_ANY")+"+?) +- +("+i(f,"CC_ANY")+"+)$")),t.const_set(f[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+i(f,"CC_ANY")+"+)?\\]$")),t.const_set(f[0],"EvalExpressionRx",new RegExp("^("+i(f,"CC_ANY")+"+?) *([=!><]=|[><]) *("+i(f,"CC_ANY")+"+)$")),t.const_set(f[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+i(f,"CC_ANY")+"+)?\\]$")),t.const_set(f[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),t.const_set(f[0],"AttributeEntryRx",new RegExp("^:(!?"+i(f,"CG_WORD")+"[^:]*):(?:[ \\t]+("+i(f,"CC_ANY")+"*))?$")),t.const_set(f[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+i(f,"CC_WORD")+"-]")),i(f,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(f[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+i(f,"CC_ALL")+"*)\\]$")),t.const_set(f[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+i(f,"CG_WORD")+"["+i(f,"CC_WORD")+"-]*|(set|counter2?):"+i(f,"CC_ANY")+"+?)(\\\\)?\\}")),t.const_set(f[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)(?:, *("+i(f,"CC_ANY")+"+))?)\\]\\]$")),t.const_set(f[0],"BlockAttributeListRx",new RegExp("^\\[(|["+i(f,"CC_WORD")+".#%{,\"']"+i(f,"CC_ANY")+"*)\\]$")),t.const_set(f[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+i(f,"CC_WORD")+".#%{,\"']"+i(f,"CC_ANY")+"*|\\[(?:|["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*(?:, *"+i(f,"CC_ANY")+"+)?)\\])\\]$")),t.const_set(f[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+i(f,"CC_ANY")+"*)$")),t.const_set(f[0],"AdmonitionParagraphRx",new RegExp("^("+i(f,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),t.const_set(f[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+i(f,"CC_ANY")+"*)$")),t.const_set(f[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+i(f,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(f[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+i(f,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(f[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+i(f,"CC_ANY")+"*?"+i(f,"CG_ALNUM")+i(f,"CC_ANY")+"*)$")),t.const_set(f[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)(?:, *("+i(f,"CC_ANY")+"+))?\\]\\]$")),t.const_set(f[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+i(f,"CC_WORD")+"\\-.]+?")),t.const_set(f[0],"SectionLevelStyleRx",/^sect\d$/),t.const_set(f[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+i(f,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])")),t.const_set(f[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+i(f,"CC_ANY")+"*)$")),t.const_set(f[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+i(f,"CC_ANY")+"*)$")),t.const_set(f[0],"OrderedListMarkerRxMap",a(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(f[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+i(f,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+i(f,"CC_ANY")+"*)$)")),t.const_set(f[0],"DescriptionListSiblingRx",a(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+i(f,"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+i(f,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+i(f,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+i(f,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+i(f,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+i(f,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+i(f,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+i(f,"CC_ANY")+"*)$)")})),t.const_set(f[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+i(f,"CC_ANY")+"*)$")),t.const_set(f[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),t.const_set(f[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),t.const_set(f[0],"CalloutExtractRxMap",s($("::","Hash"),"new",[],((_=function(r,o){var a;_.$$s;return null==r&&(r=n),null==o&&(o=n),a=[o,new RegExp("("+(l(o["$empty?"]())?"":$("::","Regexp").$escape(o)+" ?")+")?"+i(f,"CalloutExtractRxt"))],s(r,"[]=",t.to_a(a)),a[e(a.length,1)]}).$$s=p,_.$$arity=2,_))),t.const_set(f[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+i(f,"CC_EOL")+")")),t.const_set(f[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+i(f,"CC_EOL")+")")),t.const_set(f[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+i(f,"CC_EOL")+")"),t.const_set(f[0],"CalloutSourceRxMap",s($("::","Hash"),"new",[],((d=function(r,o){var a;d.$$s;return null==r&&(r=n),null==o&&(o=n),a=[o,new RegExp("("+(l(o["$empty?"]())?"":$("::","Regexp").$escape(o)+" ?")+")?"+i(f,"CalloutSourceRxt"))],s(r,"[]=",t.to_a(a)),a[e(a.length,1)]}).$$s=p,d.$$arity=2,d))),t.const_set(f[0],"ListRxMap",a(["ulist","olist","dlist","colist"],{ulist:i(f,"UnorderedListRx"),olist:i(f,"OrderedListRx"),dlist:i(f,"DescriptionListRx"),colist:i(f,"CalloutListRx")})),t.const_set(f[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),t.const_set(f[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(f[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(f[0],"CustomBlockMacroRx",new RegExp("^("+i(f,"CG_WORD")+"["+i(f,"CC_WORD")+"-]*)::(|\\S|\\S"+i(f,"CC_ANY")+"*?\\S)\\[("+i(f,"CC_ANY")+"+)?\\]$")),t.const_set(f[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+i(f,"CC_ANY")+"*?\\S)\\[("+i(f,"CC_ANY")+"+)?\\]$")),t.const_set(f[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+i(f,"CC_ANY")+"+)?\\]$")),t.const_set(f[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)(?:, *("+i(f,"CC_ANY")+"+?))?\\]\\]|anchor:(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+i(f,"CC_ANY")+"*?[^\\\\])\\]))")),t.const_set(f[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)(?:, *("+i(f,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+i(f,"CC_ANY")+"*?[^\\\\])\\])")),t.const_set(f[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)(?:, *("+i(f,"CC_ANY")+"+?))?\\]\\]")),t.const_set(f[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+i(f,"CC_ALPHA")+"_:]["+i(f,"CC_WORD")+"\\-:.]*)(?:, *("+i(f,"CC_ANY")+"+?))?\\]\\]\\]")),t.const_set(f[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+i(f,"CG_WORD")+"(?:&amp;|["+i(f,"CC_WORD")+"\\-.%+])*@"+i(f,"CG_ALNUM")+"["+i(f,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b")),t.const_set(f[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+i(f,"CC_WORD")+"-]+)?)\\[(?:|("+i(f,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m")),t.const_set(f[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+i(f,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(f[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+i(f,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+i(f,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(f[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+i(f,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(f[0],"InlineLinkRx",new RegExp("(^|link:|"+i(f,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+i(f,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(f[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+i(f,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(f[0],"MacroNameRx",new RegExp("^"+i(f,"CG_WORD")+"["+i(f,"CC_WORD")+"-]*$")),t.const_set(f[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+i(f,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(f[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+i(f,"CG_WORD")+"|["+i(f,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+i(f,"CC_ALL")+"*?[^\\\\]))\\]","m")),t.const_set(f[0],"InlineMenuRx",new RegExp('\\\\?"(['+i(f,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(f[0],"InlinePassRx",c(!1,["+","`",new RegExp("(^|[^"+i(f,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+i(f,"CC_ALL")+"*?\\S)\\4)(?!"+i(f,"CG_WORD")+")","m")],!0,["`",n,new RegExp("(^|[^`"+i(f,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+i(f,"CC_ALL")+"*?\\S)\\4)(?![`"+i(f,"CC_WORD")+"])","m")])),t.const_set(f[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+i(f,"CC_ALL")+"*?\\S)\\+$","m")),t.const_set(f[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+i(f,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+i(f,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(f[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+i(f,"CC_WORD")+"#/.:{]"+i(f,"CC_ALL")+"*?)&gt;&gt;|xref:(["+i(f,"CC_WORD")+"#/.:{]"+i(f,"CC_ALL")+"*?)\\[(?:\\]|("+i(f,"CC_ALL")+"*?[^\\\\])\\]))","m")),i(f,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(f[0],"HardLineBreakRx",new RegExp("^("+i(f,"CC_ANY")+"*) \\+$","m")),t.const_set(f[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(f[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(f[0],"BlankLineRx",/\n{2,}/),t.const_set(f[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(f[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(f[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(f[0],"SubModifierSniffRx",/[+-]/),t.const_set(f[0],"TrailingDigitsRx",/\d+$/),t.const_set(f[0],"UriSniffRx",new RegExp("^"+i(f,"CG_ALPHA")+"["+i(f,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(f[0],"XmlSanitizeRx",/<[^>]+>/)}(r[0],r)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice),u=t.module,_=t.hash2,d=t.hash,p=t.truthy,f=t.send,h=t.gvars;return t.add_stubs(["$freeze","$+","$keys","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$clear","$split","$apply_subs","$==","$gsub","$match?","$compat_mode","$convert_quoted_text","$attributes","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$info","$squeeze","$delete","$reject","$start_with?","$do_replacement","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$slice","$length","$names","$config","$merge","$[]=","$-","$normalize_text","$parse_attributes","$process_method","$expand_subs","$text","$text=","$convert","$class","$strip","$>","$index","$min","$compact","$end_with?","$map","$chop","$new","$pop","$rstrip","$register","$tr","$basename","$parse","$lstrip","$split_simple_csv","$partition","$extract_attributes_from_text","$sub","$encode_uri_component","$style","$extname?","$rindex","$info?","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$resolve_id","$find","$footnotes","$id","$<","$size","$<<","$attr?","$attr","$to_s","$read_next_id","$callouts","$syntax_highlighter","$highlight?","$sub_source","$extract_callouts","$name","$to_sym","$to_i","$resolve_lines_to_highlight","$highlight","$nil_or_empty?","$restore_callouts","$count","$to_a","$|","$sort","$*","$parse_quoted_text_attributes","$resolve_pass_subs","$extract_inner_passthrough","$basebackend?","$error","$chr","$drop","$&","$resolve_subs","$resolve_block_subs","$parse_into","$private","$=~","$shorthand_property_syntax","$each_char"]),function(o,m){var y=[u(o,"Asciidoctor")].concat(m);!function(o,m){var y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K=u(o,"Substitutors"),V=[K].concat(m);t.const_set(V[0],"SpecialCharsRx",/[<&>]/),t.const_set(V[0],"SpecialCharsTr",_([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(V[0],"QuotedTextSniffRx",d(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(V[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(V[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(V[0],"NO_SUBS",[]).$freeze(),t.const_set(V[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(V[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(V[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(V[0],"SUB_GROUPS",_(["none","normal","verbatim","specialchars"],{none:l(V,"NO_SUBS"),normal:l(V,"NORMAL_SUBS"),verbatim:l(V,"VERBATIM_SUBS"),specialchars:l(V,"BASIC_SUBS")})),t.const_set(V[0],"SUB_HINTS",_(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(V[0],"SUB_OPTIONS",_(["block","inline"],{block:e(e(l(V,"SUB_GROUPS").$keys(),l(V,"NORMAL_SUBS")),["callouts"]),inline:e(l(V,"SUB_GROUPS").$keys(),l(V,"NORMAL_SUBS"))})),t.const_set(V[0],"CAN",""),t.const_set(V[0],"DEL",""),t.const_set(V[0],"PASS_START",""),t.const_set(V[0],"PASS_END",""),t.const_set(V[0],"PassSlotRx",new RegExp(l(V,"PASS_START")+"(\\d+)"+l(V,"PASS_END"))),t.const_set(V[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+l(V,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+l(V,"PASS_END")+"</span>")),t.const_set(V[0],"RS","\\"),t.const_set(V[0],"R_SB","]"),t.const_set(V[0],"ESC_R_SB","\\]"),t.const_set(V[0],"PLUS","+"),t.def(K,"$apply_subs",y=function(t,e){var r,n,$,i=this,o=a,c=a;return null==i.passthroughs&&(i.passthroughs=a),null==i.passthroughs_locked&&(i.passthroughs_locked=a),null==e&&(e=l(V,"NORMAL_SUBS")),p(p(r=t["$empty?"]())?r:e["$!"]())?t:(p($=s("::","Array")["$==="](t))&&(t=p(t["$[]"](1))?t.$join(l(V,"LF")):t["$[]"](0)),p(e["$include?"]("macros"))&&(t=i.$extract_passthroughs(t),p(i.passthroughs["$empty?"]())||(o=i.passthroughs,i.passthroughs_locked=p(r=i.passthroughs_locked)?r:c=!0)),f(e,"each",[],(n=function(r){var $=n.$$s||this,i=a;return null==r&&(r=a),"specialcharacters"["$==="](i=r)?t=$.$sub_specialchars(t):"quotes"["$==="](i)?t=$.$sub_quotes(t):"attributes"["$==="](i)?p(t["$include?"](l(V,"ATTR_REF_HEAD")))?t=$.$sub_attributes(t):a:"replacements"["$==="](i)?t=$.$sub_replacements(t):"macros"["$==="](i)?t=$.$sub_macros(t):"highlight"["$==="](i)?t=$.$highlight_source(t,e["$include?"]("callouts")):"callouts"["$==="](i)?p(e["$include?"]("highlight"))?a:t=$.$sub_callouts(t):"post_replacements"["$==="](i)?t=$.$sub_post_replacements(t):$.$logger().$warn("unknown substitution type "+r)},n.$$s=i,n.$$arity=1,n)),p(o)&&(t=i.$restore_passthroughs(t),p(c)&&(o.$clear(),i.passthroughs_locked=a)),p($)?t.$split(l(V,"LF"),-1):t)},y.$$arity=-2),t.def(K,"$apply_normal_subs",g=function(t){return this.$apply_subs(t,l(V,"NORMAL_SUBS"))},g.$$arity=1),t.def(K,"$apply_header_subs",v=function(t){return this.$apply_subs(t,l(V,"HEADER_SUBS"))},v.$$arity=1),t.alias(K,"apply_title_subs","apply_subs"),t.def(K,"$apply_reftext_subs",b=function(t){return this.$apply_subs(t,l(V,"REFTEXT_SUBS"))},b.$$arity=1),l(V,"RUBY_ENGINE")["$=="]("opal")&&t.def(K,"$sub_specialchars",x=function(t){var e,r;return p(p(e=p(r=t["$include?"](">"))?r:t["$include?"]("&"))?e:t["$include?"]("<"))?t.$gsub(l(V,"SpecialCharsRx"),l(V,"SpecialCharsTr")):t},x.$$arity=1),t.alias(K,"sub_specialcharacters","sub_specialchars"),t.def(K,"$sub_quotes",k=function(t){var e,r,n=this;return null==n.document&&(n.document=a),p(l(V,"QuotedTextSniffRx")["$[]"](r=n.document.$compat_mode())["$match?"](t))&&f(l(V,"QUOTE_SUBS")["$[]"](r),"each",[],(e=function(r,n,$){var i,o=e.$$s||this;return null==r&&(r=a),null==n&&(n=a),null==$&&($=a),t=f(t,"gsub",[$],(i=function(){var t=i.$$s||this;return null==h["~"]&&(h["~"]=a),t.$convert_quoted_text(h["~"],r,n)},i.$$s=o,i.$$arity=0,i))},e.$$s=n,e.$$arity=3,e)),t},k.$$arity=1),t.def(K,"$sub_attributes",w=function(e,r){var n,$,i,o,s=this,c=a,u=a,d=a,m=a,y=a,g=a,v=a,b=a;return null==s.document&&(s.document=a),null==r&&(r=_([],{})),c=s.document.$attributes(),u=d=m=y=g=v=a,e=f(e,"gsub",[l(V,"AttributeReferenceRx")],(n=function(){var e,$,i,o,s=n.$$s||this,_=a,b=a,x=a,k=a;return null==s.document&&(s.document=a),p(p(e=(($=h["~"])===a?a:$["$[]"](1))["$=="](l(V,"RS")))?e:(($=h["~"])===a?a:$["$[]"](4))["$=="](l(V,"RS")))?"{"+((e=h["~"])===a?a:e["$[]"](2))+"}":p((e=h["~"])===a?a:e["$[]"](3))?(_=(b=((e=h["~"])===a?a:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](_)?($=l(V,"Parser").$store_attribute(b["$[]"](0),p(i=b["$[]"](1))?i:"",s.document),e=t.to_ary($),null==e[0]?a:e[0],x=null==e[1]?a:e[1],u=p(p(e=x)?e:(g=p($=g)?$:p(i=c["$[]"]("attribute-undefined"))?i:l(V,"Compliance").$attribute_undefined())["$!="]("drop-line"))?y=l(V,"DEL"):d=l(V,"CAN")):"counter2"["$==="](_)?(f(s.document,"counter",t.to_a(b)),u=y=l(V,"DEL")):f(s.document,"counter",t.to_a(b))):p(c["$key?"](k=((e=h["~"])===a?a:e["$[]"](2)).$downcase()))?c["$[]"](k):p(x=l(V,"INTRINSIC_ATTRIBUTES")["$[]"](k))?x:(_=v=p(e=v)?e:p($=p(i=r["$[]"]("attribute_missing"))?i:c["$[]"]("attribute-missing"))?$:l(V,"Compliance").$attribute_missing(),"drop"["$==="](_)?u=y=l(V,"DEL"):"drop-line"["$==="](_)?((m=p(e=m)?e:p($=r["$[]"]("drop_line_severity"))?$:"info")["$=="]("info")&&f(s.$logger(),"info",[],((o=function(){return o.$$s,"dropping line containing reference to missing attribute: "+k}).$$s=s,o.$$arity=0,o)),u=d=l(V,"CAN")):"warn"["$==="](_)?(s.$logger().$warn("skipping reference to missing attribute: "+k),(e=h["~"])===a?a:e["$[]"](0)):(e=h["~"])===a?a:e["$[]"](0))},n.$$s=s,n.$$arity=0,n)),p(u)?p(y)?(b=e.$squeeze(l(V,"DEL")).$split(l(V,"LF"),-1),p(d)?f(b,"reject",[],($=function(t){var e,r,n;$.$$s;return null==t&&(t=a),p(e=p(r=p(n=t["$=="](l(V,"DEL")))?n:t["$=="](l(V,"CAN")))?r:t["$start_with?"](l(V,"CAN")))?e:t["$include?"](l(V,"CAN"))},$.$$s=s,$.$$arity=1,$)).$join(l(V,"LF")).$delete(l(V,"DEL")):f(b,"reject",[],(i=function(t){return i.$$s,null==t&&(t=a),t["$=="](l(V,"DEL"))},i.$$s=s,i.$$arity=1,i)).$join(l(V,"LF")).$delete(l(V,"DEL"))):p(e["$include?"](l(V,"LF")))?f(e.$split(l(V,"LF"),-1),"reject",[],(o=function(t){var e,r;o.$$s;return null==t&&(t=a),p(e=p(r=t["$=="](l(V,"CAN")))?r:t["$start_with?"](l(V,"CAN")))?e:t["$include?"](l(V,"CAN"))},o.$$s=s,o.$$arity=1,o)).$join(l(V,"LF")):"":e},w.$$arity=-2),t.def(K,"$sub_replacements",E=function(t){var e;return p(l(V,"ReplaceableTextRx")["$match?"](t))&&f(l(V,"REPLACEMENTS"),"each",[],(e=function(r,n,$){var i,o=e.$$s||this;return null==r&&(r=a),null==n&&(n=a),null==$&&($=a),t=f(t,"gsub",[r],(i=function(){var t=i.$$s||this;return null==h["~"]&&(h["~"]=a),t.$do_replacement(h["~"],n,$)},i.$$s=o,i.$$arity=0,i))},e.$$s=this,e.$$arity=3,e)),t},E.$$arity=1),t.def(K,"$sub_macros",A=function($){var i,o,u,d,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T=this,L=a,N=a,F=a;return null==T.document&&(T.document=a),null==T.context&&(T.context=a),null==T.parent&&(T.parent=a),S=$["$include?"]("["),R=$["$include?"](":"),C=p(i=S)?R:i,I=p(i=C)?$["$include?"](":["):i,L=(N=T.document).$attributes(),p(p(i=F=N.$extensions())?F["$inline_macros?"]():i)&&f(F.$inline_macros(),"each",[],(o=function(e){var n,i=o.$$s||this;return null==e&&(e=a),$=f($,"gsub",[e.$instance().$regexp()],(n=function(){var $,i,o,s,c=n.$$s||this,u=a,d=a,m=a,y=a,g=a,v=a,b=a,x=a;return null==h["~"]&&(h["~"]=a),p((u=($=h["~"])===a?a:$["$[]"](0))["$start_with?"](l(V,"RS")))?(($=h["~"])===a?a:$["$[]"](0)).$slice(1,(($=h["~"])===a?a:$["$[]"](0)).$length()):(p(h["~"].$names()["$empty?"]())?($=[(i=h["~"])===a?a:i["$[]"](1),(i=h["~"])===a?a:i["$[]"](2)],d=$[0],m=$[1]):($=[function(){try{return h["~"]["$[]"]("target")}catch(e){if(!t.rescue(e,[l(V,"StandardError")]))throw e;try{return a}finally{t.pop_exception()}}}(),function(){try{return h["~"]["$[]"]("content")}catch(e){if(!t.rescue(e,[l(V,"StandardError")]))throw e;try{return a}finally{t.pop_exception()}}}()],d=$[0],m=$[1]),s=p(y=(g=e.$config())["$[]"]("default_attrs"))?y.$merge():_([],{}),p(m)&&(p(m["$empty?"]())?g["$[]"]("content_model")["$=="]("attributes")||(v=["text",m],f(s,"[]=",t.to_a(v)),v[r(v.length,1)]):(m=c.$normalize_text(m,!0,!0),g["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(m,p($=p(i=g["$[]"]("positional_attrs"))?i:g["$[]"]("pos_attrs"))?$:[],_(["into"],{into:s})):(v=["text",m],f(s,"[]=",t.to_a(v)),v[r(v.length,1)])),d=p($=d)?$:g["$[]"]("format")["$=="]("short")?m:d),p(l(V,"Inline")["$==="](b=e.$process_method()["$[]"](c,d,s)))?(p(p($=x=b.$attributes().$delete("subs"))?x=c.$expand_subs(x,"custom inline macro"):$)&&(v=[c.$apply_subs(b.$text(),x)],f(b,"text=",t.to_a(v)),v[r(v.length,1)]),b.$convert()):p(b)?(f(c.$logger(),"info",[],((o=function(){return o.$$s,"expected substitution value for custom inline macro to be of type Inline; got "+b.$class()+": "+u}).$$s=c,o.$$arity=0,o)),b):"")},n.$$s=i,n.$$arity=0,n))},o.$$s=T,o.$$arity=1,o)),p(L["$key?"]("experimental"))&&(p(p(i=I)?p(u=$["$include?"]("kbd:"))?u:$["$include?"]("btn:"):i)&&($=f($,"gsub",[l(V,"InlineKbdBtnMacroRx")],(d=function(){var $,i,o,s=d.$$s||this,c=a,u=a,m=a,y=a;return p(($=h["~"])===a?a:$["$[]"](1))?(($=h["~"])===a?a:$["$[]"](0)).$slice(1,(($=h["~"])===a?a:$["$[]"](0)).$length()):(($=h["~"])===a?a:$["$[]"](2))["$=="]("kbd")?(p((c=(($=h["~"])===a?a:$["$[]"](3)).$strip())["$include?"](l(V,"R_SB")))&&(c=c.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB"))),p(p($=n(c.$length(),1))?u=p(u=c.$index(",",1))?[u,c.$index("+",1)].$compact().$min():c.$index("+",1):$)?(m=c.$slice(u,1),p(c["$end_with?"](m))?(y=[-1,e((c=f(c.$chop().$split(m,-1),"map",[],((i=function(t){return i.$$s,null==t&&(t=a),t.$strip()}).$$s=s,i.$$arity=1,i)))["$[]"](-1),m)],f(c,"[]=",t.to_a(y)),y[r(y.length,1)]):c=f(c.$split(m),"map",[],((o=function(t){return o.$$s,null==t&&(t=a),t.$strip()}).$$s=s,o.$$arity=1,o))):c=[c],l(V,"Inline").$new(s,"kbd",a,_(["attributes"],{attributes:_(["keys"],{keys:c})})).$convert()):l(V,"Inline").$new(s,"button",s.$normalize_text(($=h["~"])===a?a:$["$[]"](3),!0,!0)).$convert()},d.$$s=T,d.$$arity=0,d))),p(p(i=C)?$["$include?"]("menu:"):i)&&($=f($,"gsub",[l(V,"InlineMenuMacroRx")],(m=function(){var t,e,r,n=m.$$s||this,$=a,i=a,o=a,s=a;return p(((t=h["~"])===a?a:t["$[]"](0))["$start_with?"](l(V,"RS")))?((t=h["~"])===a?a:t["$[]"](0)).$slice(1,((t=h["~"])===a?a:t["$[]"](0)).$length()):(r=(t=h["~"])===a?a:t["$[]"](1),p($=(t=h["~"])===a?a:t["$[]"](2))?(p($["$include?"](l(V,"R_SB")))&&($=$.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB"))),p(i=p($["$include?"]("&gt;"))?"&gt;":p($["$include?"](","))?",":a)?s=(o=f($.$split(i),"map",[],((e=function(t){return e.$$s,null==t&&(t=a),t.$strip()}).$$s=n,e.$$arity=1,e))).$pop():(o=(t=[[],$.$rstrip()])[0],s=t[1])):(o=(t=[[],a])[0],s=t[1]),l(V,"Inline").$new(n,"menu",a,_(["attributes"],{attributes:_(["menu","submenus","menuitem"],{menu:r,submenus:o,menuitem:s})})).$convert())},m.$$s=T,m.$$arity=0,m))),p(p(i=$["$include?"]('"'))?$["$include?"]("&gt;"):i)&&($=f($,"gsub",[l(V,"InlineMenuRx")],(y=function(){var e,r,n,$,i,o,s=y.$$s||this,u=a;return p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS")))?((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length()):(r=f(((n=h["~"])===a?a:n["$[]"](1)).$split("&gt;"),"map",[],(($=function(t){return $.$$s,null==t&&(t=a),t.$strip()}).$$s=s,$.$$arity=1,$)),i=null==(e=t.to_ary(r))[0]?a:e[0],o=(u=c.call(e,1)).$pop(),l(V,"Inline").$new(s,"menu",a,_(["attributes"],{attributes:_(["menu","submenus","menuitem"],{menu:i,submenus:u,menuitem:o})})).$convert())},y.$$s=T,y.$$arity=0,y)))),p(p(i=C)?p(u=$["$include?"]("image:"))?u:$["$include?"]("icon:"):i)&&($=f($,"gsub",[l(V,"InlineImageMacroRx")],(g=function(){var e,n,$=g.$$s||this,i=a,o=a,s=a,c=a;return p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS")))?((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length()):(p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"]("icon:"))?(i=(e=["icon",["size"]])[0],o=e[1]):(i=(e=["image",["alt","width","height"]])[0],o=e[1]),n=(e=h["~"])===a?a:e["$[]"](1),s=$.$parse_attributes((e=h["~"])===a?a:e["$[]"](2),o,_(["unescape_input"],{unescape_input:!0})),i["$=="]("icon")||(N.$register("images",n),c=["imagesdir",L["$[]"]("imagesdir")],f(s,"[]=",t.to_a(c)),c[r(c.length,1)]),p(e=s["$[]"]("alt"))||(c=["alt",(c=["default-alt",l(V,"Helpers").$basename(n,!0).$tr("_-"," ")],f(s,"[]=",t.to_a(c)),c[r(c.length,1)])],f(s,"[]=",t.to_a(c)),c[r(c.length,1)]),l(V,"Inline").$new($,"image",a,_(["type","target","attributes"],{type:i,target:n,attributes:s})).$convert())},g.$$s=T,g.$$arity=0,g))),p(p(i=p(u=$["$include?"]("(("))?$["$include?"]("))"):u)?i:p(u=I)?$["$include?"]("dexterm"):u)&&($=f($,"gsub",[l(V,"InlineIndextermMacroRx")],(v=function(){var e,n,$,i,o=v.$$s||this,s=a,u=a,d=a,m=a,y=a,g=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a;return function(){if(s=(e=h["~"])===a?a:e["$[]"](1),"indexterm"["$==="](s))return p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS")))?((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length()):(p((u=o.$normalize_text((e=h["~"])===a?a:e["$[]"](2),!0,!0))["$include?"]("="))?p(d=(m=l(V,"AttributeList").$new(u,o).$parse())["$[]"](1))?(y=["terms",[d]],f(m,"[]=",t.to_a(y)),y[r(y.length,1)],p(g=m["$[]"]("see-also"))&&(y=["see-also",p(g["$include?"](","))?f(g.$split(","),"map",[],((n=function(t){return n.$$s,null==t&&(t=a),t.$lstrip()}).$$s=o,n.$$arity=1,n)):[g]],f(m,"[]=",t.to_a(y)),y[r(y.length,1)])):m=_(["terms"],{terms:u}):m=_(["terms"],{terms:o.$split_simple_csv(u)}),l(V,"Inline").$new(o,"indexterm",a,_(["attributes"],{attributes:m})).$convert());if("indexterm2"["$==="](s))return p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS")))?((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length()):(p((b=o.$normalize_text((e=h["~"])===a?a:e["$[]"](2),!0,!0))["$include?"]("="))&&(b=p(e=p($=(m=l(V,"AttributeList").$new(b,o).$parse())["$[]"](1))?$:m=a)?e:b,p(p(e=m)?g=m["$[]"]("see-also"):e)&&(y=["see-also",p(g["$include?"](","))?f(g.$split(","),"map",[],((i=function(t){return i.$$s,null==t&&(t=a),t.$lstrip()}).$$s=o,i.$$arity=1,i)):[g]],f(m,"[]=",t.to_a(y)),y[r(y.length,1)])),l(V,"Inline").$new(o,"indexterm",b,_(["attributes","type"],{attributes:m,type:"visible"})).$convert());if(x=(e=h["~"])===a?a:e["$[]"](3),p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS")))){if(!p(p(e=x["$start_with?"]("("))?x["$end_with?"](")"):e))return((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length());x=x.$slice(1,r(x.$length(),2)),k=(e=[!0,"(",")"])[0],w=e[1],E=e[2]}else k=!0,p(x["$start_with?"]("("))?p(x["$end_with?"](")"))?(e=[x.$slice(1,r(x.$length(),2)),!1],x=e[0],k=e[1]):(e=[x.$slice(1,x.$length()),"(",""],x=e[0],w=e[1],E=e[2]):p(x["$end_with?"](")"))&&(e=[x.$chop(),"",")"],x=e[0],w=e[1],E=e[2]);return p(k)?(p((b=o.$normalize_text(x,!0))["$include?"](";&"))&&(p(b["$include?"](" &gt;&gt; "))?($=b.$partition(" &gt;&gt; "),e=t.to_ary($),b=null==e[0]?a:e[0],null==e[1]?a:e[1],A=null==e[2]?a:e[2],m=_(["see"],{see:A})):p(b["$include?"](" &amp;&gt; "))&&($=b.$split(" &amp;&gt; "),e=t.to_ary($),b=null==e[0]?a:e[0],g=c.call(e,1),m=_(["see-also"],{"see-also":g}))),O=l(V,"Inline").$new(o,"indexterm",b,_(["attributes","type"],{attributes:m,type:"visible"})).$convert()):(m=_([],{}),p((S=o.$normalize_text(x,!0))["$include?"](";&"))&&(p(S["$include?"](" &gt;&gt; "))?($=S.$partition(" &gt;&gt; "),e=t.to_ary($),S=null==e[0]?a:e[0],null==e[1]?a:e[1],A=null==e[2]?a:e[2],y=["see",A],f(m,"[]=",t.to_a(y)),y[r(y.length,1)]):p(S["$include?"](" &amp;&gt; "))&&($=S.$split(" &amp;&gt; "),e=t.to_ary($),S=null==e[0]?a:e[0],g=c.call(e,1),y=["see-also",g],f(m,"[]=",t.to_a(y)),y[r(y.length,1)])),y=["terms",o.$split_simple_csv(S)],f(m,"[]=",t.to_a(y)),y[r(y.length,1)],O=l(V,"Inline").$new(o,"indexterm",a,_(["attributes"],{attributes:m})).$convert()),p(w)?""+w+O+E:O}()},v.$$s=T,v.$$arity=0,v))),p(p(i=R)?$["$include?"]("://"):i)&&($=f($,"gsub",[l(V,"InlineLinkRx")],(b=function(){var n,$,i,o=b.$$s||this,s=a,c=a,u=a,d=a,m=a,y=a,g=a,v=a,x=a;if(p((s=(n=h["~"])===a?a:n["$[]"](2))["$start_with?"](l(V,"RS"))))return""+((n=h["~"])===a?a:n["$[]"](1))+s.$slice(1,s.$length())+((n=h["~"])===a?a:n["$[]"](4));if(c=(n=[($=h["~"])===a?a:$["$[]"](1),""])[0],u=n[1],p((n=h["~"])===a?a:n["$[]"](4)))c["$=="]("link:")&&(c=""),p((d=(n=h["~"])===a?a:n["$[]"](4))["$empty?"]())&&(d=a);else{if("link:"["$==="](m=c)||'"'["$==="](m)||"'"["$==="](m))return(n=h["~"])===a?a:n["$[]"](0);if(m=(n=h["~"])===a?a:n["$[]"](3),")"["$==="](m)||"?"["$==="](m)||"!"["$==="](m)){if(s=s.$chop(),p((n=(u=($=h["~"])===a?a:$["$[]"](3))["$=="](")"))?s["$end_with?"](".","?","!"):(u=($=h["~"])===a?a:$["$[]"](3))["$=="](")"))&&(u=e(s["$[]"](-1),u),s=s.$chop()),p(s["$end_with?"]("://")))return(n=h["~"])===a?a:n["$[]"](0)}else if(";"["$==="](m)){if(p(p(n=c["$start_with?"]("&lt;"))?s["$end_with?"]("&gt;"):n)?(c=c.$slice(4,c.$length()),s=s.$slice(0,r(s.$length(),4))):p((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),u=");"):u=";",p(s["$end_with?"]("://")))return(n=h["~"])===a?a:n["$[]"](0)}else if(":"["$==="](m)&&(p((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),u="):"):u=":",p(s["$end_with?"]("://"))))return(n=h["~"])===a?a:n["$[]"](0)}return n=[a,_(["type"],{type:"link"})],y=n[0],i=n[1],p(d)?(p(d["$include?"](l(V,"R_SB")))&&(g=d=d.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB"))),p(p(n=N.$compat_mode()["$!"]())?d["$include?"]("="):n)&&($=o.$extract_attributes_from_text(d,""),g=d=null==(n=t.to_ary($))[0]?a:n[0],v=["id",(y=null==n[1]?a:n[1])["$[]"]("id")],f(i,"[]=",t.to_a(v)),v[r(v.length,1)]),p(d["$end_with?"]("^"))&&(g=d=d.$chop(),p(y)?p(n=y["$[]"]("window"))||(v=["window","_blank"],f(y,"[]=",t.to_a(v)),v[r(v.length,1)]):y=_(["window"],{window:"_blank"})),p(p(n=g)?g["$empty?"]():n)&&(d=p(L["$key?"]("hide-uri-scheme"))?s.$sub(l(V,"UriSniffRx"),""):s,x=!0)):(d=p(L["$key?"]("hide-uri-scheme"))?s.$sub(l(V,"UriSniffRx"),""):s,x=!0),p(x)&&(p(y)?(v=["role",p(y["$key?"]("role"))?"bare "+y["$[]"]("role"):"bare"],f(y,"[]=",t.to_a(v)),v[r(v.length,1)]):y=_(["role"],{role:"bare"})),N.$register("links",(v=["target",s],f(i,"[]=",t.to_a(v)),v[r(v.length,1)])),p(y)&&(v=["attributes",y],f(i,"[]=",t.to_a(v)),v[r(v.length,1)]),""+c+l(V,"Inline").$new(o,"anchor",d,i).$convert()+u},b.$$s=T,b.$$arity=0,b))),p(p(i=C)?p(u=$["$include?"]("link:"))?u:$["$include?"]("ilto:"):i)&&($=f($,"gsub",[l(V,"InlineLinkMacroRx")],(x=function(){var n,$,i,o=x.$$s||this,s=a,c=a,u=a,d=a,m=a,y=a;return p(((n=h["~"])===a?a:n["$[]"](0))["$start_with?"](l(V,"RS")))?((n=h["~"])===a?a:n["$[]"](0)).$slice(1,((n=h["~"])===a?a:n["$[]"](0)).$length()):(c=p(s=(n=h["~"])===a?a:n["$[]"](1))?e("mailto:",u=(n=h["~"])===a?a:n["$[]"](2)):(n=h["~"])===a?a:n["$[]"](2),n=[a,_(["type"],{type:"link"})],d=n[0],i=n[1],p((m=(n=h["~"])===a?a:n["$[]"](3))["$empty?"]())||(p(m["$include?"](l(V,"R_SB")))&&(m=m.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB"))),p(s)?p(p(n=N.$compat_mode()["$!"]())?m["$include?"](","):n)&&($=o.$extract_attributes_from_text(m,""),m=null==(n=t.to_ary($))[0]?a:n[0],y=["id",(d=null==n[1]?a:n[1])["$[]"]("id")],f(i,"[]=",t.to_a(y)),y[r(y.length,1)],p(d["$key?"](2))&&(c=p(d["$key?"](3))?c+"?subject="+l(V,"Helpers").$encode_uri_component(d["$[]"](2))+"&amp;body="+l(V,"Helpers").$encode_uri_component(d["$[]"](3)):c+"?subject="+l(V,"Helpers").$encode_uri_component(d["$[]"](2)))):p(p(n=N.$compat_mode()["$!"]())?m["$include?"]("="):n)&&($=o.$extract_attributes_from_text(m,""),m=null==(n=t.to_ary($))[0]?a:n[0],y=["id",(d=null==n[1]?a:n[1])["$[]"]("id")],f(i,"[]=",t.to_a(y)),y[r(y.length,1)]),p(m["$end_with?"]("^"))&&(m=m.$chop(),p(d)?p(n=d["$[]"]("window"))||(y=["window","_blank"],f(d,"[]=",t.to_a(y)),y[r(y.length,1)]):d=_(["window"],{window:"_blank"}))),p(m["$empty?"]())&&(p(s)?m=u:(p(L["$key?"]("hide-uri-scheme"))?p((m=c.$sub(l(V,"UriSniffRx"),""))["$empty?"]())&&(m=c):m=c,p(d)?(y=["role",p(d["$key?"]("role"))?"bare "+d["$[]"]("role"):"bare"],f(d,"[]=",t.to_a(y)),y[r(y.length,1)]):d=_(["role"],{role:"bare"}))),N.$register("links",(y=["target",c],f(i,"[]=",t.to_a(y)),y[r(y.length,1)])),p(d)&&(y=["attributes",d],f(i,"[]=",t.to_a(y)),y[r(y.length,1)]),l(V,"Inline").$new(o,"anchor",m,i).$convert())},x.$$s=T,x.$$arity=0,x))),p($["$include?"]("@"))&&($=f($,"gsub",[l(V,"InlineEmailRx")],(k=function(){var t,r,n,$=k.$$s||this;return p((t=h["~"])===a?a:t["$[]"](1))?((t=h["~"])===a?a:t["$[]"](1))["$=="](l(V,"RS"))?((t=h["~"])===a?a:t["$[]"](0)).$slice(1,((t=h["~"])===a?a:t["$[]"](0)).$length()):(t=h["~"])===a?a:t["$[]"](0):(r=e("mailto:",n=(t=h["~"])===a?a:t["$[]"](0)),N.$register("links",r),l(V,"Inline").$new($,"anchor",n,_(["type","target"],{type:"link",target:r})).$convert())},k.$$s=T,k.$$arity=0,k))),p(p(i=p(u=S)?T.context["$=="]("list_item"):u)?T.parent.$style()["$=="]("bibliography"):i)&&($=f($,"sub",[l(V,"InlineBiblioAnchorRx")],(w=function(){var t,e=w.$$s||this;return l(V,"Inline").$new(e,"anchor",(t=h["~"])===a?a:t["$[]"](2),_(["type","id"],{type:"bibref",id:(t=h["~"])===a?a:t["$[]"](1)})).$convert()},w.$$s=T,w.$$arity=0,w))),p(p(i=p(u=S)?$["$include?"]("[["):u)?i:p(u=C)?$["$include?"]("or:"):u)&&($=f($,"gsub",[l(V,"InlineAnchorRx")],(E=function(){var t,e,r=E.$$s||this,n=a,$=a;return p((t=h["~"])===a?a:t["$[]"](1))?((t=h["~"])===a?a:t["$[]"](0)).$slice(1,((t=h["~"])===a?a:t["$[]"](0)).$length()):(p(n=(t=h["~"])===a?a:t["$[]"](2))?$=(t=h["~"])===a?a:t["$[]"](3):(n=(t=h["~"])===a?a:t["$[]"](4),p(p(t=$=(e=h["~"])===a?a:e["$[]"](5))?$["$include?"](l(V,"R_SB")):t)&&($=$.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB")))),l(V,"Inline").$new(r,"anchor",$,_(["type","id"],{type:"ref",id:n})).$convert())},E.$$s=T,E.$$arity=0,E))),p(p(i=p(u=$["$include?"]("&"))?$["$include?"](";&l"):u)?i:p(u=C)?$["$include?"]("xref:"):u)&&($=f($,"gsub",[l(V,"InlineXrefMacroRx")],(A=function(){var $,i,o=A.$$s||this,s=a,c=a,u=a,d=a,m=a,y=a,g=a,v=a,b=a,x=a,k=a;return p((($=h["~"])===a?a:$["$[]"](0))["$start_with?"](l(V,"RS")))?(($=h["~"])===a?a:$["$[]"](0)).$slice(1,(($=h["~"])===a?a:$["$[]"](0)).$length()):(s=_([],{}),p(c=($=h["~"])===a?a:$["$[]"](1))?p(c["$include?"](","))&&(i=c.$partition(","),c=null==($=t.to_ary(i))[0]?a:$[0],null==$[1]?a:$[1],u=null==$[2]?a:$[2],p((u=u.$lstrip())["$empty?"]())&&(u=a)):(d=!0,c=($=h["~"])===a?a:$["$[]"](2),p(u=($=h["~"])===a?a:$["$[]"](3))&&(p(u["$include?"](l(V,"R_SB")))&&(u=u.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB"))),p(p($=N.$compat_mode()["$!"]())?u["$include?"]("="):$)&&(i=o.$extract_attributes_from_text(u),u=null==($=t.to_ary(i))[0]?a:$[0],s=null==$[1]?a:$[1]))),p(N.$compat_mode())?m=c:p(y=c.$index("#"))?p(n(y,0))?(p(n(g=r(r(c.$length(),1),y),0))?(v=($=[c.$slice(0,y),c.$slice(e(y,1),g)])[0],m=$[1]):v=c.$chop(),p(d)?p(v["$end_with?"](".adoc"))?b=v=v.$slice(0,r(v.$length(),5)):p(l(V,"Helpers")["$extname?"](v)["$!"]())&&(b=v):b=p(f(v,"end_with?",t.to_a(l(V,"ASCIIDOC_EXTENSIONS").$keys())))?v=v.$slice(0,v.$rindex(".")):v):(x=($=[c,c.$slice(1,c.$length())])[0],m=$[1]):p(d)?p(c["$end_with?"](".adoc"))?b=v=c.$slice(0,r(c.$length(),5)):p(l(V,"Helpers")["$extname?"](c))?v=c:m=c:m=c,p(x)?(c=m,p(p($=o.$logger()["$info?"]())?N.$catalog()["$[]"]("refs")["$[]"](c)["$!"]():$)&&o.$logger().$info("possible invalid reference: "+c)):p(v)?p(p($=b)?p(i=N.$attributes()["$[]"]("docname")["$=="](v))?i:N.$catalog()["$[]"]("includes")["$[]"](v):$)?p(m)?(c=($=[m,a,"#"+m])[0],v=$[1],x=$[2],p(p($=o.$logger()["$info?"]())?N.$catalog()["$[]"]("refs")["$[]"](c)["$!"]():$)&&o.$logger().$info("possible invalid reference: "+c)):(c=($=[a,a,"#"])[0],v=$[1],x=$[2]):(c=($=[v,""+(p(i=N.$attributes()["$[]"]("relfileprefix"))?i:"")+v+(p(b)?N.$attributes().$fetch("relfilesuffix",N.$outfilesuffix()):"")])[0],v=$[1],p(m)?(c=($=[c+"#"+m,v+"#"+m])[0],x=$[1]):x=v):p(p($=N.$compat_mode())?$:l(V,"Compliance").$natural_xrefs()["$!"]())?(c=($=[m,"#"+m])[0],x=$[1],p(p($=o.$logger()["$info?"]())?N.$catalog()["$[]"]("refs")["$[]"](c)["$!"]():$)&&o.$logger().$info("possible invalid reference: "+c)):p(N.$catalog()["$[]"]("refs")["$[]"](m))?(c=($=[m,"#"+m])[0],x=$[1]):p(p($=p(i=m["$include?"](" "))?i:m.$downcase()["$!="](m))?c=N.$resolve_id(m):$)?(m=($=[c,"#"+c])[0],x=$[1]):(c=($=[m,"#"+m])[0],x=$[1],p(o.$logger()["$info?"]())&&o.$logger().$info("possible invalid reference: "+c)),k=["path",v],f(s,"[]=",t.to_a(k)),k[r(k.length,1)],k=["fragment",m],f(s,"[]=",t.to_a(k)),k[r(k.length,1)],k=["refid",c],f(s,"[]=",t.to_a(k)),k[r(k.length,1)],l(V,"Inline").$new(o,"anchor",u,_(["type","target","attributes"],{type:"xref",target:x,attributes:s})).$convert())},A.$$s=T,A.$$arity=0,A))),p(p(i=C)?$["$include?"]("tnote"):i)&&($=f($,"gsub",[l(V,"InlineFootnoteMacroRx")],(O=function(){var e,r,n,$,i=O.$$s||this,o=a,c=a,u=a,d=a,m=a,y=a;if(p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS"))))return((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length());if(p((e=h["~"])===a?a:e["$[]"](1))){if(!p((e=h["~"])===a?a:e["$[]"](3)))return(e=h["~"])===a?a:e["$[]"](0);r=((n=h["~"])===a?a:n["$[]"](3)).$split(",",2),e=t.to_ary(r),o=null==e[0]?a:e[0],c=null==e[1]?a:e[1],p(N.$compat_mode())||i.$logger().$warn("found deprecated footnoteref macro: "+((e=h["~"])===a?a:e["$[]"](0))+"; use footnote macro with target instead")}else o=(e=h["~"])===a?a:e["$[]"](2),c=(e=h["~"])===a?a:e["$[]"](3);if(p(o))p(u=f(N.$footnotes(),"find",[],(($=function(t){return $.$$s,null==t&&(t=a),t.$id()["$=="](o)}).$$s=i,$.$$arity=1,$)))?(d=(e=[u.$index(),u.$text()])[0],c=e[1],m=(e=["xref",o,a])[0],y=e[1],o=e[2]):p(c)?(c=i.$restore_passthroughs(i.$normalize_text(c,!0,!0)),d=N.$counter("footnote-number"),N.$register("footnotes",s(l(V,"Document"),"Footnote").$new(d,o,c)),m=(e=["ref",a])[0],y=e[1]):(i.$logger().$warn("invalid footnote reference: "+o),m=(e=["xref",o,o,a])[0],y=e[1],c=e[2],o=e[3]);else{if(!p(c))return(e=h["~"])===a?a:e["$[]"](0);c=i.$restore_passthroughs(i.$normalize_text(c,!0,!0)),d=N.$counter("footnote-number"),N.$register("footnotes",s(l(V,"Document"),"Footnote").$new(d,o,c)),m=y=a}return l(V,"Inline").$new(i,"footnote",c,_(["attributes","id","target","type"],{attributes:_(["index"],{index:d}),id:o,target:y,type:m})).$convert()},O.$$s=T,O.$$arity=0,O))),$},A.$$arity=1),t.def(K,"$sub_post_replacements",O=function(t){var e,n,i,o=this,s=a,c=a;return null==o.attributes&&(o.attributes=a),null==o.document&&(o.document=a),p(p(e=o.attributes["$[]"]("hardbreaks-option"))?e:o.document.$attributes()["$[]"]("hardbreaks-option"))?(s=t.$split(l(V,"LF"),-1),p($(s.$size(),2))?t:(c=s.$pop(),f(s,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=a),l(V,"Inline").$new(e,"break",p(t["$end_with?"](l(V,"HARD_LINE_BREAK")))?t.$slice(0,r(t.$length(),2)):t,_(["type"],{type:"line"})).$convert()},n.$$s=o,n.$$arity=1,n))["$<<"](c).$join(l(V,"LF")))):p(p(e=t["$include?"](l(V,"PLUS")))?t["$include?"](l(V,"HARD_LINE_BREAK")):e)?f(t,"gsub",[l(V,"HardLineBreakRx")],(i=function(){var t,e=i.$$s||this;return l(V,"Inline").$new(e,"break",(t=h["~"])===a?a:t["$[]"](1),_(["type"],{type:"line"})).$convert()},i.$$s=o,i.$$arity=0,i)):t},O.$$arity=1),t.def(K,"$sub_source",S=function(t,e){var r=this;return p(e)?r.$sub_callouts(r.$sub_specialchars(t)):r.$sub_specialchars(t)},S.$$arity=2),t.def(K,"$sub_callouts",R=function(t){var r,n,$=this,i=a;return n=p($["$attr?"]("line-comment"))?l(V,"CalloutSourceRxMap")["$[]"]($.$attr("line-comment")):l(V,"CalloutSourceRx"),i=0,f(t,"gsub",[n],(r=function(){var t,n,$=r.$$s||this;return null==$.document&&($.document=a),p((t=h["~"])===a?a:t["$[]"](2))?((t=h["~"])===a?a:t["$[]"](0)).$sub(l(V,"RS"),""):l(V,"Inline").$new($,"callout",((t=h["~"])===a?a:t["$[]"](4))["$=="](".")?(i=e(i,1)).$to_s():(t=h["~"])===a?a:t["$[]"](4),_(["id","attributes"],{id:$.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:p(t=(n=h["~"])===a?a:n["$[]"](1))?t:((n=h["~"])===a?a:n["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:a})})).$convert()},r.$$s=$,r.$$arity=0,r))},R.$$arity=1),t.def(K,"$highlight_source",C=function(e,r){var n,i,o,s,c,u,d=this,f=a,h=a,m=a,y=a,g=a,v=a;return null==d.document&&(d.document=a),null==d.passthroughs&&(d.passthroughs=a),p(p(n=f=d.document.$syntax_highlighter())?f["$highlight?"]():n)?(p(r)&&(i=d.$extract_callouts(e),e=null==(n=t.to_ary(i))[0]?a:n[0],h=null==n[1]?a:n[1]),m=d.document.$attributes(),s=f.$name(),p(p(n=c=p(d["$attr?"]("linenums"))?(p(i=m["$[]"](s+"-linenums-mode"))?i:"table").$to_sym():a)?$(y=d.$attr("start",1).$to_i(),1):n)&&(y=1),p(d["$attr?"]("highlight"))&&(g=d.$resolve_lines_to_highlight(e,d.$attr("highlight"),y)),i=f.$highlight(d,e,d.$attr("language"),_(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:h,css_mode:(p(o=m["$[]"](s+"-css"))?o:"class").$to_sym(),highlight_lines:g,number_lines:c,start_line_number:y,style:m["$[]"](s+"-style")})),v=null==(n=t.to_ary(i))[0]?a:n[0],u=null==n[1]?a:n[1],p(d.passthroughs["$empty?"]())||(v=v.$gsub(l(V,"HighlightedPassSlotRx"),l(V,"PASS_START")+"\\1"+l(V,"PASS_END"))),p(h["$nil_or_empty?"]())?v:d.$restore_callouts(v,h,u)):d.$sub_source(e,r)},C.$$arity=2),t.def(K,"$resolve_lines_to_highlight",I=function(n,i,o){var s,c,u=a,_=a;return null==o&&(o=a),u=[],p(i["$include?"](" "))&&(i=i.$delete(" ")),f(p(i["$include?"](","))?i.$split(","):i.$split(";"),"map",[],((s=function(i){s.$$s;var o,c,_,d=a,f=a,h=a,m=a;return null==i&&(i=a),p(i["$start_with?"]("!"))&&(i=i.$slice(1,i.$length()),d=!0),p(_=p(i["$include?"](".."))?"..":p(i["$include?"]("-"))?"-":a)?(c=i.$partition(_),f=null==(o=t.to_ary(c))[0]?a:o[0],null==o[1]?a:o[1],h=null==o[2]?a:o[2],p(p(o=h["$empty?"]())?o:$(h=h.$to_i(),0))&&(h=e(n.$count(l(V,"LF")),1)),u=p(d)?r(u,t.Range.$new(f.$to_i(),h,!1).$to_a()):u["$|"](t.Range.$new(f.$to_i(),h,!1).$to_a())):p(d)?u.$delete(i.$to_i()):p(u["$include?"](m=i.$to_i())["$!"]())?u["$<<"](m):a}).$$s=this,s.$$arity=1,s)),(_=p(o)?r(o,1):0)["$=="](0)||(u=f(u,"map",[],((c=function(t){return c.$$s,null==t&&(t=a),r(t,_)}).$$s=this,c.$$arity=1,c))),u.$sort()},I.$$arity=-3),t.def(K,"$extract_passthroughs",T=function(e){var $,o,s,c,u,d,m,y,g,v=this,b=a;return null==v.document&&(v.document=a),null==v.passthroughs&&(v.passthroughs=a),d=v.document.$compat_mode(),b=v.passthroughs,p(p($=p(o=e["$include?"]("++"))?o:e["$include?"]("$$"))?$:e["$include?"]("ss:"))&&(e=f(e,"gsub",[l(V,"InlinePassMacroRx")],(s=function(){var e,$=s.$$s||this,o=a,c=a,u=a,m=a,y=a,g=a,v=a,x=a,k=a;if(p(o=(e=h["~"])===a?a:e["$[]"](4))){if(p(p(e=d)?o["$=="]("++"):e))return(p((e=h["~"])===a?a:e["$[]"](2))?((e=h["~"])===a?a:e["$[]"](1))+"["+((e=h["~"])===a?a:e["$[]"](2))+"]"+((e=h["~"])===a?a:e["$[]"](3)):""+((e=h["~"])===a?a:e["$[]"](1))+((e=h["~"])===a?a:e["$[]"](3)))+"++"+$.$extract_passthroughs((e=h["~"])===a?a:e["$[]"](5))+"++";if(p(c=(e=h["~"])===a?a:e["$[]"](2))){if(p(n(u=((e=h["~"])===a?a:e["$[]"](3)).$length(),0)))return((e=h["~"])===a?a:e["$[]"](1))+"["+c+"]"+i(l(V,"RS"),r(u,1))+o+((e=h["~"])===a?a:e["$[]"](5))+o;((e=h["~"])===a?a:e["$[]"](1))["$=="](l(V,"RS"))?m="["+c+"]":(p((e=o["$=="]("++"))?c["$end_with?"]("x-"):o["$=="]("++"))&&(y=!0,c=c.$slice(0,r(c.$length(),2))),g=$.$parse_quoted_text_attributes(c))}else if(p(n(u=((e=h["~"])===a?a:e["$[]"](3)).$length(),0)))return""+i(l(V,"RS"),r(u,1))+o+((e=h["~"])===a?a:e["$[]"](5))+o;v=o["$=="]("+++")?[]:l(V,"BASIC_SUBS"),p(g)?p(y)?(x=[k=b.$size(),_(["text","subs","type","attributes"],{text:(e=h["~"])===a?a:e["$[]"](5),subs:l(V,"NORMAL_SUBS"),type:"monospaced",attributes:g})],f(b,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[k=b.$size(),_(["text","subs","type","attributes"],{text:(e=h["~"])===a?a:e["$[]"](5),subs:v,type:"unquoted",attributes:g})],f(b,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[k=b.$size(),_(["text","subs"],{text:(e=h["~"])===a?a:e["$[]"](5),subs:v})],f(b,"[]=",t.to_a(x)),x[r(x.length,1)])}else{if(((e=h["~"])===a?a:e["$[]"](6))["$=="](l(V,"RS")))return((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length());p(v=(e=h["~"])===a?a:e["$[]"](7))?(x=[k=b.$size(),_(["text","subs"],{text:$.$normalize_text((e=h["~"])===a?a:e["$[]"](8),a,!0),subs:$.$resolve_pass_subs(v)})],f(b,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[k=b.$size(),_(["text"],{text:$.$normalize_text((e=h["~"])===a?a:e["$[]"](8),a,!0)})],f(b,"[]=",t.to_a(x)),x[r(x.length,1)])}return""+(p(e=m)?e:"")+l(V,"PASS_START")+k+l(V,"PASS_END")},s.$$s=v,s.$$arity=0,s))),o=l(V,"InlinePassRx")["$[]"](d),m=null==($=t.to_ary(o))[0]?a:$[0],y=null==$[1]?a:$[1],g=null==$[2]?a:$[2],p(p($=e["$include?"](m))?$:p(o=y)?e["$include?"](y):o)&&(e=f(e,"gsub",[g],(c=function(){var e,n,$=c.$$s||this,i=a,o=a,s=a,u=a,m=a,y=a,g=a,v=a,x=a,k=a;if(i=(e=h["~"])===a?a:e["$[]"](1),o=(e=h["~"])===a?a:e["$[]"](2),p((s=(e=h["~"])===a?a:e["$[]"](3))["$start_with?"](l(V,"RS")))&&(u=l(V,"RS")),m=(e=h["~"])===a?a:e["$[]"](4),n=(e=h["~"])===a?a:e["$[]"](5),p(d)?y=!0:p(y=p(e=o)?o["$end_with?"]("x-"):e)&&(o=o.$slice(0,r(o.$length(),2))),p(o)){if(p((e=m["$=="]("`"))?y["$!"]():m["$=="]("`")))return $.$extract_inner_passthrough(n,i+"["+o+"]"+u);if(p(u))return i+"["+o+"]"+s.$slice(1,s.$length());i["$=="](l(V,"RS"))?i="["+o+"]":g=$.$parse_quoted_text_attributes(o)}else{if(p((e=m["$=="]("`"))?y["$!"]():m["$=="]("`")))return $.$extract_inner_passthrough(n,""+i+u);if(p(u))return""+i+s.$slice(1,s.$length())}return p(d)?(v=[x=b.$size(),_(["text","subs","attributes","type"],{text:n,subs:l(V,"BASIC_SUBS"),attributes:g,type:"monospaced"})],f(b,"[]=",t.to_a(v)),v[r(v.length,1)]):p(g)?p(y)?(k=m["$=="]("`")?l(V,"BASIC_SUBS"):l(V,"NORMAL_SUBS"),v=[x=b.$size(),_(["text","subs","attributes","type"],{text:n,subs:k,attributes:g,type:"monospaced"})],f(b,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[x=b.$size(),_(["text","subs","attributes","type"],{text:n,subs:l(V,"BASIC_SUBS"),attributes:g,type:"unquoted"})],f(b,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[x=b.$size(),_(["text","subs"],{text:n,subs:l(V,"BASIC_SUBS")})],f(b,"[]=",t.to_a(v)),v[r(v.length,1)]),""+i+l(V,"PASS_START")+x+l(V,"PASS_END")},c.$$s=v,c.$$arity=0,c))),p(p($=e["$include?"](":"))?p(o=e["$include?"]("stem:"))?o:e["$include?"]("math:"):$)&&(e=f(e,"gsub",[l(V,"InlineStemMacroRx")],(u=function(){var e,n,$,i=u.$$s||this,o=a,s=a,c=a;return null==i.document&&(i.document=a),p(((e=h["~"])===a?a:e["$[]"](0))["$start_with?"](l(V,"RS")))?((e=h["~"])===a?a:e["$[]"](0)).$slice(1,((e=h["~"])===a?a:e["$[]"](0)).$length()):((o=((e=h["~"])===a?a:e["$[]"](1)).$to_sym())["$=="]("stem")&&(o=l(V,"STEM_TYPE_ALIASES")["$[]"](i.document.$attributes()["$[]"]("stem")).$to_sym()),s=(e=h["~"])===a?a:e["$[]"](2),c=i.$normalize_text((e=h["~"])===a?a:e["$[]"](3),a,!0),p(p(e=o["$=="]("latexmath")?c["$start_with?"]("$"):o["$=="]("latexmath"))?c["$end_with?"]("$"):e)&&(c=c.$slice(1,r(c.$length(),2))),s=p(s)?i.$resolve_pass_subs(s):p(i.document["$basebackend?"]("html"))?l(V,"BASIC_SUBS"):a,n=[$=b.$size(),_(["text","subs","type"],{text:c,subs:s,type:o})],f(b,"[]=",t.to_a(n)),r(n.length,1),""+l(V,"PASS_START")+$+l(V,"PASS_END"))},u.$$s=v,u.$$arity=0,u))),e},T.$$arity=1),t.def(K,"$restore_passthroughs",L=function(t){var e,r=this,n=a;return null==r.passthroughs&&(r.passthroughs=a),n=r.passthroughs,f(t,"gsub",[l(V,"PassSlotRx")],(e=function(){var r,$=e.$$s||this,i=a,o=a,s=a,c=a,u=a;return p(i=n["$[]"](((r=h["~"])===a?a:r["$[]"](1)).$to_i()))?(o=$.$apply_subs(i["$[]"]("text"),i["$[]"]("subs")),p(s=i["$[]"]("type"))&&(p(c=i["$[]"]("attributes"))&&(u=c["$[]"]("id")),o=l(V,"Inline").$new($,"quoted",o,_(["type","id","attributes"],{type:s,id:u,attributes:c})).$convert()),p(o["$include?"](l(V,"PASS_START")))?$.$restore_passthroughs(o):o):($.$logger().$error("unresolved passthrough detected: "+t),"??pass??")},e.$$s=r,e.$$arity=0,e))},L.$$arity=1),t.def(K,"$resolve_subs",N=function(t,$,i,o){var s,c,u,_=a,d=a;return null==$&&($="block"),null==i&&(i=a),null==o&&(o=a),p(t["$nil_or_empty?"]())?a:(_=a,p(t["$include?"](" "))&&(t=t.$delete(" ")),c=l(V,"SubModifierSniffRx")["$match?"](t),f(t.$split(","),"each",[],((s=function(t){s.$$s;var n,o,u=a,d=a,f=a,h=a,m=a,y=a;return null==t&&(t=a),u=a,p(c)&&((d=t.$chr())["$=="]("+")?(u="append",t=t.$slice(1,t.$length())):d["$=="]("-")?(u="remove",t=t.$slice(1,t.$length())):p(t["$end_with?"]("+"))&&(u="prepend",t=t.$chop())),t=t.$to_sym(),p((n=$["$=="]("inline"))?p(o=t["$=="]("verbatim"))?o:t["$=="]("v"):$["$=="]("inline"))?f=l(V,"BASIC_SUBS"):p(l(V,"SUB_GROUPS")["$key?"](t))?f=l(V,"SUB_GROUPS")["$[]"](t):p(p(n=(o=$["$=="]("inline"))?t.$length()["$=="](1):$["$=="]("inline"))?l(V,"SUB_HINTS")["$key?"](t):n)?(h=l(V,"SUB_HINTS")["$[]"](t),f=p(m=l(V,"SUB_GROUPS")["$[]"](h))?m:[h]):f=[t],p(u)?(_=p(n=_)?n:p(i)?i.$drop(0):[],"append"["$==="](y=u)?_=e(_,f):"prepend"["$==="](y)?_=e(f,_):"remove"["$==="](y)?_=r(_,f):a):_=e(_=p(n=_)?n:[],f)}).$$s=this,s.$$arity=1,s)),p(_)?(u=_["$&"](l(V,"SUB_OPTIONS")["$[]"]($)),p(r(_,u)["$empty?"]())||(d=r(_,u),this.$logger().$warn("invalid substitution type"+(p(n(d.$size(),1))?"s":"")+(p(o)?" for ":"")+o+": "+d.$join(", "))),u):a)},N.$$arity=-2),t.def(K,"$resolve_block_subs",F=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},F.$$arity=3),t.def(K,"$resolve_pass_subs",D=function(t){return this.$resolve_subs(t,"inline",a,"passthrough macro")},D.$$arity=1),t.def(K,"$expand_subs",z=function(t,r){var n,$,i=this,o=a,c=a;return null==r&&(r=a),o=t,s("::","Symbol")["$==="](o)?t["$=="]("none")?a:p(n=l(V,"SUB_GROUPS")["$[]"](t))?n:[t]:s("::","Array")["$==="](o)?(c=[],f(t,"each",[],(($=function(t){$.$$s;var r=a;return null==t&&(t=a),t["$=="]("none")?a:p(r=l(V,"SUB_GROUPS")["$[]"](t))?c=e(c,r):c["$<<"](t)}).$$s=i,$.$$arity=1,$)),p(c["$empty?"]())?a:c):i.$resolve_subs(t,"inline",a,r)},z.$$arity=-2),t.def(K,"$commit_subs",B=function(){var e,n,$,i,o=this,s=a,c=a,u=a,_=a,d=a;if(null==o.default_subs&&(o.default_subs=a),null==o.content_model&&(o.content_model=a),null==o.context&&(o.context=a),null==o.subs&&(o.subs=a),null==o.attributes&&(o.attributes=a),null==o.style&&(o.style=a),null==o.document&&(o.document=a),p(s=o.default_subs));else if(c=o.content_model,"simple"["$==="](c))s=l(V,"NORMAL_SUBS");else if("verbatim"["$==="](c))s=o.context["$=="]("verse")?l(V,"NORMAL_SUBS"):l(V,"VERBATIM_SUBS");else{if(!"raw"["$==="](c))return o.subs;s=o.context["$=="]("stem")?l(V,"BASIC_SUBS"):l(V,"NO_SUBS")}return p(i=o.attributes["$[]"]("subs"))?o.subs=p(e=o.$resolve_block_subs(i,s,o.context))?e:[]:o.subs=s.$drop(0),p(p(e=p(n=p($=o.context["$=="]("listing")?o.style["$=="]("source"):o.context["$=="]("listing"))?u=o.document.$syntax_highlighter():$)?u["$highlight?"]():n)?_=o.subs.$index("specialcharacters"):e)&&(d=[_,"highlight"],f(o.subs,"[]=",t.to_a(d)),d[r(d.length,1)]),a},B.$$arity=0),t.def(K,"$parse_attributes",M=function(t,e,r){var n,$,i=this,o=a;return null==i.document&&(i.document=a),null==e&&(e=[]),null==r&&(r=_([],{})),p(!p(t)||t["$empty?"]())?_([],{}):(p(r["$[]"]("unescape_input"))&&(t=i.$normalize_text(t,!0,!0)),p(p(n=r["$[]"]("sub_input"))?t["$include?"](l(V,"ATTR_REF_HEAD")):n)&&(t=i.document.$sub_attributes(t)),p(r["$[]"]("sub_result"))&&(o=i),p($=r["$[]"]("into"))?l(V,"AttributeList").$new(t,o).$parse_into($,e):l(V,"AttributeList").$new(t,o).$parse(e))},M.$$arity=-2),K.$private(),t.def(K,"$extract_attributes_from_text",j=function(t,e){var r,n=a,$=a;return null==e&&(e=a),r=p(t["$include?"](l(V,"LF")))?t.$tr(l(V,"LF")," "):t,p(n=($=l(V,"AttributeList").$new(r,this).$parse())["$[]"](1))?n["$=="](r)?[t,$.$clear()]:[n,$]:[e,$]},j.$$arity=-2),t.def(K,"$extract_callouts",q=function(n){var $,i,o=this,s=a,c=a,u=a,d=a;return s=_([],{}),c=u=0,d=a,i=p(o["$attr?"]("line-comment"))?l(V,"CalloutExtractRxMap")["$[]"](o.$attr("line-comment")):l(V,"CalloutExtractRx"),n=f(n.$split(l(V,"LF"),-1),"map",[],($=function(n){var o,_=$.$$s||this;return null==n&&(n=a),u=e(u,1),f(n,"gsub",[i],((o=function(){o.$$s;var n,$,i=a;return p((n=h["~"])===a?a:n["$[]"](2))?((n=h["~"])===a?a:n["$[]"](0)).$sub(l(V,"RS"),""):((p(n=s["$[]"](u))?n:(i=[u,[]],f(s,"[]=",t.to_a(i)),i[r(i.length,1)]))["$<<"]([p(n=($=h["~"])===a?a:$["$[]"](1))?n:(($=h["~"])===a?a:$["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:a,((n=h["~"])===a?a:n["$[]"](4))["$=="](".")?(c=e(c,1)).$to_s():(n=h["~"])===a?a:n["$[]"](4)]),d=u,"")}).$$s=_,o.$$arity=0,o))},$.$$s=o,$.$$arity=1,$)).$join(l(V,"LF")),p(d)?d["$=="](u)&&(n=""+n+l(V,"LF")):s=a,[n,s]},q.$$arity=1),t.def(K,"$restore_callouts",P=function(r,n,$){var i,o=a,s=a;return null==$&&($=a),p($)?(o=r.$slice(0,$),r=r.$slice($,r.$length())):o="",s=0,e(o,f(r.$split(l(V,"LF"),-1),"map",[],(i=function(r){var $,o,c,u=i.$$s||this,d=a,h=a,m=a;return null==u.document&&(u.document=a),null==r&&(r=a),p(d=n.$delete(s=e(s,1)))?d.$size()["$=="](1)?(o=d["$[]"](0),h=null==($=t.to_ary(o))[0]?a:$[0],m=null==$[1]?a:$[1],""+r+l(V,"Inline").$new(u,"callout",m,_(["id","attributes"],{id:u.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:h})})).$convert()):""+r+f(d,"map",[],(c=function(t,e){var r=c.$$s||this;return null==r.document&&(r.document=a),null==t&&(t=a),null==e&&(e=a),l(V,"Inline").$new(r,"callout",e,_(["id","attributes"],{id:r.document.$callouts().$read_next_id(),attributes:_(["guard"],{guard:t})})).$convert()},c.$$s=u,c.$$arity=2,c)).$join(" "):r},i.$$s=this,i.$$arity=1,i)).$join(l(V,"LF")))},P.$$arity=-3),t.def(K,"$extract_inner_passthrough",U=function(e,n){var $,i,o=this,s=a,c=a;return null==o.passthroughs&&(o.passthroughs=a),p(p($=p(i=e["$end_with?"]("+"))?e["$start_with?"]("+","\\+"):i)?l(V,"SinglePlusInlinePassRx")["$=~"](e):$)?p(($=h["~"])===a?a:$["$[]"](1))?n+"`+"+(($=h["~"])===a?a:$["$[]"](2))+"+`":(s=[c=o.passthroughs.$size(),_(["text","subs"],{text:($=h["~"])===a?a:$["$[]"](2),subs:l(V,"BASIC_SUBS")})],f(o.passthroughs,"[]=",t.to_a(s)),s[r(s.length,1)],n+"`"+l(V,"PASS_START")+c+l(V,"PASS_END")+"`"):n+"`"+e+"`"},U.$$arity=2),t.def(K,"$convert_quoted_text",H=function(t,e,r){var n=this,$=a,i=a,o=a,s=a,c=a;if(p(t["$[]"](0)["$start_with?"](l(V,"RS")))){if(!p(r["$=="]("constrained")?$=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0).$slice(1,t["$[]"](0).$length());i="["+$+"]"}return r["$=="]("constrained")?p(i)?""+i+l(V,"Inline").$new(n,"quoted",t["$[]"](3),_(["type"],{type:e})).$convert():(p(o=t["$[]"](2))&&(s=(c=n.$parse_quoted_text_attributes(o))["$[]"]("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+l(V,"Inline").$new(n,"quoted",t["$[]"](3),_(["type","id","attributes"],{type:e,id:s,attributes:c})).$convert()):(p(o=t["$[]"](1))&&(s=(c=n.$parse_quoted_text_attributes(o))["$[]"]("id"),e["$=="]("mark")&&(e="unquoted")),l(V,"Inline").$new(n,"quoted",t["$[]"](2),_(["type","id","attributes"],{type:e,id:s,attributes:c})).$convert())},H.$$arity=3),t.def(K,"$do_replacement",Y=function(t,r,n){var $=a,i=a;return p(($=t["$[]"](0))["$include?"](l(V,"RS")))?$.$sub(l(V,"RS"),""):"none"["$==="](i=n)?r:"bounding"["$==="](i)?e(e(t["$[]"](1),r),t["$[]"](2)):e(t["$[]"](1),r)},Y.$$arity=3),l(V,"RUBY_ENGINE")["$=="]("opal"),t.def(K,"$parse_quoted_text_attributes",G=function($){var i,o,s=a,c=a,u=a,d=a,h=a,m=a;return p($["$include?"](l(V,"ATTR_REF_HEAD")))&&($=this.$sub_attributes($)),p($["$include?"](","))&&($=$.$slice(0,$.$index(","))),p(($=$.$strip())["$empty?"]())?_([],{}):p(p(i=$["$start_with?"](".","#"))?l(V,"Compliance").$shorthand_property_syntax():i)?(o=$.$partition("#"),s=null==(i=t.to_ary(o))[0]?a:i[0],null==i[1]?a:i[1],c=null==i[2]?a:i[2],u=_([],{}),p(c["$empty?"]())?p(n(s.$length(),1))&&(d=["role",s.$tr("."," ").$lstrip()],f(u,"[]=",t.to_a(d)),d[r(d.length,1)]):(o=c.$partition("."),h=null==(i=t.to_ary(o))[0]?a:i[0],null==i[1]?a:i[1],m=null==i[2]?a:i[2],p(h["$empty?"]())||(d=["id",h],f(u,"[]=",t.to_a(d)),d[r(d.length,1)]),p(m["$empty?"]())?p(n(s.$length(),1))&&(d=["role",s.$tr("."," ").$lstrip()],f(u,"[]=",t.to_a(d)),d[r(d.length,1)]):p(n(s.$length(),1))?(d=["role",e(e(s,"."),m).$tr("."," ").$lstrip()],f(u,"[]=",t.to_a(d)),d[r(d.length,1)]):(d=["role",m.$tr("."," ")],f(u,"[]=",t.to_a(d)),d[r(d.length,1)])),u):_(["role"],{role:$})},G.$$arity=1),t.def(K,"$normalize_text",W=function(t,e,r){var n;return null==e&&(e=a),null==r&&(r=a),p(t["$empty?"]())||(p(e)&&(t=t.$strip().$tr(l(V,"LF")," ")),p(p(n=r)?t["$include?"](l(V,"R_SB")):n)&&(t=t.$gsub(l(V,"ESC_R_SB"),l(V,"R_SB")))),t},W.$$arity=-2),t.def(K,"$split_simple_csv",X=function(t){var r,n,$=a,i=a,o=a;return p(t["$empty?"]())?[]:p(t["$include?"]('"'))?($=[],i="",o=a,f(t,"each_char",[],((r=function(t){r.$$s;var n=a;return null==t&&(t=a),","["$==="](n=t)?p(o)?i=e(i,t):($["$<<"](i.$strip()),i=""):'"'["$==="](n)?o=o["$!"]():i=e(i,t)}).$$s=this,r.$$arity=1,r)),$["$<<"](i.$strip())):f(t.$split(","),"map",[],((n=function(t){return n.$$s,null==t&&(t=a),t.$strip()}).$$s=this,n.$$arity=1,n))},X.$$arity=1)}(y[0],y)}(o[0],o)},Opal.modules["asciidoctor/version"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){var $=[r(e,"Asciidoctor")].concat(n);t.const_set($[0],"VERSION","2.0.17")}(e[0],e)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,l=t.hash2,c=t.truthy,u=t.send;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$[]","$merge","$raise","$converter","$attributes","$key?","$[]=","$-","$delete","$tap","$new","$each_key","$end_with?","$<<","$slice","$length","$update","$split","$include?","$===","$join","$empty?","$apply_reftext_subs","$attr?","$attr","$extname?","$image_uri","$<","$safe","$uriish?","$encode_spaces_in_uri","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$extname","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open_uri","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$!=","$prepare_source_string","$fetch","$read_asset"]),function(n,_){var d=[a(n,"Asciidoctor")].concat(_);!function(n,a,_){var d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G=s(n,null,"AbstractNode"),W=[G].concat(_);G.$$prototype.document=G.$$prototype.attributes=G.$$prototype.parent=$,G.$include(o(W,"Logging")),G.$include(o(W,"Substitutors")),G.$attr_reader("attributes"),G.$attr_reader("context"),G.$attr_reader("document"),G.$attr_accessor("id"),G.$attr_reader("node_name"),G.$attr_reader("parent"),t.def(G,"$initialize",d=function(t,e,r){var n=this,i=$;return null==r&&(r=l([],{})),e["$=="]("document")?n.document=n:c(t)&&(n.document=(n.parent=t).$document()),n.node_name=(n.context=e).$to_s(),n.attributes=c(i=r["$[]"]("attributes"))?i.$merge():l([],{}),n.passthroughs=[]},d.$$arity=-3),t.def(G,"$block?",p=function(){return this.$raise(i("::","NotImplementedError"))},p.$$arity=0),t.def(G,"$inline?",f=function(){return this.$raise(i("::","NotImplementedError"))},f.$$arity=0),t.def(G,"$converter",h=function(){return this.document.$converter()},h.$$arity=0),t.def(G,"$parent=",m=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],e},m.$$arity=1),t.def(G,"$attr",y=function(t,e,r){var n,i,o,a,s=this;return null==e&&(e=$),null==r&&(r=$),c(n=s.attributes["$[]"](t.$to_s()))?n:c(i=c(o=c(a=r)?s.parent:a)?s.document.$attributes()["$[]"]((r["$=="](!0)?t:r).$to_s()):o)?i:e},y.$$arity=-2),t.def(G,"$attr?",g=function(t,e,r){var n,i,o=this;return null==e&&(e=$),null==r&&(r=$),c(e)?e["$=="](c(n=o.attributes["$[]"](t.$to_s()))?n:c(c(i=r)?o.parent:i)?o.document.$attributes()["$[]"]((r["$=="](!0)?t:r).$to_s()):$):c(n=o.attributes["$key?"](t.$to_s()))?n:!!c(c(i=r)?o.parent:i)&&o.document.$attributes()["$key?"]((r["$=="](!0)?t:r).$to_s())},g.$$arity=-2),t.def(G,"$set_attr",v=function(r,n,i){var o=$;return null==n&&(n=""),null==i&&(i=!0),!c(i["$=="](!1)?this.attributes["$key?"](r):i["$=="](!1))&&(o=[r,n],u(this.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],!0)},v.$$arity=-2),t.def(G,"$remove_attr",b=function(t){return this.attributes.$delete(t)},b.$$arity=1),t.def(G,"$option?",x=function(t){return!!c(this.attributes["$[]"](t+"-option"))},x.$$arity=1),t.def(G,"$set_option",k=function(r){var n;return n=[r+"-option",""],u(this.attributes,"[]=",t.to_a(n)),e(n.length,1),$},k.$$arity=1),t.def(G,"$enabled_options",w=function(){var t;return u(i("::","Set").$new(),"tap",[],(t=function(r){var n,i=t.$$s||this;return null==i.attributes&&(i.attributes=$),null==r&&(r=$),u(i.attributes,"each_key",[],((n=function(t){return n.$$s,null==t&&(t=$),c(t.$to_s()["$end_with?"]("-option"))?r["$<<"](t.$slice(0,e(t.$length(),7))):$}).$$s=i,n.$$arity=1,n))},t.$$s=this,t.$$arity=1,t))},w.$$arity=0),t.def(G,"$update_attributes",E=function(t){return this.attributes.$update(t)},E.$$arity=1),t.def(G,"$role",A=function(){return this.attributes["$[]"]("role")},A.$$arity=0),t.def(G,"$roles",O=function(){var t=$;return c(t=this.attributes["$[]"]("role"))?t.$split():[]},O.$$arity=0),t.def(G,"$role?",S=function(t){return null==t&&(t=$),c(t)?t["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},S.$$arity=-1),t.def(G,"$has_role?",R=function(t){var e;return!!c(e=this.attributes["$[]"]("role"))&&(" "+e+" ")["$include?"](" "+t+" ")},R.$$arity=1),t.def(G,"$role=",C=function(r){var n;return n=["role",c(i("::","Array")["$==="](r))?r.$join(" "):r],u(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)]},C.$$arity=1),t.def(G,"$add_role",I=function(r){var n,i=this,o=$;return c(n=i.attributes["$[]"]("role"))?!c((" "+n+" ")["$include?"](" "+r+" "))&&(o=["role",n+" "+r],u(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],!0):(o=["role",r],u(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],!0)},I.$$arity=1),t.def(G,"$remove_role",T=function(r){var n,i=this,o=$,a=$;return!!c(c(n=o=i.attributes["$[]"]("role"))?(o=o.$split()).$delete(r):n)&&(c(o["$empty?"]())?i.attributes.$delete("role"):(a=["role",o.$join(" ")],u(i.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]),!0)},T.$$arity=1),t.def(G,"$reftext",L=function(){var t;return c(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):$},L.$$arity=0),t.def(G,"$reftext?",N=function(){return this.attributes["$key?"]("reftext")},N.$$arity=0),t.def(G,"$icon_uri",F=function(t){var e=this,r=$;return c(e["$attr?"]("icon"))?(r=e.$attr("icon"),c(o(W,"Helpers")["$extname?"](r))||(r=r+"."+e.document.$attr("icontype","png"))):r=t+"."+e.document.$attr("icontype","png"),e.$image_uri(r,"iconsdir")},F.$$arity=1),t.def(G,"$image_uri",D=function(t,e){var n,a,s,l,u=this,_=$,d=$;return null==e&&(e="imagesdir"),c(c(n=r((_=u.document).$safe(),i(o(W,"SafeMode"),"SECURE")))?_["$attr?"]("data-uri"):n)?c(c(n=c(a=o(W,"Helpers")["$uriish?"](t))?t=o(W,"Helpers").$encode_spaces_in_uri(t):a)?n:c(a=c(s=c(l=e)?d=_.$attr(e):l)?o(W,"Helpers")["$uriish?"](d):s)?t=u.$normalize_web_path(t,d,!1):a)?c(_["$attr?"]("allow-uri-read"))?u.$generate_data_uri_from_uri(t,_["$attr?"]("cache-uri")):t:u.$generate_data_uri(t,e):u.$normalize_web_path(t,c(e)?_.$attr(e):$)},D.$$arity=-2),t.def(G,"$media_uri",z=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,c(e)?r.document.$attr(e):$)},z.$$arity=-2),t.def(G,"$generate_data_uri",B=function(t,e){var r=this,n=$,a=$,s=$;return null==e&&(e=$),a=c(n=o(W,"Helpers").$extname(t,$))?n["$=="](".svg")?"image/svg+xml":"image/"+n.$slice(1,n.$length()):"application/octet-stream",s=c(e)?r.$normalize_system_path(t,r.document.$attr(e),$,l(["target_name"],{target_name:"image"})):r.$normalize_system_path(t),c(i("::","File")["$readable?"](s))?"data:"+a+";base64,"+i("::","Base64").$strict_encode64(i("::","File").$binread(s)):(r.$logger().$warn("image to embed not found or not readable: "+s),"data:"+a+";base64,")},B.$$arity=-2),t.def(G,"$generate_data_uri_from_uri",M=function(e,r){var n,a,s,l=$,_=$;null==r&&(r=!1),c(r)?o(W,"Helpers").$require_library("open-uri/cached","open-uri-cached"):c(o(W,"RUBY_ENGINE_OPAL")["$!"]())&&i("::","OpenURI");try{return a=u(i("::","OpenURI"),"open_uri",[e,o(W,"URI_READ_MODE")],((s=function(t){return s.$$s,null==t&&(t=$),[t.$content_type(),t.$read()]}).$$s=this,s.$$arity=1,s)),l=null==(n=t.to_ary(a))[0]?$:n[0],_=null==n[1]?$:n[1],"data:"+l+";base64,"+i("::","Base64").$strict_encode64(_)}catch(r){if(!t.rescue(r,[o(W,"StandardError")]))throw r;try{return this.$logger().$warn("could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},M.$$arity=-2),t.def(G,"$normalize_asset_path",j=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),$,l(["target_name","recover"],{target_name:e,recover:r}))},j.$$arity=-2),t.def(G,"$normalize_system_path",q=function(t,e,n,a){var s,u=$;return null==e&&(e=$),null==n&&(n=$),null==a&&(a=l([],{})),c(r((u=this.document).$safe(),i(o(W,"SafeMode"),"SAFE")))?c(e)?c(u.$path_resolver()["$root?"](e))||(e=i("::","File").$join(u.$base_dir(),e)):e=u.$base_dir():(e=c(s=e)?s:u.$base_dir(),n=c(s=n)?s:u.$base_dir()),u.$path_resolver().$system_path(t,e,n,a)},q.$$arity=-2),t.def(G,"$normalize_web_path",P=function(t,e,r){var n;return null==e&&(e=$),null==r&&(r=!0),c(c(n=r)?o(W,"Helpers")["$uriish?"](t):n)?o(W,"Helpers").$encode_spaces_in_uri(t):this.document.$path_resolver().$web_path(t,e)},P.$$arity=-2),t.def(G,"$read_asset",U=function(t,e){var r;return null==e&&(e=l([],{})),c(i("::","Hash")["$==="](e))||(e=l(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),c(i("::","File")["$readable?"](t))?c(e["$[]"]("normalize"))?o(W,"Helpers").$prepare_source_string(i("::","File").$read(t,l(["mode"],{mode:o(W,"FILE_READ_MODE")}))).$join(o(W,"LF")):i("::","File").$read(t,l(["mode"],{mode:o(W,"FILE_READ_MODE")})):c(e["$[]"]("warn_on_failure"))?(this.$logger().$warn((c(r=this.$attr("docfile"))?r:"<stdin>")+": "+(c(r=e["$[]"]("label"))?r:"file")+" does not exist or cannot be read: "+t),$):$},U.$$arity=-2),t.def(G,"$read_contents",H=function(e,r){var n,a,s,_,d,p=this,f=$,h=$,m=$;if(null==r&&(r=l([],{})),f=p.document,c(c(n=o(W,"Helpers")["$uriish?"](e))?n:c(a=c(s=h=r["$[]"]("start"))?o(W,"Helpers")["$uriish?"](h):s)?e=f.$path_resolver().$web_path(e,h):a))if(c(f["$attr?"]("allow-uri-read"))){c(f["$attr?"]("cache-uri"))&&o(W,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{m=c(r["$[]"]("normalize"))?o(W,"Helpers").$prepare_source_string(u(i("::","OpenURI"),"open_uri",[e,o(W,"URI_READ_MODE")],(_=function(t){return _.$$s,null==t&&(t=$),t.$read()},_.$$s=p,_.$$arity=1,_))).$join(o(W,"LF")):u(i("::","OpenURI"),"open_uri",[e,o(W,"URI_READ_MODE")],((d=function(t){return d.$$s,null==t&&(t=$),t.$read()}).$$s=p,d.$$arity=1,d))}catch($){if(!t.rescue($,[o(W,"StandardError")]))throw $;try{c(r.$fetch("warn_on_failure",!0))&&p.$logger().$warn("could not retrieve contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e)}finally{t.pop_exception()}}}else c(r.$fetch("warn_on_failure",!0))&&p.$logger().$warn("cannot retrieve contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)");else e=p.$normalize_system_path(e,r["$[]"]("start"),$,l(["target_name"],{target_name:c(n=r["$[]"]("label"))?n:"asset"})),m=p.$read_asset(e,l(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));return c(c(n=c(a=m)?r["$[]"]("warn_if_empty"):a)?m["$empty?"]():n)&&p.$logger().$warn("contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" is empty: "+e),m},H.$$arity=-2),t.def(G,"$is_uri?",Y=function(t){return o(W,"Helpers")["$uriish?"](t)},Y.$$arity=1)}(d[0],0,d)}(n[0],n)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,l=t.hash2,c=t.send,u=t.truthy;return t.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$===","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$empty?","$Integer","$find_by_internal","$to_proc","$context","$[]","$items","$+","$find_index","$include?","$next_adjacent_block","$blocks","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$delete","$reftext","$!","$nil_or_empty?","$sub_placeholder","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$int_to_roman","$each","$assign_numeral","$reindex_sections","$protected","$has_role?","$raise","$header?","$!=","$flatten","$head","$rows","$merge","$body","$foot","$style","$inner_document"]),function(n,_){var d=[a(n,"Asciidoctor")].concat(_);!function(n,a,_){var d,p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U=s(n,a,"AbstractBlock"),H=[U].concat(_);U.$$prototype.source_location=U.$$prototype.document=U.$$prototype.attributes=U.$$prototype.blocks=U.$$prototype.numeral=U.$$prototype.context=U.$$prototype.parent=U.$$prototype.caption=U.$$prototype.style=U.$$prototype.converted_title=U.$$prototype.title=U.$$prototype.subs=U.$$prototype.next_section_index=U.$$prototype.next_section_ordinal=U.$$prototype.id=U.$$prototype.header=$,U.$attr_reader("blocks"),U.$attr_writer("caption"),U.$attr_accessor("content_model"),U.$attr_accessor("level"),U.$attr_accessor("numeral"),U.$attr_accessor("source_location"),U.$attr_accessor("style"),U.$attr_reader("subs"),t.def(U,"$initialize",d=function(e,r,n){var i,a=d.$$p,s=this,_=$,p=$,f=$;for(a&&(d.$$p=null),p=0,f=arguments.length,_=new Array(f);p<f;p++)_[p]=arguments[p];return null==n&&(n=l([],{})),c(s,t.find_super_dispatcher(s,"initialize",d,!1),_,a),s.content_model="compound",s.blocks=[],s.subs=[],s.id=s.title=s.caption=s.numeral=s.style=s.default_subs=s.source_location=$,u(u(i=r["$=="]("document"))?i:r["$=="]("section"))?(s.level=s.next_section_index=0,s.next_section_ordinal=1):u(o(H,"AbstractBlock")["$==="](e))?s.level=e.$level():s.level=$},d.$$arity=-3),t.def(U,"$block?",p=function(){return!0},p.$$arity=0),t.def(U,"$inline?",f=function(){return!1},f.$$arity=0),t.def(U,"$file",h=function(){var t;return u(t=this.source_location)?this.source_location.$file():t},h.$$arity=0),t.def(U,"$lineno",m=function(){var t;return u(t=this.source_location)?this.source_location.$lineno():t},m.$$arity=0),t.def(U,"$convert",y=function(){var t=this;return t.document.$playback_attributes(t.attributes),t.$converter().$convert(t)},y.$$arity=0),t.alias(U,"render","convert"),t.def(U,"$content",g=function(){var t;return c(this.blocks,"map",[],(t=function(e){return t.$$s,null==e&&(e=$),e.$convert()},t.$$s=this,t.$$arity=1,t)).$join(o(H,"LF"))},g.$$arity=0),t.def(U,"$context=",v=function(t){return this.node_name=(this.context=t).$to_s()},v.$$arity=1),t.def(U,"$<<",b=function(r){var n=this,i=$;return r.$parent()["$=="](n)||(i=[n],c(r,"parent=",t.to_a(i)),i[e(i.length,1)]),n.blocks["$<<"](r),n},b.$$arity=1),t.alias(U,"append","<<"),t.def(U,"$blocks?",x=function(){return!u(this.blocks["$empty?"]())},x.$$arity=0),t.def(U,"$sections?",k=function(){return!1},k.$$arity=0),t.def(U,"$number",w=function(){var e=this;try{return e.$Integer(e.numeral)}catch(r){if(!t.rescue(r,[o(H,"StandardError")]))throw r;try{return e.numeral}finally{t.pop_exception()}}},w.$$arity=0),t.def(U,"$number=",E=function(t){return this.numeral=t.$to_s()},E.$$arity=1),t.def(U,"$find_by",A=function(e){var r=A.$$p,n=r||$,o=$;r&&(A.$$p=null),r&&(A.$$p=null),null==e&&(e=l([],{}));try{return c(this,"find_by_internal",[e,o=[]],n.$to_proc())}catch(e){if(!t.rescue(e,[i("::","StopIteration")]))throw e;try{return o}finally{t.pop_exception()}}},A.$$arity=-1),t.alias(U,"query","find_by"),t.def(U,"$next_adjacent_block",O=function(){var t,e=this,n=$,i=$;return e.context["$=="]("document")?$:u((n=e.parent).$context()["$=="]("dlist")?e.context["$=="]("list_item"):(n=e.parent).$context()["$=="]("dlist"))?u(i=n.$items()["$[]"](r(c(n.$items(),"find_index",[],(t=function(e,r){var n,i=t.$$s||this;return null==e&&(e=$),null==r&&(r=$),u(n=e["$include?"](i))?n:r["$=="](i)},t.$$s=e,t.$$arity=2,t)),1)))?i:n.$next_adjacent_block():u(i=n.$blocks()["$[]"](r(n.$blocks().$find_index(e),1)))?i:n.$next_adjacent_block()},O.$$arity=0),t.def(U,"$sections",S=function(){var t;return c(this.blocks,"select",[],((t=function(e){return t.$$s,null==e&&(e=$),e.$context()["$=="]("section")}).$$s=this,t.$$arity=1,t))},S.$$arity=0),t.def(U,"$alt",R=function(){var t=this,e=$;return u(e=t.attributes["$[]"]("alt"))?e["$=="](t.attributes["$[]"]("default-alt"))?t.$sub_specialchars(e):(e=t.$sub_specialchars(e),u(o(H,"ReplaceableTextRx")["$match?"](e))?t.$sub_replacements(e):e):""},R.$$arity=0),t.def(U,"$caption",C=function(){var t=this;return t.context["$=="]("admonition")?t.attributes["$[]"]("textlabel"):t.caption},C.$$arity=0),t.def(U,"$captioned_title",I=function(){return""+this.caption+this.$title()},I.$$arity=0),t.def(U,"$list_marker_keyword",T=function(t){var e;return null==t&&(t=$),o(H,"ORDERED_LIST_KEYWORDS")["$[]"](u(e=t)?e:this.style)},T.$$arity=-1),t.def(U,"$title",L=function(){var t,e,r=this;return r.converted_title=u(t=r.converted_title)?t:u(e=r.title)?r.$apply_title_subs(r.title):e},L.$$arity=0),t.def(U,"$title?",N=function(){return!!u(this.title)},N.$$arity=0),t.def(U,"$title=",F=function(t){return this.converted_title=$,this.title=t},F.$$arity=1),t.def(U,"$sub?",D=function(t){return this.subs["$include?"](t)},D.$$arity=1),t.def(U,"$remove_sub",z=function(t){return this.subs.$delete(t),$},z.$$arity=1),t.def(U,"$xreftext",B=function(t){var e,r,n=this,i=$,a=$,s=$,l=$,c=$;return null==t&&(t=$),u(u(e=i=n.$reftext())?i["$empty?"]()["$!"]():e)?i:u(u(e=u(r=t)?n.title:r)?n.caption["$nil_or_empty?"]()["$!"]():e)?"full"["$==="](a=t)?(s=n.$sub_placeholder(n.$sub_quotes(u(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),u(u(e=u(r=n.numeral)?l=o(H,"CAPTION_ATTRIBUTE_NAMES")["$[]"](n.context):r)?c=n.document.$attributes()["$[]"](l):e)?c+" "+n.numeral+", "+s:n.caption.$chomp(". ")+", "+s):"short"["$==="](a)?u(u(e=u(r=n.numeral)?l=o(H,"CAPTION_ATTRIBUTE_NAMES")["$[]"](n.context):r)?c=n.document.$attributes()["$[]"](l):e)?c+" "+n.numeral:n.caption.$chomp(". "):n.$title():n.$title()},B.$$arity=-1),t.def(U,"$assign_caption",M=function(t,e){var r,n,i=this,a=$,s=$;return null==e&&(e=i.context),u(u(r=u(n=i.caption)?n:i.title["$!"]())?r:i.caption=u(n=t)?n:i.document.$attributes()["$[]"]("caption"))?$:u(u(r=a=o(H,"CAPTION_ATTRIBUTE_NAMES")["$[]"](e))?s=i.document.$attributes()["$[]"](a):r)?(i.caption=s+" "+(i.numeral=i.document.$increment_and_store_counter(e+"-number",i))+". ",$):$},M.$$arity=-2),t.def(U,"$assign_numeral",j=function(n){var i,a=this,s=$,l=$,_=$,d=$;return a.next_section_index=r((s=[a.next_section_index],c(n,"index=",t.to_a(s)),s[e(s.length,1)]),1),u(l=n.$numbered())&&((_=n.$sectname())["$=="]("appendix")?(s=[a.document.$counter("appendix-number","A")],c(n,"numeral=",t.to_a(s)),s[e(s.length,1)],s=[u(d=a.document.$attributes()["$[]"]("appendix-caption"))?d+" "+n.$numeral()+": ":n.$numeral()+". "],c(n,"caption=",t.to_a(s)),s[e(s.length,1)]):u(u(i=_["$=="]("chapter"))?i:l["$=="]("chapter"))?(s=[a.document.$counter("chapter-number",1).$to_s()],c(n,"numeral=",t.to_a(s)),s[e(s.length,1)]):(s=[_["$=="]("part")?o(H,"Helpers").$int_to_roman(a.next_section_ordinal):a.next_section_ordinal.$to_s()],c(n,"numeral=",t.to_a(s)),s[e(s.length,1)],a.next_section_ordinal=r(a.next_section_ordinal,1))),$},j.$$arity=1),t.def(U,"$reindex_sections",q=function(){var t,e=this;return e.next_section_index=0,e.next_section_ordinal=1,c(e.blocks,"each",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")?(r.$assign_numeral(e),e.$reindex_sections()):$},t.$$s=e,t.$$arity=1,t))},q.$$arity=0),U.$protected(),t.def(U,"$find_by_internal",P=function(e,n){var o,a,s,_,d,p,f,h,m,y,g,v=P.$$p,b=v||$,x=this,k=$,w=$,E=$,A=$,O=$,S=$;if(v&&(P.$$p=null),v&&(P.$$p=null),null==e&&(e=l([],{})),null==n&&(n=[]),u(u(o=u(a=u(s=u(_=g=!u(k=e["$[]"]("context"))||$)?_:k["$=="](x.context))?u(_=(w=e["$[]"]("style"))["$!"]())?_:w["$=="](x.style):s)?u(s=(E=e["$[]"]("role"))["$!"]())?s:x["$has_role?"](E):a)?u(a=(A=e["$[]"]("id"))["$!"]())?a:A["$=="](x.id):o))if(b!==$)if(u(O=t.yield1(b,x))){if("prune"["$==="](S=O))return n["$<<"](x),u(A)&&x.$raise(i("::","StopIteration")),n;if("reject"["$==="](S))return u(A)&&x.$raise(i("::","StopIteration")),n;"stop"["$==="](S)?x.$raise(i("::","StopIteration")):(n["$<<"](x),u(A)&&x.$raise(i("::","StopIteration")))}else u(A)&&x.$raise(i("::","StopIteration"));else n["$<<"](x),u(A)&&x.$raise(i("::","StopIteration"));return S=x.context,"document"["$==="](S)?k["$=="]("document")||(u(u(o=x["$header?"]())?u(a=g)?a:k["$=="]("section"):o)&&c(x.header,"find_by_internal",[e,n],b.$to_proc()),c(x.blocks,"each",[],((d=function(t){d.$$s;return null==t&&(t=$),u(k["$=="]("section")?t.$context()["$!="]("section"):k["$=="]("section"))?$:c(t,"find_by_internal",[e,n],b.$to_proc())}).$$s=x,d.$$arity=1,d))):"dlist"["$==="](S)?u(u(o=g)?o:k["$!="]("section"))&&c(x.blocks.$flatten(),"each",[],((p=function(t){return p.$$s,null==t&&(t=$),u(t)?c(t,"find_by_internal",[e,n],b.$to_proc()):$}).$$s=x,p.$$arity=1,p)):"table"["$==="](S)?u(e["$[]"]("traverse_documents"))?(c(x.$rows().$head(),"each",[],(f=function(t){var r,i=f.$$s||this;return null==t&&(t=$),c(t,"each",[],((r=function(t){return r.$$s,null==t&&(t=$),c(t,"find_by_internal",[e,n],b.$to_proc())}).$$s=i,r.$$arity=1,r))},f.$$s=x,f.$$arity=1,f)),k["$=="]("inner_document")&&(e=e.$merge(l(["context"],{context:"document"}))),c(r(x.$rows().$body(),x.$rows().$foot()),"each",[],(h=function(t){var r,i=h.$$s||this;return null==t&&(t=$),c(t,"each",[],((r=function(t){return r.$$s,null==t&&(t=$),c(t,"find_by_internal",[e,n],b.$to_proc()),t.$style()["$=="]("asciidoc")?c(t.$inner_document(),"find_by_internal",[e,n],b.$to_proc()):$}).$$s=i,r.$$arity=1,r))},h.$$s=x,h.$$arity=1,h))):c(r(r(x.$rows().$head(),x.$rows().$body()),x.$rows().$foot()),"each",[],(m=function(t){var r,i=m.$$s||this;return null==t&&(t=$),c(t,"each",[],((r=function(t){return r.$$s,null==t&&(t=$),c(t,"find_by_internal",[e,n],b.$to_proc())}).$$s=i,r.$$arity=1,r))},m.$$s=x,m.$$arity=1,m)):c(x.blocks,"each",[],((y=function(t){y.$$s;return null==t&&(t=$),u(k["$=="]("section")?t.$context()["$!="]("section"):k["$=="]("section"))?$:c(t,"find_by_internal",[e,n],b.$to_proc())}).$$s=x,y.$$arity=1,y)),n},P.$$arity=-1)}(d[0],o(d,"AbstractNode"),d)}(n[0],n)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,l=t.hash,c=t.hash2,u=t.truthy,_=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$private","$skip_blank","$peek","$===","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$end_with?","$rstrip","$string","$==","$unscan","$scan_to_delimiter","$*","$include?","$delete","$each","$split","$empty?","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(n,d){var p=[a(n,"Asciidoctor")].concat(d);!function(n,a,d){var p,f,h,m,y,g,v,b,x,k,w,E,A=s(n,null,"AttributeList"),O=[A].concat(d);A.$$prototype.attributes=A.$$prototype.scanner=A.$$prototype.delimiter=A.$$prototype.block=A.$$prototype.delimiter_skip_pattern=A.$$prototype.delimiter_boundary_pattern=$,t.const_set(O[0],"APOS","'"),t.const_set(O[0],"BACKSLASH","\\"),t.const_set(O[0],"QUOT",'"'),t.const_set(O[0],"BoundaryRx",l(o(O,"QUOT"),/.*?[^\\](?=")/,o(O,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),t.const_set(O[0],"EscapedQuotes",l(o(O,"QUOT"),'\\"',o(O,"APOS"),"\\'")),t.const_set(O[0],"NameRx",new RegExp(o(O,"CG_WORD")+"["+o(O,"CC_WORD")+"\\-.]*")),t.const_set(O[0],"BlankRx",/[ \t]+/),t.const_set(O[0],"SkipRx",c([","],{",":/[ \t]*(,|$)/})),t.def(A,"$initialize",p=function(t,e,r){var n=this;return null==e&&(e=$),null==r&&(r=","),n.scanner=i("::","StringScanner").$new(t),n.block=e,n.delimiter=r,n.delimiter_skip_pattern=o(O,"SkipRx")["$[]"](r),n.delimiter_boundary_pattern=o(O,"BoundaryRx")["$[]"](r),n.attributes=$},p.$$arity=-2),t.def(A,"$parse_into",f=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},f.$$arity=-2),t.def(A,"$parse",h=function(t){var r=this,n=$;if(null==t&&(t=[]),u(r.attributes))return r.attributes;for(r.attributes=c([],{}),n=0;u(r.$parse_attribute(n,t))&&!u(r.scanner["$eos?"]());)r.$skip_delimiter(),n=e(n,1);return r.attributes},h.$$arity=-1),t.def(A,"$rekey",m=function(t){return o(O,"AttributeList").$rekey(this.attributes,t)},m.$$arity=1),t.defs(A,"$rekey",y=function(n,i){var o;return _(i,"each_with_index",[],((o=function(i,a){o.$$s;var s,l=$,c=$;return null==i&&(i=$),null==a&&(a=$),u(u(s=i)?l=n["$[]"](e(a,1)):s)?(c=[i,l],_(n,"[]=",t.to_a(c)),c[r(c.length,1)]):$}).$$s=this,o.$$arity=2,o)),n},y.$$arity=2),A.$private(),t.def(A,"$parse_attribute",g=function(n,i){var a,s,l,c,d,p=this,f=$,h=$,m=$,y=$,g=$,v=$,b=$,x=$,k=$;if(f=!0,p.$skip_blank(),h=p.scanner.$peek(1),o(O,"QUOT")["$==="](h))m=p.$parse_attribute_value(p.scanner.$get_byte());else if(o(O,"APOS")["$==="](h))m=p.$parse_attribute_value(p.scanner.$get_byte()),u(m["$start_with?"](o(O,"APOS")))||(y=!0);else if(g=u(a=u(s=m=p.$scan_name())?p.$skip_blank():s)?a:0,u(p.scanner["$eos?"]())){if(!u(u(a=m)?a:p.scanner.$string().$rstrip()["$end_with?"](p.delimiter)))return $;f=$}else if((v=p.scanner.$get_byte())["$=="](p.delimiter))p.scanner.$unscan();else if(u(m))if(v["$=="]("=")){if(p.$skip_blank(),h=v=p.scanner.$get_byte(),o(O,"QUOT")["$==="](h))b=p.$parse_attribute_value(v);else if(o(O,"APOS")["$==="](h))b=p.$parse_attribute_value(v),u(b["$start_with?"](o(O,"APOS")))||(y=!0);else if(p.delimiter["$==="](h))b="",p.scanner.$unscan();else if($["$==="](h))b="";else if((b=""+v+p.$scan_to_delimiter())["$=="]("None"))return!0}else m=""+m+(d=g,"number"==typeof(c=" ")&&"number"==typeof d?c*d:c["$*"](d))+v+p.$scan_to_delimiter();else m=""+v+p.$scan_to_delimiter();return u(b)?"options"["$==="](h=m)||"opts"["$==="](h)?u(b["$include?"](","))?(u(b["$include?"](" "))&&(b=b.$delete(" ")),_(b.$split(","),"each",[],(l=function(e){var n=l.$$s||this,i=$;return null==n.attributes&&(n.attributes=$),null==e&&(e=$),u(e["$empty?"]())?$:(i=[e+"-option",""],_(n.attributes,"[]=",t.to_a(i)),i[r(i.length,1)])},l.$$s=p,l.$$arity=1,l))):u(b["$empty?"]())||(x=[b+"-option",""],_(p.attributes,"[]=",t.to_a(x)),x[r(x.length,1)]):u(u(a=y)?p.block:a)?"title"["$==="](h=m)||"reftext"["$==="](h)?(x=[m,b],_(p.attributes,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[m,p.block.$apply_subs(b)],_(p.attributes,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[m,b],_(p.attributes,"[]=",t.to_a(x)),x[r(x.length,1)]):(u(u(a=y)?p.block:a)&&(m=p.block.$apply_subs(m)),u(u(a=k=i["$[]"](n))?m:a)&&(x=[k,m],_(p.attributes,"[]=",t.to_a(x)),x[r(x.length,1)]),x=[e(n,1),m],_(p.attributes,"[]=",t.to_a(x)),x[r(x.length,1)]),f},g.$$arity=2),t.def(A,"$parse_attribute_value",v=function(t){var e=this,r=$;return e.scanner.$peek(1)["$=="](t)?(e.scanner.$get_byte(),""):u(r=e.$scan_to_quote(t))?(e.scanner.$get_byte(),u(r["$include?"](o(O,"BACKSLASH")))?r.$gsub(o(O,"EscapedQuotes")["$[]"](t),t):r):""+t+e.$scan_to_delimiter()},v.$$arity=1),t.def(A,"$skip_blank",b=function(){return this.scanner.$skip(o(O,"BlankRx"))},b.$$arity=0),t.def(A,"$skip_delimiter",x=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},x.$$arity=0),t.def(A,"$scan_name",k=function(){return this.scanner.$scan(o(O,"NameRx"))},k.$$arity=0),t.def(A,"$scan_to_delimiter",w=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},w.$$arity=0),t.def(A,"$scan_to_quote",E=function(t){return this.scanner.$scan(o(O,"BoundaryRx")["$[]"](t))},E.$$arity=1)}(p[0],0,p)}(n[0],n)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,l=t.send,c=t.hash2,u=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$===","$drop","$delete","$to_s","$[]=","$commit_subs","$nil_or_empty?","$prepare_source_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$==","$warn","$logger","$class","$object_id","$inspect"]),function(n,_){var d=[a(n,"Asciidoctor")].concat(_);!function(n,a,_){var d,p,f,h,m,y=s(n,a,"Block"),g=[y].concat(_);y.$$prototype.attributes=y.$$prototype.content_model=y.$$prototype.lines=y.$$prototype.subs=y.$$prototype.blocks=y.$$prototype.context=y.$$prototype.style=$,m=["simple"],l(t.const_set(g[0],"DEFAULT_CONTENT_MODEL",c(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(m)),e(m.length,1),t.alias(y,"blockname","context"),y.$attr_accessor("lines"),t.def(y,"$initialize",d=function(r,n,a){var s,_=d.$$p,p=this,f=$,h=$,m=$,y=$,v=$,b=$,x=$;for(_&&(d.$$p=null),b=0,x=arguments.length,v=new Array(x);b<x;b++)v[b]=arguments[b];return null==a&&(a=c([],{})),l(p,t.find_super_dispatcher(p,"initialize",d,!1),v,_),p.content_model=u(s=a["$[]"]("content_model"))?s:o(g,"DEFAULT_CONTENT_MODEL")["$[]"](n),u(a["$key?"]("subs"))?u(f=a["$[]"]("subs"))?("default"["$==="](h=f)?p.default_subs=a["$[]"]("default_subs"):i("::","Array")["$==="](h)?(p.default_subs=f.$drop(0),p.attributes.$delete("subs")):(p.default_subs=$,m=["subs",f.$to_s()],l(p.attributes,"[]=",t.to_a(m)),m[e(m.length,1)]),p.$commit_subs()):(p.default_subs=[],p.attributes.$delete("subs")):p.default_subs=$,u((y=a["$[]"]("source"))["$nil_or_empty?"]())?p.lines=[]:u(i("::","String")["$==="](y))?p.lines=o(g,"Helpers").$prepare_source_string(y):p.lines=y.$drop(0)},d.$$arity=-3),t.def(y,"$content",p=function(){var e,n=p.$$p,i=this,a=$,s=$,c=$,_=$,d=$,f=$,h=$;for(n&&(p.$$p=null),f=0,h=arguments.length,d=new Array(h);f<h;f++)d[f]=arguments[f];return function(){if(a=i.content_model,"compound"["$==="](a))return l(i,t.find_super_dispatcher(i,"content",p,!1),d,n);if("simple"["$==="](a))return i.$apply_subs(i.lines.$join(o(g,"LF")),i.subs);if("verbatim"["$==="](a)||"raw"["$==="](a)){if(s=i.$apply_subs(i.lines,i.subs),u(r(s.$size(),2)))return s["$[]"](0);for(;u(u(e=c=s["$[]"](0))?c.$rstrip()["$empty?"]():e);)s.$shift();for(;u(u(e=_=s["$[]"](-1))?_.$rstrip()["$empty?"]():e);)s.$pop();return s.$join(o(g,"LF"))}return i.content_model["$=="]("empty")||i.$logger().$warn("Unknown content model '"+i.content_model+"' for block: "+i),$}()},p.$$arity=0),t.def(y,"$source",f=function(){return this.lines.$join(o(g,"LF"))},f.$$arity=0),t.def(y,"$to_s",h=function(){var t,e=this;return t=e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},h.$$arity=0)}(d[0],o(d,"AbstractBlock"),d)}(n[0],n)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],$=t.nil,i=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),o=t.klass,a=t.hash2,s=t.truthy,l=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$private","$generate_callout_id"]),function(n,c){var u=[i(n,"Asciidoctor")].concat(c);!function(n,i,c){var u,_,d,p,f,h,m,y,g,v=o(n,null,"Callouts");[v].concat(c);v.$$prototype.co_index=v.$$prototype.lists=v.$$prototype.list_index=$,t.def(v,"$initialize",u=function(){var t=this;return t.lists=[],t.list_index=0,t.$next_list()},u.$$arity=0),t.def(v,"$register",_=function(t){var r,n=this;return n.$current_list()["$<<"](a(["ordinal","id"],{ordinal:t.$to_i(),id:r=n.$generate_next_callout_id()})),n.co_index=e(n.co_index,1),r},_.$$arity=1),t.def(v,"$read_next_id",d=function(){var t,n,i=this,o=$,a=$;return o=$,a=i.$current_list(),s((t=i.co_index,n=a.$size(),"number"==typeof t&&"number"==typeof n?t<=n:t["$<="](n)))&&(o=a["$[]"](r(i.co_index,1))["$[]"]("id")),i.co_index=e(i.co_index,1),o},d.$$arity=0),t.def(v,"$callout_ids",p=function(t){var e;return l(this.$current_list(),"map",[],(e=function(r){return e.$$s,null==r&&(r=$),r["$[]"]("ordinal")["$=="](t)?r["$[]"]("id")+" ":""},e.$$s=this,e.$$arity=1,e)).$join().$chop()},p.$$arity=1),t.def(v,"$current_list",f=function(){return this.lists["$[]"](r(this.list_index,1))},f.$$arity=0),t.def(v,"$next_list",h=function(){var t,r,n=this;return n.list_index=e(n.list_index,1),s((t=n.lists.$size(),r=n.list_index,"number"==typeof t&&"number"==typeof r?t<r:t["$<"](r)))&&n.lists["$<<"]([]),n.co_index=1,$},h.$$arity=0),t.def(v,"$rewind",m=function(){return this.list_index=1,this.co_index=1,$},m.$$arity=0),v.$private(),t.def(v,"$generate_next_callout_id",y=function(){var t=this;return t.$generate_callout_id(t.list_index,t.co_index)},y.$$arity=0),t.def(v,"$generate_callout_id",g=function(t,e){return"CO"+t+"-"+e},g.$$arity=2)}(u[0],0,u)}(n[0],n)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.hash2,l=t.truthy,c=t.send,u=t.klass,_=t.gvars;return t.add_stubs(["$autoload","$__dir__","$==","$attr_reader","$raise","$class","$[]","$sub","$slice","$length","$[]=","$backend_traits","$-","$derive_backend_traits","$register","$map","$to_s","$new","$create","$default","$each","$default=","$registry","$for","$===","$supports_templates?","$merge","$private","$include","$delete","$clear","$send","$extend","$private_class_method","$node_name","$+","$receiver","$name","$warn","$logger","$respond_to?","$content"]),function(n,d){var p=[a(n,"Asciidoctor")].concat(d);!function(n,d){var p,f,h,m,y,g=a(n,"Converter"),v=[g].concat(d);g.$autoload("CompositeConverter",g.$__dir__()+"/converter/composite"),o(v,"RUBY_ENGINE")["$=="]("opal"),g.$attr_reader("backend"),t.def(g,"$initialize",p=function(t,e){return null==e&&(e=s([],{})),this.backend=t},p.$$arity=-2),t.def(g,"$convert",f=function(t,e,r){var n=this;return null==n.backend&&(n.backend=$),null==e&&(e=$),null==r&&(r=$),n.$raise(i("::","NotImplementedError"),n.$class()+" (backend: "+n.backend+") must implement the #convert method")},f.$$arity=-2),t.def(g,"$handles?",h=function(t){return!0},h.$$arity=1),t.defs(g,"$derive_backend_traits",m=function(t,e){var r,n=$,i=$;return null==e&&(e=$),l(t)?(l(n=o(v,"DEFAULT_EXTENSIONS")["$[]"](e=l(r=e)?r:t.$sub(o(v,"TrailingDigitsRx"),"")))?i=n.$slice(1,n.$length()):n="."+(i=e),i["$=="]("html")?s(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:e,filetype:i,htmlsyntax:"html",outfilesuffix:n}):s(["basebackend","filetype","outfilesuffix"],{basebackend:e,filetype:i,outfilesuffix:n})):s([],{})},m.$$arity=-2),function(r,n){var i,u,_,d,p,f,h,m,y,g=a(r,"BackendTraits"),v=[g].concat(n);t.def(g,"$basebackend",i=function(r){var n=$;return null==r&&(r=$),l(r)?(n=["basebackend",r],c(this.$backend_traits(r),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("basebackend")},i.$$arity=-1),t.def(g,"$filetype",u=function(r){var n=$;return null==r&&(r=$),l(r)?(n=["filetype",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("filetype")},u.$$arity=-1),t.def(g,"$htmlsyntax",_=function(r){var n=$;return null==r&&(r=$),l(r)?(n=["htmlsyntax",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},_.$$arity=-1),t.def(g,"$outfilesuffix",d=function(r){var n=$;return null==r&&(r=$),l(r)?(n=["outfilesuffix",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},d.$$arity=-1),t.def(g,"$supports_templates",p=function(r){var n;return null==r&&(r=!0),n=["supports_templates",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]},p.$$arity=-1),t.def(g,"$supports_templates?",f=function(){return this.$backend_traits()["$[]"]("supports_templates")},f.$$arity=0),t.def(g,"$init_backend_traits",h=function(t){var e;return null==t&&(t=$),this.backend_traits=l(e=t)?e:s([],{})},h.$$arity=-1),t.def(g,"$backend_traits",m=function(t){var e,r=this;return null==r.backend_traits&&(r.backend_traits=$),null==r.backend&&(r.backend=$),null==t&&(t=$),r.backend_traits=l(e=r.backend_traits)?e:o(v,"Converter").$derive_backend_traits(r.backend,t)},m.$$arity=-1),t.alias(g,"backend_info","backend_traits"),t.defs(g,"$derive_backend_traits",y=function(t,e){return null==e&&(e=$),o(v,"Converter").$derive_backend_traits(t,e)},y.$$arity=-2)}(v[0],v),function(e,r){var n,i=a(e,"Config"),s=[i].concat(r);t.def(i,"$register_for",n=function(e){var r,n,i=this;return r=t.slice.call(arguments,0,arguments.length),c(o(s,"Converter"),"register",[i].concat(t.to_a(c(r,"map",[],((n=function(t){return n.$$s,null==t&&(t=$),t.$to_s()}).$$s=i,n.$$arity=1,n)))))},n.$$arity=-1)}(v[0],v),function(r,n){var u,_,d,p,f,h,m,y,g=a(r,"Factory"),v=[g].concat(n);t.defs(g,"$new",u=function(e,r){var n,i,a,c;if(n=t.slice.call(arguments,0,arguments.length),null==(i=t.extract_kwargs(n)))i=s([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return n.length>0&&(a=n[0],n.splice(0,1)),null==a&&(a=$),null==(c=i.$$smap.proxy_default)&&(c=!0),l(c)?o(v,"DefaultFactoryProxy").$new(a):o(v,"CustomFactory").$new(a)},u.$$arity=-1),t.defs(g,"$default",_=function(e){return t.slice.call(arguments,0,arguments.length),o(v,"Converter")},_.$$arity=-1),t.defs(g,"$create",d=function(t,e){return null==e&&(e=s([],{})),this.$default().$create(t,e)},d.$$arity=-2),t.def(g,"$register",p=function(r,n){var i,o,a=this;return i=t.slice.call(arguments,1,arguments.length),c(i,"each",[],(o=function(n){var i=o.$$s||this,a=$;return null==n&&(n=$),n["$=="]("*")?(a=[r],c(i.$registry(),"default=",t.to_a(a)),a[e(a.length,1)]):(a=[n,r],c(i.$registry(),"[]=",t.to_a(a)),a[e(a.length,1)])},o.$$s=a,o.$$arity=1,o))},p.$$arity=-2),t.def(g,"$for",f=function(t){return this.$registry()["$[]"](t)},f.$$arity=1),t.def(g,"$create",h=function(t,e){var r,n,a=$,c=$,u=$;return null==e&&(e=s([],{})),l(a=this.$for(t))?(l(i("::","Class")["$==="](a))&&(a=a.$new(t,e)),l(l(r=l(n=c=e["$[]"]("template_dirs"))?o(v,"BackendTraits")["$==="](a):n)?a["$supports_templates?"]():r)?o(v,"CompositeConverter").$new(t,o(v,"TemplateConverter").$new(t,c,e),a,s(["backend_traits_source"],{backend_traits_source:a})):a):l(c=e["$[]"]("template_dirs"))?l(l(r=u=e["$[]"]("delegate_backend"))?a=this.$for(u):r)?(l(i("::","Class")["$==="](a))&&(a=a.$new(u,e)),o(v,"CompositeConverter").$new(t,o(v,"TemplateConverter").$new(t,c,e),a,s(["backend_traits_source"],{backend_traits_source:a}))):o(v,"TemplateConverter").$new(t,c,e):$},h.$$arity=-2),t.def(g,"$converters",m=function(){return this.$registry().$merge()},m.$$arity=0),g.$private(),t.def(g,"$registry",y=function(){return this.$raise(i("::","NotImplementedError"),o(v,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},y.$$arity=0)}(v[0],v),function(r,n,i){var a,_,d=u(r,null,"CustomFactory"),p=[d].concat(i);d.$include(o(p,"Factory")),t.def(d,"$initialize",a=function(r){var n=$;return null==r&&(r=$),l(r)?(n=[r.$delete("*")],c(r,"default=",t.to_a(n)),n[e(n.length,1)],this.registry=r):this.registry=s([],{})},a.$$arity=-1),t.def(d,"$unregister_all",_=function(){var r;return r=[$],c(this.$registry().$clear(),"default=",t.to_a(r)),r[e(r.length,1)]},_.$$arity=0),d.$private(),d.$attr_reader("registry")}(v[0],0,v),function(e,r){var n,i=a(e,"DefaultFactory"),l=[i].concat(r);i.$include(o(l,"Factory")),i.$private(),t.class_variable_set(l[0],"@@registry",s([],{})),t.def(i,"$registry",n=function(){var t;return null==(t=l[0].$$cvars["@@registry"])?$:t},n.$$arity=0),o(l,"RUBY_ENGINE")["$=="]("opal")}(v[0],v),function(t,e,r){var n=u(t,e,"DefaultFactoryProxy"),$=[n].concat(r);n.$include(o($,"DefaultFactory")),o($,"RUBY_ENGINE")["$=="]("opal")}(v[0],o(v,"CustomFactory"),v),t.defs(g,"$included",y=function(t){return t.$send("include",o(v,"BackendTraits")),t.$extend(o(v,"Config"))},y.$$arity=1),g.$private_class_method("included"),function(e,n,a){var s,c,d,p,f=u(e,null,"Base"),h=[f].concat(a);f.$$prototype.backend=$,f.$include(o(h,"Logging")),f.$include(o(h,"Converter")),t.def(f,"$convert",s=function(e,n,a){var s,c,u=this,d=$;null==_["!"]&&(_["!"]=$),null==n&&(n=e.$node_name()),null==a&&(a=$);try{return l(a)?u.$send(r("convert_",n),e,a):u.$send(r("convert_",n),e)}catch(e){if(!t.rescue(e,[o(h,"StandardError")]))throw e;try{return l(l(s=l(c=i("::","NoMethodError")["$==="](d=_["!"]))?d.$receiver()["$=="](u):c)?d.$name().$to_s()["$=="](n):s)||u.$raise(),u.$logger().$warn("missing convert handler for "+d.$name()+" node in "+u.backend+" backend ("+u.$class()+")"),$}finally{t.pop_exception()}}},s.$$arity=-2),t.def(f,"$handles?",c=function(t){return this["$respond_to?"]("convert_"+t)},c.$$arity=1),t.def(f,"$content_only",d=function(t){return t.$content()},d.$$arity=1),t.def(f,"$skip",p=function(t){return $},p.$$arity=1)}(v[0],0,v),g.$extend(o(v,"DefaultFactory"))}(p[0],p)}(n[0],n)},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,_=t.send,d=t.truthy,p=t.hash2,f=t.hash,h=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$merge","$catalog","$instance_variable_get","$attributes","$safe","$compat_mode","$outfilesuffix","$sourcemap","$path_resolver","$converter","$extensions","$syntax_highlighter","$each","$end_with?","$start_with?","$slice","$length","$chop","$==","$downcase","$===","$extname","$value_for_name","$key?","$freeze","$attribute_undefined","$attribute_missing","$update","$&","$keys","$name_for_value","$expand_path","$pwd","$to_s","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$fetch","$fill_datetime_attributes","$activate","$groups","$create","$to_proc","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$attribute_locked?","$nil_or_empty?","$nextval","$value","$save_to","$register","$tap","$xreftext","$>","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$reftext","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$name","$negate","$rewind","$replace","$apply_attribute_value_subs","$delete?","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$class","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$normalize_system_path","$read_asset","$apply_subs","$docinfo_processors?","$join","$concat","$compact","$docinfo_processors","$object_id","$inspect","$size","$private","$=~","$resolve_pass_subs","$apply_header_subs","$limit_bytesize","$bytesize","$valid_encoding?","$byteslice","$resolve_subs","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$partition","$create_converter","$basebackend","$filetype","$htmlsyntax","$derive_backend_traits","$raise"]),function(o,m){var y=[c(o,"Asciidoctor")].concat(m);!function(o,c,m){var y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut,_t,dt,pt,ft,ht,mt=u(o,c,"Document"),yt=[mt].concat(m);mt.$$prototype.attributes=mt.$$prototype.safe=mt.$$prototype.sourcemap=mt.$$prototype.reader=mt.$$prototype.base_dir=mt.$$prototype.parsed=mt.$$prototype.parent_document=mt.$$prototype.extensions=mt.$$prototype.options=mt.$$prototype.counters=mt.$$prototype.catalog=mt.$$prototype.reftexts=mt.$$prototype.next_section_index=mt.$$prototype.header=mt.$$prototype.blocks=mt.$$prototype.header_attributes=mt.$$prototype.attributes_modified=mt.$$prototype.backend=mt.$$prototype.attribute_overrides=mt.$$prototype.timings=mt.$$prototype.converter=mt.$$prototype.outfilesuffix=mt.$$prototype.docinfo_processor_extensions=mt.$$prototype.document=mt.$$prototype.max_attribute_value_size=mt.$$prototype.id=mt.$$prototype.doctype=a,t.const_set(yt[0],"ImageReference",_(s("::","Struct"),"new",["target","imagesdir"],(y=function(){var e=y.$$s||this;return t.alias(e,"to_s","target")},y.$$s=mt,y.$$arity=0,y))),t.const_set(yt[0],"Footnote",s("::","Struct").$new("index","id","text")),function(r,n,$){var i,o,s=u(r,null,"AttributeEntry");[s].concat($);s.$attr_reader("name","value","negate"),t.def(s,"$initialize",i=function(t,e,r){var n=this;return null==r&&(r=a),n.name=t,n.value=e,n.negate=d(r["$nil?"]())?e["$nil?"]():r},i.$$arity=-3),t.def(s,"$save_to",o=function(r){var n,$=a;return(d(n=r["$[]"]("attribute_entries"))?n:($=["attribute_entries",[]],_(r,"[]=",t.to_a($)),$[e($.length,1)]))["$<<"](this),this},o.$$arity=1)}(yt[0],0,yt),function(e,r,n){var $,i,o,s,c=u(e,null,"Title"),_=[c].concat(n);c.$$prototype.sanitized=c.$$prototype.subtitle=c.$$prototype.combined=a,c.$attr_reader("main"),t.alias(c,"title","main"),c.$attr_reader("subtitle"),c.$attr_reader("combined"),t.def(c,"$initialize",$=function(e,r){var n,$,i=this,o=a;return null==r&&(r=p([],{})),d(d(n=i.sanitized=r["$[]"]("sanitize"))?e["$include?"]("<"):n)&&(e=e.$gsub(l(_,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),d(d(n=(o=d($=r["$[]"]("separator"))?$:":")["$empty?"]())?n:e["$include?"](o+=" ")["$!"]())?(i.main=e,i.subtitle=a):($=e.$rpartition(o),n=t.to_ary($),i.main=null==n[0]?a:n[0],null==n[1]?a:n[1],i.subtitle=null==n[2]?a:n[2]),i.combined=e},$.$$arity=-2),t.def(c,"$sanitized?",i=function(){return this.sanitized},i.$$arity=0),t.def(c,"$subtitle?",o=function(){return!!d(this.subtitle)},o.$$arity=0),t.def(c,"$to_s",s=function(){return this.combined},s.$$arity=0)}(yt[0],0,yt),t.const_set(yt[0],"Author",s("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),mt.$attr_reader("safe"),mt.$attr_reader("compat_mode"),mt.$attr_reader("backend"),mt.$attr_reader("doctype"),mt.$attr_accessor("sourcemap"),mt.$attr_reader("catalog"),t.alias(mt,"references","catalog"),mt.$attr_reader("counters"),mt.$attr_reader("header"),mt.$attr_reader("base_dir"),mt.$attr_reader("options"),mt.$attr_reader("outfilesuffix"),mt.$attr_reader("parent_document"),mt.$attr_reader("reader"),mt.$attr_reader("path_resolver"),mt.$attr_reader("converter"),mt.$attr_reader("syntax_highlighter"),mt.$attr_reader("extensions"),t.def(mt,"$initialize",g=function($,i){var o,c,u,h,m,y,v,b,x,k,w=g.$$p,E=this,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a,D=a,z=a,B=a,M=a,j=a;return w&&(g.$$p=null),null==$&&($=a),null==i&&(i=p([],{})),_(E,t.find_super_dispatcher(E,"initialize",g,!1),[E,"document"],null),d(A=i.$delete("parent"))?(E.parent_document=A,d(o=i["$[]"]("base_dir"))||(O=["base_dir",A.$base_dir()],_(i,"[]=",t.to_a(O)),O[e(O.length,1)]),d(A.$options()["$[]"]("catalog_assets"))&&(O=["catalog_assets",!0],_(i,"[]=",t.to_a(O)),O[e(O.length,1)]),E.catalog=A.$catalog().$merge(p(["footnotes"],{footnotes:[]})),E.attribute_overrides=S=A.$instance_variable_get("@attribute_overrides").$merge(A.$attributes()),S.$delete("compat-mode"),R=S.$delete("doctype"),S.$delete("notitle"),S.$delete("showtitle"),S.$delete("toc"),O=["toc-placement",d(o=S.$delete("toc-placement"))?o:"auto"],_(E.attributes,"[]=",t.to_a(O)),O[e(O.length,1)],S.$delete("toc-position"),E.safe=A.$safe(),d(E.compat_mode=A.$compat_mode())&&(O=["compat-mode",""],_(E.attributes,"[]=",t.to_a(O)),O[e(O.length,1)]),E.outfilesuffix=A.$outfilesuffix(),E.sourcemap=A.$sourcemap(),E.timings=a,E.path_resolver=A.$path_resolver(),E.converter=A.$converter(),C=a,E.extensions=A.$extensions(),E.syntax_highlighter=A.$syntax_highlighter()):(E.parent_document=a,E.catalog=p(["ids","refs","footnotes","links","images","callouts","includes"],{ids:p([],{}),refs:p([],{}),footnotes:[],links:[],images:[],callouts:l(yt,"Callouts").$new(),includes:p([],{})}),E.attribute_overrides=S=p([],{}),_(d(o=i["$[]"]("attributes"))?o:p([],{}),"each",[],(c=function(r,n){var $;c.$$s;return null==r&&(r=a),null==n&&(n=a),d(r["$end_with?"]("@"))?d(r["$start_with?"]("!"))?($=[r.$slice(1,e(r.$length(),2)),!1],r=$[0],n=$[1]):d(r["$end_with?"]("!@"))?($=[r.$slice(0,e(r.$length(),2)),!1],r=$[0],n=$[1]):($=[r.$chop(),n+"@"],r=$[0],n=$[1]):d(r["$start_with?"]("!"))?($=[r.$slice(1,r.$length()),!n["$=="]("@")&&a],r=$[0],n=$[1]):d(r["$end_with?"]("!"))&&($=[r.$chop(),!n["$=="]("@")&&a],r=$[0],n=$[1]),O=[r.$downcase(),n],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]},c.$$s=E,c.$$arity=2,c)),d(s("::","String")["$==="](I=i["$[]"]("to_file")))&&(O=["outfilesuffix",l(yt,"Helpers").$extname(I)],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d((T=i["$[]"]("safe"))["$!"]())?E.safe=s(l(yt,"SafeMode"),"SECURE"):d(s("::","Integer")["$==="](T))?E.safe=T:E.safe=function(){try{return l(yt,"SafeMode").$value_for_name(T)}catch(e){if(!t.rescue(e,[l(yt,"StandardError")]))throw e;try{return s(l(yt,"SafeMode"),"SECURE")}finally{t.pop_exception()}}}(),L=i.$delete("input_mtime"),E.compat_mode=S["$key?"]("compat-mode"),E.sourcemap=i["$[]"]("sourcemap"),E.timings=i.$delete("timings"),E.path_resolver=l(yt,"PathResolver").$new(),C=d(d(o=(u=s("::","Asciidoctor","skip_raise"))&&s(u,"Extensions","skip_raise")?"constant":a)?o:i["$key?"]("extensions"))?s(s("::","Asciidoctor"),"Extensions"):a,E.extensions=a,d(d(o=i["$key?"]("header_footer"))?i["$key?"]("standalone")["$!"]():o)&&(O=["standalone",i["$[]"]("header_footer")],_(i,"[]=",t.to_a(O)),O[e(O.length,1)])),E.parsed=E.reftexts=E.header=E.header_attributes=a,E.counters=p([],{}),E.attributes_modified=s("::","Set").$new(),E.docinfo_processor_extensions=p([],{}),b=i["$[]"]("standalone"),(E.options=i).$freeze(),N=E.attributes,d(A)||(O=["attribute-undefined",l(yt,"Compliance").$attribute_undefined()],_(N,"[]=",t.to_a(O)),O[e(O.length,1)],O=["attribute-missing",l(yt,"Compliance").$attribute_missing()],_(N,"[]=",t.to_a(O)),O[e(O.length,1)],N.$update(l(yt,"DEFAULT_ATTRIBUTES"))),d(b)?(O=["embedded",a],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],O=["copycss",""],_(N,"[]=",t.to_a(O)),O[e(O.length,1)],O=["iconfont-remote",""],_(N,"[]=",t.to_a(O)),O[e(O.length,1)],O=["stylesheet",""],_(N,"[]=",t.to_a(O)),O[e(O.length,1)],O=["webfonts",""],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]):(O=["embedded",""],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],d(d(o=S["$key?"]("showtitle"))?S.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):o)?(O=["notitle",f(a,"",!1,"@","@",!1)["$[]"](S["$[]"]("showtitle"))],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]):d(S["$key?"]("notitle"))?(O=["showtitle",f(a,"",!1,"@","@",!1)["$[]"](S["$[]"]("notitle"))],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]):(O=["notitle",""],_(N,"[]=",t.to_a(O)),O[e(O.length,1)])),O=["asciidoctor",""],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],O=["asciidoctor-version",s(s("::","Asciidoctor"),"VERSION")],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],O=["safe-mode-name",x=l(yt,"SafeMode").$name_for_value(E.safe)],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],O=["safe-mode-"+x,""],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],O=["safe-mode-level",E.safe],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],d(o=S["$[]"]("max-include-depth"))||(O=["max-include-depth",64],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(o=S["$[]"]("allow-uri-read"))||(O=["allow-uri-read",a],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(S["$key?"]("numbered"))&&(O=["sectnums",S.$delete("numbered")],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(S["$key?"]("hardbreaks"))&&(O=["hardbreaks-option",S.$delete("hardbreaks")],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(k=i["$[]"]("base_dir"))?E.base_dir=(O=["docdir",s("::","File").$expand_path(k)],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]):d(S["$[]"]("docdir"))?E.base_dir=S["$[]"]("docdir"):E.base_dir=(O=["docdir",s("::","Dir").$pwd()],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(F=i["$[]"]("backend"))&&(O=["backend",F.$to_s()],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(D=i["$[]"]("doctype"))&&(O=["doctype",D.$to_s()],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(r(E.safe,s(l(yt,"SafeMode"),"SERVER")))?(d(o=S["$[]"]("copycss"))||(O=["copycss",a],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(o=S["$[]"]("source-highlighter"))||(O=["source-highlighter",a],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(o=S["$[]"]("backend"))||(O=["backend",l(yt,"DEFAULT_BACKEND")],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(d(o=A["$!"]())?S["$key?"]("docfile"):o)&&(O=["docfile",S["$[]"]("docfile")["$[]"](t.Range.$new(n(S["$[]"]("docdir").$length(),1),-1,!1))],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),O=["docdir",""],_(S,"[]=",t.to_a(O)),O[e(O.length,1)],d(o=S["$[]"]("user-home"))||(O=["user-home","."],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(r(E.safe,s(l(yt,"SafeMode"),"SECURE")))&&(d(S["$key?"]("max-attribute-value-size"))||(O=["max-attribute-value-size",4096],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(S["$key?"]("linkcss"))||(O=["linkcss",""],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),d(o=S["$[]"]("icons"))||(O=["icons",a],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]))):d(o=S["$[]"]("user-home"))||(O=["user-home",l(yt,"USER_HOME")],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]),E.max_attribute_value_size=d(z=d(o=S["$[]"]("max-attribute-value-size"))?o:(O=["max-attribute-value-size",a],_(S,"[]=",t.to_a(O)),O[e(O.length,1)]))?z.$to_i().$abs():a,_(S,"delete_if",[],(h=function(r,n){h.$$s;var $,i=a;return null==r&&(r=a),null==n&&(n=a),d(n)?(d(d($=s("::","String")["$==="](n))?n["$end_with?"]("@"):$)&&($=[n.$chop(),!0],n=$[0],i=$[1]),O=[r,n],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]):(N.$delete(r),i=n["$=="](!1)),i},h.$$s=E,h.$$arity=2,h)),d(A)?(E.backend=N["$[]"]("backend"),(E.doctype=(O=["doctype",R],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]))["$=="](l(yt,"DEFAULT_DOCTYPE"))||E.$update_doctype_attributes(l(yt,"DEFAULT_DOCTYPE")),E.reader=l(yt,"Reader").$new($,i["$[]"]("cursor")),d(E.sourcemap)&&(E.source_location=E.reader.$cursor()),l(yt,"Parser").$parse(E.reader,E),E.$restore_attributes(),E.parsed=!0):(E.backend=a,(B=d(o=N["$[]"]("backend"))?o:l(yt,"DEFAULT_BACKEND"))["$=="]("manpage")?E.doctype=(O=["doctype",(O=["doctype","manpage"],_(S,"[]=",t.to_a(O)),O[e(O.length,1)])],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]):E.doctype=d(o=N["$[]"]("doctype"))?o:(O=["doctype",l(yt,"DEFAULT_DOCTYPE")],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]),E.$update_backend_attributes(B,!0),d(o=N["$[]"]("stylesdir"))||(O=["stylesdir","."],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]),d(o=N["$[]"]("iconsdir"))||(O=["iconsdir",N.$fetch("imagesdir","./images")+"/icons"],_(N,"[]=",t.to_a(O)),O[e(O.length,1)]),E.$fill_datetime_attributes(N,L),d(C)&&(d(M=i["$[]"]("extension_registry"))?d(d(o=s(l(yt,"Extensions"),"Registry")["$==="](M))?o:d(m=(v=s("::","AsciidoctorJ","skip_raise"))&&(y=s(v,"Extensions","skip_raise"))&&s(y,"ExtensionRegistry","skip_raise")?"constant":a)?s(s(s("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](M):m)&&(E.extensions=M.$activate(E)):d((j=i["$[]"]("extensions"))["$nil?"]())?d(l(yt,"Extensions").$groups()["$empty?"]())||(E.extensions=s(l(yt,"Extensions"),"Registry").$new().$activate(E)):d(s("::","Proc")["$==="](j))&&(E.extensions=_(l(yt,"Extensions"),"create",[],j.$to_proc()).$activate(E))),E.reader=l(yt,"PreprocessorReader").$new(E,$,s(l(yt,"Reader"),"Cursor").$new(N["$[]"]("docfile"),E.base_dir),p(["normalize"],{normalize:!0})),d(E.sourcemap)?E.source_location=E.reader.$cursor():a)},g.$$arity=-1),t.def(mt,"$parse",v=function(t){var e,r,n,$=this,i=a,o=a;return null==t&&(t=a),d($.parsed)?$:(i=$,d(t)&&($.reader=l(yt,"PreprocessorReader").$new(i,t,s(l(yt,"Reader"),"Cursor").$new($.attributes["$[]"]("docfile"),$.base_dir),p(["normalize"],{normalize:!0})),d($.sourcemap)&&($.source_location=$.reader.$cursor())),d(d(e=o=d($.parent_document)?a:$.extensions)?o["$preprocessors?"]():e)&&_(o.$preprocessors(),"each",[],(r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=a),null==t&&(t=a),n.reader=d(e=t.$process_method()["$[]"](i,n.reader))?e:n.reader},r.$$s=$,r.$$arity=1,r)),l(yt,"Parser").$parse($.reader,i,p(["header_only"],{header_only:$.options["$[]"]("parse_header_only")})),$.$restore_attributes(),d(d(e=o)?o["$tree_processors?"]():e)&&_(o.$tree_processors(),"each",[],((n=function(t){n.$$s;var e,r,$=a;return null==t&&(t=a),d(d(e=d(r=$=t.$process_method()["$[]"](i))?l(yt,"Document")["$==="]($):r)?$["$!="](i):e)?i=$:a}).$$s=$,n.$$arity=1,n)),$.parsed=!0,i)},v.$$arity=-1),t.def(mt,"$parsed?",b=function(){return this.parsed},b.$$arity=0),t.def(mt,"$counter",x=function(r,n){var $,i,o,s=this,c=a,u=a,p=a;return null==n&&(n=a),d(s.parent_document)?s.parent_document.$counter(r,n):(d(d($=d(i=o=s["$attribute_locked?"](r))?c=s.counters["$[]"](r):i)?$:(c=s.attributes["$[]"](r))["$nil_or_empty?"]()["$!"]())?(p=[r,l(yt,"Helpers").$nextval(c)],_(s.counters,"[]=",t.to_a(p)),u=p[e(p.length,1)]):d(n)?(p=[r,n["$=="](n.$to_i().$to_s())?n.$to_i():n],_(s.counters,"[]=",t.to_a(p)),u=p[e(p.length,1)]):(p=[r,1],_(s.counters,"[]=",t.to_a(p)),u=p[e(p.length,1)]),d(o)||(p=[r,u],_(s.attributes,"[]=",t.to_a(p)),p[e(p.length,1)]),u)},x.$$arity=-2),t.def(mt,"$increment_and_store_counter",k=function(t,e){return l(yt,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},k.$$arity=2),t.alias(mt,"counter_increment","increment_and_store_counter"),t.def(mt,"$register",w=function(r,n){var $=this,i=a,o=a,s=a,c=a,u=a;return"ids"["$==="](i=r)?$.$register("refs",[o=n["$[]"](0),l(yt,"Inline").$new($,"anchor",n["$[]"](1),p(["type","id"],{type:"ref",id:o}))]):"refs"["$==="](i)?(s=$.catalog["$[]"]("refs"),d(s["$[]"](n["$[]"](0)))||(c=[n["$[]"](0),u=n["$[]"](1)],_(s,"[]=",t.to_a(c)),c[e(c.length,1)]),u):"footnotes"["$==="](i)?$.catalog["$[]"](r)["$<<"](n):d($.options["$[]"]("catalog_assets"))?$.catalog["$[]"](r)["$<<"](r["$=="]("images")?l(yt,"ImageReference").$new(n,$.attributes["$[]"]("imagesdir")):n):a},w.$$arity=2),t.def(mt,"$resolve_id",E=function(r){var n,$,i=this,o=a,s=a;return d(i.reftexts)?i.reftexts["$[]"](r):d(i.parsed)?_(i.reftexts=p([],{}),"tap",[],(n=function(r){var $,i=n.$$s||this;return null==i.catalog&&(i.catalog=a),null==r&&(r=a),_(i.catalog["$[]"]("refs"),"each",[],(($=function(n,i){$.$$s;var o,s=a;return null==n&&(n=a),null==i&&(i=a),d(o=r["$[]"](i.$xreftext()))?o:(s=[i.$xreftext(),n],_(r,"[]=",t.to_a(s)),s[e(s.length,1)])}).$$s=i,$.$$arity=2,$))},n.$$s=i,n.$$arity=1,n))["$[]"](r):(o=a,i.reftexts=s=p([],{}),function(){var n=t.new_brk();try{_(i.catalog["$[]"]("refs"),"each",[],(($=function(i,l){$.$$s;var c,u=a,p=a;return null==i&&(i=a),null==l&&(l=a),(u=l.$xreftext())["$=="](r)&&(o=i,t.brk(a,n)),d(c=s["$[]"](u))?c:(p=[u,i],_(s,"[]=",t.to_a(p)),p[e(p.length,1)])}).$$s=i,$.$$brk=n,$.$$arity=2,$))}catch(t){if(t===n)return t.$v;throw t}}(),i.reftexts=a,o)},E.$$arity=1),t.def(mt,"$sections?",A=function(){return $(this.next_section_index,0)},A.$$arity=0),t.def(mt,"$footnotes?",O=function(){return!d(this.catalog["$[]"]("footnotes")["$empty?"]())},O.$$arity=0),t.def(mt,"$footnotes",S=function(){return this.catalog["$[]"]("footnotes")},S.$$arity=0),t.def(mt,"$callouts",R=function(){return this.catalog["$[]"]("callouts")},R.$$arity=0),t.def(mt,"$nested?",C=function(){return!!d(this.parent_document)},C.$$arity=0),t.def(mt,"$embedded?",I=function(){return this.attributes["$key?"]("embedded")},I.$$arity=0),t.def(mt,"$extensions?",T=function(){return!!d(this.extensions)},T.$$arity=0),t.def(mt,"$source",L=function(){return d(this.reader)?this.reader.$source():a},L.$$arity=0),t.def(mt,"$source_lines",N=function(){return d(this.reader)?this.reader.$source_lines():a},N.$$arity=0),t.def(mt,"$basebackend?",F=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},F.$$arity=1),t.def(mt,"$title",D=function(){return this.$doctitle()},D.$$arity=0),t.def(mt,"$title=",z=function(r){var n=this,$=a,i=a;return d($=n.header)||(i=["header"],_($=n.header=l(yt,"Section").$new(n,0),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[r],_($,"title=",t.to_a(i)),i[e(i.length,1)]},z.$$arity=1),t.def(mt,"$doctitle",B=function(t){var e,r=this,n=a,$=a,i=a;if(null==t&&(t=p([],{})),d(n=r.attributes["$[]"]("title")));else if(d($=r.$first_section()))n=$.$title();else if(d((d(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e)["$!"]()))return a;return d(i=t["$[]"]("partition"))?l(yt,"Title").$new(n,t.$merge(p(["separator"],{separator:i["$=="](!0)?r.attributes["$[]"]("title-separator"):i}))):d(d(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(l(yt,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},B.$$arity=-1),t.alias(mt,"name","doctitle"),t.def(mt,"$xreftext",M=function(t){var e,r=a;return null==t&&(t=a),d(d(e=r=this.$reftext())?r["$empty?"]()["$!"]():e)?r:this.$title()},M.$$arity=-1),t.def(mt,"$author",j=function(){return this.attributes["$[]"]("author")},j.$$arity=0),t.def(mt,"$authors",q=function(){var t,e=a,r=a,o=a,s=a;if(d((e=this.attributes)["$key?"]("author"))){if(r=[l(yt,"Author").$new(e["$[]"]("author"),e["$[]"]("firstname"),e["$[]"]("middlename"),e["$[]"]("lastname"),e["$[]"]("authorinitials"),e["$[]"]("email"))],d($(o=d(t=e["$[]"]("authorcount"))?t:0,1)))for(s=1;d(i(s,o));)s=n(s,1),r["$<<"](l(yt,"Author").$new(e["$[]"]("author_"+s),e["$[]"]("firstname_"+s),e["$[]"]("middlename_"+s),e["$[]"]("lastname_"+s),e["$[]"]("authorinitials_"+s),e["$[]"]("email_"+s)));return r}return[]},q.$$arity=0),t.def(mt,"$revdate",P=function(){return this.attributes["$[]"]("revdate")},P.$$arity=0),t.def(mt,"$notitle",U=function(){return this.attributes["$key?"]("notitle")},U.$$arity=0),t.def(mt,"$noheader",H=function(){return this.attributes["$key?"]("noheader")},H.$$arity=0),t.def(mt,"$nofooter",Y=function(){return this.attributes["$key?"]("nofooter")},Y.$$arity=0),t.def(mt,"$first_section",G=function(){var t,e,r=this;return d(t=r.header)?t:_(r.blocks,"find",[],((e=function(t){return e.$$s,null==t&&(t=a),t.$context()["$=="]("section")}).$$s=r,e.$$arity=1,e))},G.$$arity=0),t.def(mt,"$header?",W=function(){return!!d(this.header)},W.$$arity=0),t.alias(mt,"has_header?","header?"),t.def(mt,"$<<",X=function(e){var r=X.$$p,n=this,$=a,i=a,o=a;for(r&&(X.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return e.$context()["$=="]("section")&&n.$assign_numeral(e),_(n,t.find_super_dispatcher(n,"<<",X,!1),$,r)},X.$$arity=1),t.def(mt,"$finalize_header",K=function(r,n){var $=a;return null==n&&(n=!0),this.$clear_playback_attributes(r),this.$save_attributes(),d(n)||($=["invalid-header",!0],_(r,"[]=",t.to_a($)),$[e($.length,1)]),r},K.$$arity=-2),t.def(mt,"$playback_attributes",V=function(r){var n;return d(r["$key?"]("attribute_entries"))?_(r["$[]"]("attribute_entries"),"each",[],(n=function(r){var $=n.$$s||this,i=a,o=a;return null==$.attributes&&($.attributes=a),null==r&&(r=a),i=r.$name(),d(r.$negate())?($.attributes.$delete(i),i["$=="]("compat-mode")?$.compat_mode=!1:a):(o=[i,r.$value()],_($.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],i["$=="]("compat-mode")?$.compat_mode=!0:a)},n.$$s=this,n.$$arity=1,n)):a},V.$$arity=1),t.def(mt,"$restore_attributes",J=function(){var t=this;return d(t.parent_document)||t.catalog["$[]"]("callouts").$rewind(),t.attributes.$replace(t.header_attributes)},J.$$arity=0),t.def(mt,"$set_attribute",Z=function(r,n){var $,i=this,o=a,s=a;return null==n&&(n=""),d(i["$attribute_locked?"](r))?a:(d(n["$empty?"]())||(n=i.$apply_attribute_value_subs(n)),d(i.header_attributes)?(o=[r,n],_(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]):("backend"["$==="](s=r)?i.$update_backend_attributes(n,d($=i.attributes_modified["$delete?"]("htmlsyntax"))?n["$=="](i.backend):$):"doctype"["$==="](s)?i.$update_doctype_attributes(n):(o=[r,n],_(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]),i.attributes_modified["$<<"](r)),n)},Z.$$arity=-2),t.def(mt,"$delete_attribute",Q=function(t){var e=this;return!d(e["$attribute_locked?"](t))&&(e.attributes.$delete(t),e.attributes_modified["$<<"](t),!0)},Q.$$arity=1),t.def(mt,"$attribute_locked?",tt=function(t){return this.attribute_overrides["$key?"](t)},tt.$$arity=1),t.def(mt,"$set_header_attribute",et=function(r,n,$){var i,o=a,s=a;return null==n&&(n=""),null==$&&($=!0),o=d(i=this.header_attributes)?i:this.attributes,!d((i=$["$=="](!1))?o["$key?"](r):$["$=="](!1))&&(s=[r,n],_(o,"[]=",t.to_a(s)),s[e(s.length,1)],!0)},et.$$arity=-2),t.def(mt,"$convert",rt=function(n){var $,i,o=this,c=a,u=a,f=a,h=a,m=a;return null==n&&(n=p([],{})),d(o.timings)&&o.timings.$start("convert"),d(o.parsed)||o.$parse(),d(d($=r(o.safe,s(l(yt,"SafeMode"),"SERVER")))?$:n["$empty?"]())||(d((c=["outfile",n["$[]"]("outfile")],_(o.attributes,"[]=",t.to_a(c)),c[e(c.length,1)]))||o.attributes.$delete("outfile"),d((c=["outdir",n["$[]"]("outdir")],_(o.attributes,"[]=",t.to_a(c)),c[e(c.length,1)]))||o.attributes.$delete("outdir")),o.$doctype()["$=="]("inline")?d(u=d($=o.blocks["$[]"](0))?$:o.header)&&(d(d($=u.$content_model()["$=="]("compound"))?$:u.$content_model()["$=="]("empty"))?o.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):f=u.$content()):(h=d(n["$key?"]("standalone"))?d(n["$[]"]("standalone"))?"document":"embedded":d(n["$key?"]("header_footer"))?d(n["$[]"]("header_footer"))?"document":"embedded":d(o.options["$[]"]("standalone"))?"document":"embedded",f=o.converter.$convert(o,h)),d(o.parent_document)||d(d($=m=o.extensions)?m["$postprocessors?"]():$)&&_(m.$postprocessors(),"each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=a),f=t.$process_method()["$[]"](e,f)},i.$$s=o,i.$$arity=1,i)),d(o.timings)&&o.timings.$record("convert"),f},rt.$$arity=-1),t.alias(mt,"render","convert"),t.def(mt,"$write",nt=function(t,e){var r,n=this;return d(n.timings)&&n.timings.$start("write"),d(l(yt,"Writer")["$==="](n.converter))?n.converter.$write(t,e):(d(e["$respond_to?"]("write"))?d(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(l(yt,"LF"))):s("::","File").$write(e,t,p(["mode"],{mode:l(yt,"FILE_WRITE_MODE")})),d(d(r=n.backend["$=="]("manpage")?s("::","String")["$==="](e):n.backend["$=="]("manpage"))?n.converter.$class()["$respond_to?"]("write_alternate_pages"):r)&&n.converter.$class().$write_alternate_pages(n.attributes["$[]"]("mannames"),n.attributes["$[]"]("manvolnum"),e)),d(n.timings)&&n.timings.$record("write"),a},nt.$$arity=2),t.def(mt,"$content",$t=function(){var e=$t.$$p,r=this,n=a,$=a,i=a;for(e&&($t.$$p=null),$=0,i=arguments.length,n=new Array(i);$<i;$++)n[$]=arguments[$];return r.attributes.$delete("title"),_(r,t.find_super_dispatcher(r,"content",$t,!1),n,e)},$t.$$arity=0),t.def(mt,"$docinfo",it=function(t,e){var r,n,$,o=this,c=a,u=a,f=a,h=a,m=a,y=a,g=a,v=a,b=a;return null==t&&(t="head"),null==e&&(e=a),d(i(o.$safe(),s(l(yt,"SafeMode"),"SECURE")))&&(t["$=="]("head")||(c="-"+t),e=d(r=e)?r:o.outfilesuffix,u=d((u=o.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?d(o.attributes["$key?"]("docinfo2"))?["private","shared"]:d(o.attributes["$key?"]("docinfo1"))?["shared"]:d(u)?["private"]:a:_(u.$split(","),"map",[],((n=function(t){return n.$$s,null==t&&(t=a),t.$strip()}).$$s=o,n.$$arity=1,n)),d(u)&&(f=[],h=(r=["docinfo"+c+e,o.attributes["$[]"]("docinfodir"),o.$resolve_docinfo_subs()])[0],m=r[1],y=r[2],d(u["$&"](["shared","shared-"+t])["$empty?"]())||(g=o.$normalize_system_path(h,m),d(v=o.$read_asset(g,p(["normalize"],{normalize:!0})))&&f["$<<"](o.$apply_subs(v,y))),d(d(r=o.attributes["$[]"]("docname")["$nil_or_empty?"]())?r:u["$&"](["private","private-"+t])["$empty?"]())||(g=o.$normalize_system_path(o.attributes["$[]"]("docname")+"-"+h,m),d(b=o.$read_asset(g,p(["normalize"],{normalize:!0})))&&f["$<<"](o.$apply_subs(b,y))))),d(d(r=o.extensions)?o["$docinfo_processors?"](t):r)?(d(r=f)?r:[]).$concat(_(o.docinfo_processor_extensions["$[]"](t),"map",[],($=function(t){var e=$.$$s||this;return null==t&&(t=a),t.$process_method()["$[]"](e)},$.$$s=o,$.$$arity=1,$)).$compact()).$join(l(yt,"LF")):d(f)?f.$join(l(yt,"LF")):""},it.$$arity=-1),t.def(mt,"$docinfo_processors?",ot=function(r){var n,$=this,i=a;return null==r&&(r="head"),d($.docinfo_processor_extensions["$key?"](r))?$.docinfo_processor_extensions["$[]"](r)["$!="](!1):d(d(n=$.extensions)?$.document.$extensions()["$docinfo_processors?"](r):n)?(i=[r,$.document.$extensions().$docinfo_processors(r)],_($.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[r,!1],_($.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},ot.$$arity=-1),t.def(mt,"$to_s",at=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {doctype: "+e.$doctype().$inspect()+", doctitle: "+(d(t=e.header)?e.header.$title():t).$inspect()+", blocks: "+e.blocks.$size()+"}>"},at.$$arity=0),mt.$private(),t.def(mt,"$apply_attribute_value_subs",st=function(t){var e,r=this;return d(l(yt,"AttributeEntryPassMacroRx")["$=~"](t))?(t=(e=h["~"])===a?a:e["$[]"](2),d((e=h["~"])===a?a:e["$[]"](1))&&(t=r.$apply_subs(t,r.$resolve_pass_subs((e=h["~"])===a?a:e["$[]"](1))))):t=r.$apply_header_subs(t),d(r.max_attribute_value_size)?r.$limit_bytesize(t,r.max_attribute_value_size):t},st.$$arity=1),t.def(mt,"$limit_bytesize",lt=function(t,r){if(d($(t.$bytesize(),r)))for(;!d((t=t.$byteslice(0,r))["$valid_encoding?"]());)r=e(r,1);return t},lt.$$arity=2),t.def(mt,"$resolve_docinfo_subs",ct=function(){var t=this;return d(t.attributes["$key?"]("docinfosubs"))?t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",a,"docinfo"):["attributes"]},ct.$$arity=0),t.def(mt,"$create_converter",ut=function(r,n){var $,i,o,c,u=this,h=a,m=a;return i=p(["document","htmlsyntax"],{document:u,htmlsyntax:u.attributes["$[]"]("htmlsyntax")}),d(o=d($=(h=u.options)["$[]"]("template_dirs"))?$:h["$[]"]("template_dir"))&&(m=["template_dirs",[].concat(t.to_a(o))],_(i,"[]=",t.to_a(m)),m[e(m.length,1)],m=["template_cache",h.$fetch("template_cache",!0)],_(i,"[]=",t.to_a(m)),m[e(m.length,1)],m=["template_engine",h["$[]"]("template_engine")],_(i,"[]=",t.to_a(m)),m[e(m.length,1)],m=["template_engine_options",h["$[]"]("template_engine_options")],_(i,"[]=",t.to_a(m)),m[e(m.length,1)],m=["eruby",h["$[]"]("eruby")],_(i,"[]=",t.to_a(m)),m[e(m.length,1)],m=["safe",u.safe],_(i,"[]=",t.to_a(m)),m[e(m.length,1)],d(n)&&(m=["delegate_backend",n],_(i,"[]=",t.to_a(m)),m[e(m.length,1)])),d(c=h["$[]"]("converter"))?s(l(yt,"Converter"),"CustomFactory").$new(f(r,c)).$create(r,i):h.$fetch("converter_factory",l(yt,"Converter")).$create(r,i)},ut.$$arity=2),t.def(mt,"$clear_playback_attributes",_t=function(t){return t.$delete("attribute_entries")},_t.$$arity=1),t.def(mt,"$save_attributes",dt=function(){var r,n,$=this,i=a,o=a,c=a,u=a,f=a,h=a,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a;return d(d(r=(i=$.attributes)["$key?"]("doctitle"))?r:(o=$.$doctitle())["$!"]())||(c=["doctitle",o],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]),$.id=d(r=$.id)?r:i["$[]"]("css-signature"),d(u=d(i.$delete("toc2"))?"left":i["$[]"]("toc"))&&(f=d(d(r=h=i.$fetch("toc-placement","macro"))?h["$!="]("auto"):r)?h:i["$[]"]("toc-position"),d(d(r=u["$empty?"]())?f["$nil_or_empty?"]():r)||(m="left",y="toc2",g=d(f["$nil_or_empty?"]())?d(u["$empty?"]())?m:u:f,c=["toc",""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)],c=["toc-placement","auto"],_(i,"[]=",t.to_a(c)),c[e(c.length,1)],"left"["$==="](v=g)||"<"["$==="](v)||"&lt;"["$==="](v)?(c=["toc-position","left"],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]):"right"["$==="](v)||">"["$==="](v)||"&gt;"["$==="](v)?(c=["toc-position","right"],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]):"top"["$==="](v)||"^"["$==="](v)?(c=["toc-position","top"],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]):"bottom"["$==="](v)||"v"["$==="](v)?(c=["toc-position","bottom"],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]):"preamble"["$==="](v)||"macro"["$==="](v)?(c=["toc-position","content"],_(i,"[]=",t.to_a(c)),c[e(c.length,1)],c=["toc-placement",g],_(i,"[]=",t.to_a(c)),c[e(c.length,1)],y=a):(i.$delete("toc-position"),y=a),d(y)&&(d(r=i["$[]"]("toc-class"))||(c=["toc-class",y],_(i,"[]=",t.to_a(c)),c[e(c.length,1)])))),d(d(r=b=i["$[]"]("icons"))?i["$key?"]("icontype")["$!"]():r)&&(""["$==="](v=b)||"font"["$==="](v)||(c=["icons",""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)],b["$=="]("image")||(c=["icontype",b],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]))),d(d(r=$.compat_mode=i["$key?"]("compat-mode"))?i["$key?"]("language"):r)&&(c=["source-language",i["$[]"]("language")],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]),d($.parent_document)||((x=i["$[]"]("basebackend"))["$=="]("html")?d(d(r=k=i["$[]"]("source-highlighter"))?i["$[]"](k+"-unavailable")["$!"]():r)&&(d(w=$.options["$[]"]("syntax_highlighter_factory"))?$.syntax_highlighter=w.$create(k,$.backend,p(["document"],{document:$})):d(E=$.options["$[]"]("syntax_highlighters"))?$.syntax_highlighter=s(l(yt,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(E).$create(k,$.backend,p(["document"],{document:$})):$.syntax_highlighter=l(yt,"SyntaxHighlighter").$create(k,$.backend,p(["document"],{document:$}))):x["$=="]("docbook")&&(d(d(r=$["$attribute_locked?"]("toc"))?r:$.attributes_modified["$include?"]("toc"))||(c=["toc",""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]),d(d(r=$["$attribute_locked?"]("sectnums"))?r:$.attributes_modified["$include?"]("sectnums"))||(c=["sectnums",""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)])),$.outfilesuffix=i["$[]"]("outfilesuffix"),_(l(yt,"FLEXIBLE_ATTRIBUTES"),"each",[],(n=function(t){var e,r=n.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=a),null==t&&(t=a),d(d(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):a},n.$$s=$,n.$$arity=1,n))),$.header_attributes=i.$merge()},dt.$$arity=0),t.def(mt,"$fill_datetime_attributes",pt=function(r,n){var $,i,o,l,c=this,u=a,p=a,f=a,h=a,m=a;return u=d(s("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?p=s("::","Time").$at(c.$Integer(s("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():s("::","Time").$now(),d(f=r["$[]"]("localdate"))?d($=r["$[]"]("localyear"))||(h=["localyear",f.$index("-")["$=="](4)?f.$slice(0,4):a],_(r,"[]=",t.to_a(h)),h[e(h.length,1)]):(h=["localdate",u.$strftime("%F")],_(r,"[]=",t.to_a(h)),f=h[e(h.length,1)],d($=r["$[]"]("localyear"))||(h=["localyear",u.$year().$to_s()],_(r,"[]=",t.to_a(h)),h[e(h.length,1)])),o=d($=r["$[]"]("localtime"))?$:(h=["localtime",u.$strftime("%T "+(u.$utc_offset()["$=="](0)?"UTC":"%z"))],_(r,"[]=",t.to_a(h)),h[e(h.length,1)]),d($=r["$[]"]("localdatetime"))||(h=["localdatetime",f+" "+o],_(r,"[]=",t.to_a(h)),h[e(h.length,1)]),n=d($=d(i=p)?i:n)?$:u,d(m=r["$[]"]("docdate"))?d($=r["$[]"]("docyear"))||(h=["docyear",m.$index("-")["$=="](4)?m.$slice(0,4):a],_(r,"[]=",t.to_a(h)),h[e(h.length,1)]):(h=["docdate",n.$strftime("%F")],_(r,"[]=",t.to_a(h)),m=h[e(h.length,1)],d($=r["$[]"]("docyear"))||(h=["docyear",n.$year().$to_s()],_(r,"[]=",t.to_a(h)),h[e(h.length,1)])),l=d($=r["$[]"]("doctime"))?$:(h=["doctime",n.$strftime("%T "+(n.$utc_offset()["$=="](0)?"UTC":"%z"))],_(r,"[]=",t.to_a(h)),h[e(h.length,1)]),d($=r["$[]"]("docdatetime"))||(h=["docdatetime",m+" "+l],_(r,"[]=",t.to_a(h)),h[e(h.length,1)]),a},pt.$$arity=2),t.def(mt,"$update_backend_attributes",ft=function(r,n){var $,i,o=this,c=a,u=a,p=a,f=a,h=a,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a;return null==n&&(n=a),d(d($=n)?$:r["$!="](o.backend))?(c=o.backend,u=(p=o.attributes)["$[]"]("basebackend"),f=o.doctype,d(r["$include?"](":"))&&(i=r.$partition(":"),h=null==($=t.to_ary(i))[0]?a:$[0],null==$[1]?a:$[1],r=null==$[2]?a:$[2]),d(r["$start_with?"]("xhtml"))?(m=["htmlsyntax","xml"],_(p,"[]=",t.to_a(m)),m[e(m.length,1)],r=r.$slice(1,r.$length())):d(r["$start_with?"]("html"))&&(d($=p["$[]"]("htmlsyntax"))||(m=["htmlsyntax","html"],_(p,"[]=",t.to_a(m)),m[e(m.length,1)])),r=d($=l(yt,"BACKEND_ALIASES")["$[]"](r))?$:r,d(h)&&(r=($=[h,r])[0],y=$[1]),d(f)?(d(c)&&(p.$delete("backend-"+c),p.$delete("backend-"+c+"-doctype-"+f)),m=["backend-"+r+"-doctype-"+f,""],_(p,"[]=",t.to_a(m)),m[e(m.length,1)],m=["doctype-"+f,""],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]):d(c)&&p.$delete("backend-"+c),m=["backend-"+r,""],_(p,"[]=",t.to_a(m)),m[e(m.length,1)],o.backend=(m=["backend",r],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]),d(s(l(yt,"Converter"),"BackendTraits")["$==="](g=o.$create_converter(r,y)))?(v=g.$basebackend(),b=g.$filetype(),d(x=g.$htmlsyntax())&&(m=["htmlsyntax",x],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]),d(n)?d($=p["$[]"]("outfilesuffix"))||(m=["outfilesuffix",g.$outfilesuffix()],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]):d(o["$attribute_locked?"]("outfilesuffix"))||(m=["outfilesuffix",g.$outfilesuffix()],_(p,"[]=",t.to_a(m)),m[e(m.length,1)])):d(g)?(v=(k=l(yt,"Converter").$derive_backend_traits(r))["$[]"]("basebackend"),b=k["$[]"]("filetype"),d(n)?d($=p["$[]"]("outfilesuffix"))||(m=["outfilesuffix",k["$[]"]("outfilesuffix")],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]):d(o["$attribute_locked?"]("outfilesuffix"))||(m=["outfilesuffix",k["$[]"]("outfilesuffix")],_(p,"[]=",t.to_a(m)),m[e(m.length,1)])):o.$raise(s("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+r+"'. Processing aborted."),o.converter=g,d(w=p["$[]"]("filetype"))&&p.$delete("filetype-"+w),m=["filetype",b],_(p,"[]=",t.to_a(m)),m[e(m.length,1)],m=["filetype-"+b,""],_(p,"[]=",t.to_a(m)),m[e(m.length,1)],d(E=l(yt,"DEFAULT_PAGE_WIDTHS")["$[]"](v))?(m=["pagewidth",E],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]):p.$delete("pagewidth"),d(v["$!="](u))&&(d(f)?(d(u)&&(p.$delete("basebackend-"+u),p.$delete("basebackend-"+u+"-doctype-"+f)),m=["basebackend-"+v+"-doctype-"+f,""],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]):d(u)&&p.$delete("basebackend-"+u),m=["basebackend-"+v,""],_(p,"[]=",t.to_a(m)),m[e(m.length,1)],m=["basebackend",v],_(p,"[]=",t.to_a(m)),m[e(m.length,1)]),r):a},ft.$$arity=-2),t.def(mt,"$update_doctype_attributes",ht=function(r){var n,$=this,i=a,o=a,s=a,l=a,c=a;return d(d(n=r)?r["$!="]($.doctype):n)?(o=(n=[$.backend,(i=$.attributes)["$[]"]("basebackend"),$.doctype])[0],s=n[1],l=n[2],d(l)?(i.$delete("doctype-"+l),d(o)&&(i.$delete("backend-"+o+"-doctype-"+l),c=["backend-"+o+"-doctype-"+r,""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]),d(s)&&(i.$delete("basebackend-"+s+"-doctype-"+l),c=["basebackend-"+s+"-doctype-"+r,""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)])):(d(o)&&(c=["backend-"+o+"-doctype-"+r,""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)]),d(s)&&(c=["basebackend-"+s+"-doctype-"+r,""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)])),c=["doctype-"+r,""],_(i,"[]=",t.to_a(c)),c[e(c.length,1)],$.doctype=(c=["doctype",r],_(i,"[]=",t.to_a(c)),c[e(c.length,1)])):a},ht.$$arity=1)}(y[0],l(y,"AbstractBlock"),y)}(o[0],o)},Opal.modules["asciidoctor/inline"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.klass,o=t.hash2,a=t.send,s=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$[]","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,n,$){var l,c,u,_,d,p,f,h,m=i(e,n,"Inline");[m].concat($);m.$$prototype.text=m.$$prototype.type=r,m.$attr_accessor("text"),m.$attr_reader("type"),m.$attr_accessor("target"),t.def(m,"$initialize",l=function(e,n,$,i){var s=this;return l.$$p&&(l.$$p=null),null==$&&($=r),null==i&&(i=o([],{})),a(s,t.find_super_dispatcher(s,"initialize",l,!1),[e,n,i],null),s.node_name="inline_"+n,s.text=$,s.id=i["$[]"]("id"),s.type=i["$[]"]("type"),s.target=i["$[]"]("target")},l.$$arity=-3),t.def(m,"$block?",c=function(){return!1},c.$$arity=0),t.def(m,"$inline?",u=function(){return!0},u.$$arity=0),t.def(m,"$convert",_=function(){return this.$converter().$convert(this)},_.$$arity=0),t.alias(m,"render","convert"),t.def(m,"$alt",d=function(){var t;return s(t=this.$attr("alt"))?t:""},d.$$arity=0),t.def(m,"$reftext?",p=function(){var t,e,r=this;return s(t=r.text)?s(e=r.type["$=="]("ref"))?e:r.type["$=="]("bibref"):t},p.$$arity=0),t.def(m,"$reftext",f=function(){var t;return s(t=this.text)?this.$apply_reftext_subs(t):r},f.$$arity=0),t.def(m,"$xreftext",h=function(t){return null==t&&(t=r),this.$reftext()},h.$$arity=-1)}(c[0],n(c,"AbstractNode"),c)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.klass,o=t.hash2,a=t.send,s=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$nil_or_empty?","$apply_subs","$attr_writer","$empty?","$===","$[]","$outline?","$!","$simple?","$source","$shift","$context","$parent"]),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,n,$){var l,c,u,_,d=i(e,n,"List");[d].concat($);d.$$prototype.context=d.$$prototype.document=d.$$prototype.style=r,t.alias(d,"items","blocks"),t.alias(d,"content","blocks"),t.alias(d,"items?","blocks?"),t.def(d,"$initialize",l=function(e,n,$){var i=l.$$p,s=this,c=r,u=r,_=r;for(i&&(l.$$p=null),u=0,_=arguments.length,c=new Array(_);u<_;u++)c[u]=arguments[u];return null==$&&($=o([],{})),a(s,t.find_super_dispatcher(s,"initialize",l,!1),c,i)},l.$$arity=-3),t.def(d,"$outline?",c=function(){var t;return s(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},c.$$arity=0),t.def(d,"$convert",u=function(){var e=u.$$p,n=this,$=r,i=r,o=r,s=r;for(e&&(u.$$p=null),o=0,s=arguments.length,i=new Array(s);o<s;o++)i[o]=arguments[o];return n.context["$=="]("colist")?($=a(n,t.find_super_dispatcher(n,"convert",u,!1),i,e),n.document.$callouts().$next_list(),$):a(n,t.find_super_dispatcher(n,"convert",u,!1),i,e)},u.$$arity=0),t.alias(d,"render","convert"),t.def(d,"$to_s",_=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", style: "+t.style.$inspect()+", items: "+t.$items().$size()+"}>"},_.$$arity=0)}(c[0],n(c,"AbstractBlock"),c),function(e,$,o){var l,c,u,_,d,p,f,h=i(e,$,"ListItem"),m=[h].concat(o);h.$$prototype.text=h.$$prototype.subs=h.$$prototype.blocks=r,t.alias(h,"list","parent"),h.$attr_accessor("marker"),t.def(h,"$initialize",l=function(e,$){var i=this;return l.$$p&&(l.$$p=null),null==$&&($=r),a(i,t.find_super_dispatcher(i,"initialize",l,!1),[e,"list_item"],null),i.text=$,i.level=e.$level(),i.subs=n(m,"NORMAL_SUBS").$drop(0)},l.$$arity=-2),t.def(h,"$text?",c=function(){return!s(this.text["$nil_or_empty?"]())},c.$$arity=0),t.def(h,"$text",u=function(){var t,e=this;return s(t=e.text)?e.$apply_subs(e.text,e.subs):t},u.$$arity=0),h.$attr_writer("text"),t.def(h,"$simple?",_=function(){var t,e,$=this,i=r;return s(t=$.blocks["$empty?"]())?t:s(e=$.blocks.$size()["$=="](1)?n(m,"List")["$==="](i=$.blocks["$[]"](0)):$.blocks.$size()["$=="](1))?i["$outline?"]():e},_.$$arity=0),t.def(h,"$compound?",d=function(){return this["$simple?"]()["$!"]()},d.$$arity=0),t.def(h,"$fold_first",p=function(){var t=this;return t.text=s(t.text["$nil_or_empty?"]())?t.blocks.$shift().$source():""+t.text+n(m,"LF")+t.blocks.$shift().$source(),r},p.$$arity=0),t.def(h,"$to_s",f=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {list_context: "+e.$parent().$context().$inspect()+", text: "+e.text.$inspect()+", blocks: "+(s(t=e.blocks)?t:[]).$size()+"}>"},f.$$arity=0)}(c[0],n(c,"AbstractBlock"),c)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,_=t.send,d=t.truthy,p=t.hash2,f=t.gvars;return t.add_stubs(["$include","$new","$proc","$start_with?","$match?","$is_delimited_block?","$private_class_method","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$skip_blank_lines","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$[]=","$-","$finalize_header","$nil_or_empty?","$title=","$sourcemap","$cursor","$parse_section_title","$id=","$include?","$sub_specialchars","$sub_attributes","$source_location=","$header","$attribute_locked?","$id","$clear","$delete","$instance_variable_get","$parse_header_metadata","$==","$!","$register","$process_authors","$update","$doctype","$parse_manpage_header","$=~","$downcase","$error","$logger","$message_with_context","$cursor_at_line","$backend","$save","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$lstrip","$split","$title","$restore_save","$discard_save","$context","$empty?","$header?","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$<","$>","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$source_location","$merge","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$debug?","$debug","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$uniform?","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$each","$raise","$title?","$update_attributes","$commit_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$advance","$dup","$match","$callout_ids","$next_list","$catalog_inline_anchor","$marker=","$catalog_inline_biblio_anchor","$set_option","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$concat","$find","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$peek_lines","$setext_section_title?","$abs","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$apply_header_subs","$rstrip","$each_with_index","$compact","$to_h","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$pre_match","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$partition","$shorthand_property_syntax","$each_char","$yield_buffered_attribute","$any?","$*","$each_byte","$%"]),function(o,h){var m=[c(o,"Asciidoctor")].concat(h);!function(o,c,h){var m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt=u(o,null,"Parser"),ct=[lt].concat(h);lt.$include(l(ct,"Logging")),t.const_set(ct[0],"BlockMatchData",l(ct,"Struct").$new("context","masq","tip","terminator")),t.const_set(ct[0],"TAB","\t"),t.const_set(ct[0],"TabIndentRx",/^\t+/),t.const_set(ct[0],"StartOfBlockProc",_(lt,"proc",[],(m=function(t){var e,r,n=m.$$s||this;return null==t&&(t=a),d(e=d(r=t["$start_with?"]("["))?l(ct,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)},m.$$s=lt,m.$$arity=1,m))),t.const_set(ct[0],"StartOfListProc",_(lt,"proc",[],((y=function(t){return y.$$s,null==t&&(t=a),l(ct,"AnyListRx")["$match?"](t)}).$$s=lt,y.$$arity=1,y))),t.const_set(ct[0],"StartOfBlockOrListProc",_(lt,"proc",[],(g=function(t){var e,r,n,$=g.$$s||this;return null==t&&(t=a),d(e=d(r=$["$is_delimited_block?"](t))?r:d(n=t["$start_with?"]("["))?l(ct,"BlockAttributeLineRx")["$match?"](t):n)?e:l(ct,"AnyListRx")["$match?"](t)},g.$$s=lt,g.$$arity=1,g))),t.const_set(ct[0],"NoOp",a),t.const_set(ct[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),t.const_set(ct[0],"TableCellHorzAlignments",p(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(ct[0],"TableCellVertAlignments",p(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(ct[0],"TableCellStyles",p(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),lt.$private_class_method("new"),t.defs(lt,"$parse",v=function(e,r,n){var $,i,o,s=a,l=a;if(null==n&&(n=p([],{})),s=this.$parse_document_header(e,r,o=n["$[]"]("header_only")),d(o));else for(;d(e["$has_more_lines?"]());)i=this.$next_section(e,r,s),l=null==($=t.to_ary(i))[0]?a:$[0],s=null==$[1]?a:$[1],d(l)&&(r.$assign_numeral(l),r.$blocks()["$<<"](l));return r},v.$$arity=-3),t.defs(lt,"$parse_document_header",b=function(r,n,$){var i,o,s,c=this,u=a,f=a,h=a,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a;return null==$&&($=!1),u=d(r.$skip_blank_lines())?c.$parse_block_metadata_lines(r,n):p([],{}),f=n.$attributes(),d(d(i=s=c["$is_next_line_doctitle?"](r,u,f["$[]"]("leveloffset")))?u["$[]"]("title"):i)?(h=["authorcount",0],_(f,"[]=",t.to_a(h)),h[e(h.length,1)],n.$finalize_header(u,!1)):(d((m=f["$[]"]("doctitle"))["$nil_or_empty?"]())||(h=[y=m],_(n,"title=",t.to_a(h)),h[e(h.length,1)]),d(s)?(d(n.$sourcemap())&&(g=r.$cursor()),o=c.$parse_section_title(r,n),i=t.to_ary(o),n["$id="](null==i[0]?a:i[0]),null==i[1]?a:i[1],v=null==i[2]?a:i[2],null==i[3]?a:i[3],b=null==i[4]?a:i[4],d(y)?v=a:(h=[v],_(n,"title=",t.to_a(h)),h[e(h.length,1)],d((h=["doctitle",y=n.$sub_specialchars(v)],_(f,"[]=",t.to_a(h)),h[e(h.length,1)])["$include?"](l(ct,"ATTR_REF_HEAD")))&&(h=["doctitle",y=n.$sub_attributes(y,p(["attribute_missing"],{attribute_missing:"skip"}))],_(f,"[]=",t.to_a(h)),h[e(h.length,1)])),d(g)&&(h=[g],_(n.$header(),"source_location=",t.to_a(h)),h[e(h.length,1)]),d(d(i=b)?i:n["$attribute_locked?"]("compat-mode"))||(h=["compat-mode",""],_(f,"[]=",t.to_a(h)),h[e(h.length,1)]),d(x=u["$[]"]("separator"))&&(d(n["$attribute_locked?"]("title-separator"))||(h=["title-separator",x],_(f,"[]=",t.to_a(h)),h[e(h.length,1)])),d(k=u["$[]"]("id"))?(h=[k],_(n,"id=",t.to_a(h)),h[e(h.length,1)]):k=n.$id(),d(w=u["$[]"]("role"))&&(h=["role",w],_(f,"[]=",t.to_a(h)),h[e(h.length,1)]),d(E=u["$[]"]("reftext"))&&(h=["reftext",E],_(f,"[]=",t.to_a(h)),h[e(h.length,1)]),u.$clear(),(A=n.$instance_variable_get("@attributes_modified")).$delete("doctitle"),c.$parse_header_metadata(r,n,a),d(A["$include?"]("doctitle"))?d(d(i=(m=f["$[]"]("doctitle"))["$nil_or_empty?"]())?i:m["$=="](y))?(h=["doctitle",y],_(f,"[]=",t.to_a(h)),h[e(h.length,1)]):(h=[m],_(n,"title=",t.to_a(h)),h[e(h.length,1)]):d(v["$!"]())&&A["$<<"]("doctitle"),d(k)&&n.$register("refs",[k,n])):d(O=f["$[]"]("author"))?(S=c.$process_authors(O,!0,!1),d(f["$[]"]("authorinitials"))&&S.$delete("authorinitials"),f.$update(S)):d(O=f["$[]"]("authors"))?(S=c.$process_authors(O,!0),f.$update(S)):(h=["authorcount",0],_(f,"[]=",t.to_a(h)),h[e(h.length,1)]),n.$doctype()["$=="]("manpage")&&c.$parse_manpage_header(r,n,u,$),n.$finalize_header(u))},b.$$arity=-3),t.defs(lt,"$parse_manpage_header",x=function(r,n,$,i){var o,s,c,u,h=this,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a;return null==i&&(i=!1),d(l(ct,"ManpageTitleVolnumRx")["$=~"]((m=n.$attributes())["$[]"]("doctitle")))?(y=["manvolnum",g=(o=f["~"])===a?a:o["$[]"](2)],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["mantitle",(d((v=(o=f["~"])===a?a:o["$[]"](1))["$include?"](l(ct,"ATTR_REF_HEAD")))?n.$sub_attributes(v):v).$downcase()],_(m,"[]=",t.to_a(y)),y[e(y.length,1)]):(h.$logger().$error(h.$message_with_context("non-conforming manpage title",p(["source_location"],{source_location:r.$cursor_at_line(1)}))),y=["mantitle",d(o=d(s=m["$[]"]("doctitle"))?s:m["$[]"]("docname"))?o:"command"],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["manvolnum",g="1"],_(m,"[]=",t.to_a(y)),y[e(y.length,1)]),d(d(o=b=m["$[]"]("manname"))?m["$[]"]("manpurpose"):o)?(d(o=m["$[]"]("manname-title"))||(y=["manname-title","Name"],_(m,"[]=",t.to_a(y)),y[e(y.length,1)]),y=["mannames",[b]],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],n.$backend()["$=="]("manpage")&&(y=["docname",b],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["outfilesuffix","."+g],_(m,"[]=",t.to_a(y)),y[e(y.length,1)])):d(i)||(r.$skip_blank_lines(),r.$save(),$.$update(h.$parse_block_metadata_lines(r,n)),d(x=h["$is_next_line_section?"](r,p([],{})))?x["$=="](1)?(k=h.$initialize_section(r,n,p([],{})),w=_(r.$read_lines_until(p(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(c=function(t){return c.$$s,null==t&&(t=a),t.$lstrip()},c.$$s=h,c.$$arity=1,c)).$join(" "),d(l(ct,"ManpageNamePurposeRx")["$=~"](w))?(d((b=(o=f["~"])===a?a:o["$[]"](1))["$include?"](l(ct,"ATTR_REF_HEAD")))&&(b=n.$sub_attributes(b)),d(b["$include?"](","))?b=(E=_(b.$split(","),"map",[],(u=function(t){return u.$$s,null==t&&(t=a),t.$lstrip()},u.$$s=h,u.$$arity=1,u)))["$[]"](0):E=[b],d((A=(o=f["~"])===a?a:o["$[]"](2))["$include?"](l(ct,"ATTR_REF_HEAD")))&&(A=n.$sub_attributes(A)),d(o=m["$[]"]("manname-title"))||(y=["manname-title",k.$title()],_(m,"[]=",t.to_a(y)),y[e(y.length,1)]),d(k.$id())&&(y=["manname-id",k.$id()],_(m,"[]=",t.to_a(y)),y[e(y.length,1)]),y=["manname",b],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["mannames",E],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["manpurpose",A],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],n.$backend()["$=="]("manpage")&&(y=["docname",b],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["outfilesuffix","."+g],_(m,"[]=",t.to_a(y)),y[e(y.length,1)])):O="non-conforming name section body"):O="name section must be at level 1":O="name section expected",d(O)?(r.$restore_save(),h.$logger().$error(h.$message_with_context(O,p(["source_location"],{source_location:r.$cursor()}))),y=["manname",b=d(o=m["$[]"]("docname"))?o:"command"],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["mannames",[b]],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],n.$backend()["$=="]("manpage")&&(y=["docname",b],_(m,"[]=",t.to_a(y)),y[e(y.length,1)],y=["outfilesuffix","."+g],_(m,"[]=",t.to_a(y)),y[e(y.length,1)])):r.$discard_save()),a},x.$$arity=-4),t.defs(lt,"$next_section",k=function(i,o,s){var c,u,f,h,m=this,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a,D=a,z=a;for(null==s&&(s=p([],{})),y=g=v=!1,d(d(c=(u=o.$context()["$=="]("document"))?o.$blocks()["$empty?"]():o.$context()["$=="]("document"))?d(u=d(f=b=o["$header?"]())?f:s.$delete("invalid-header"))?u:m["$is_next_line_section?"](i,s)["$!"]():c)?(x=(k=o).$doctype()["$=="]("book"),d(d(c=b)?c:d(u=x)?s["$[]"](1)["$!="]("abstract"):u)&&(y=g=l(ct,"Block").$new(o,"preamble",p(["content_model"],{content_model:"compound"})),d(d(c=x)?o["$attr?"]("preface-title"):c)&&(w=[o.$attr("preface-title")],_(y,"title=",t.to_a(w)),w[e(w.length,1)]),o.$blocks()["$<<"](y)),E=o,A=0,d(o.$attributes()["$key?"]("fragment"))?O=-1:d(x)?(O=(c=[1,0])[0],S=c[1]):O=1):(x=(k=o.$document()).$doctype()["$=="]("book"),E=m.$initialize_section(i,o,s),s=d(R=s["$[]"]("title"))?p(["title"],{title:R}):p([],{}),O=r(A=E.$level(),1),A["$=="](0)?v=x:d((c=A["$=="](1))?E.$special():A["$=="](1))&&(d(d(c=d(u=(C=E.$sectname())["$=="]("appendix"))?u:C["$=="]("preface"))?c:C["$=="]("abstract"))||(O=a))),i.$skip_blank_lines();d(i["$has_more_lines?"]());){if(m.$parse_block_metadata_lines(i,k,s),d(I=m["$is_next_line_section?"](i,s)))if(d(k["$attr?"]("leveloffset"))&&(I=r(I,k.$attr("leveloffset").$to_i()),d(n(I,0))&&(I=0)),d($(I,A)))d(O)?d(d(u=d(f=I["$=="](O))?f:d(h=S)?I["$=="](S):h)?u:n(O,0))||(T=d(S)?"expected levels "+S+" or "+O:"expected level "+O,m.$logger().$warn(m.$message_with_context("section title out of sequence: "+T+", got level "+I,p(["source_location"],{source_location:i.$cursor()})))):m.$logger().$error(m.$message_with_context(C+" sections do not support nested sections",p(["source_location"],{source_location:i.$cursor()}))),f=m.$next_section(i,E,s),L=null==(u=t.to_ary(f))[0]?a:u[0],s=null==u[1]?a:u[1],E.$assign_numeral(L),E.$blocks()["$<<"](L);else{if(!d((u=I["$=="](0))?E["$=="](k):I["$=="](0)))break;d(x)||m.$logger().$error(m.$message_with_context("level 0 sections can only be used when doctype is book",p(["source_location"],{source_location:i.$cursor()}))),f=m.$next_section(i,E,s),L=null==(u=t.to_ary(f))[0]?a:u[0],s=null==u[1]?a:u[1],E.$assign_numeral(L),E.$blocks()["$<<"](L)}else N=i.$cursor(),d(F=m.$next_block(i,d(u=g)?u:E,s,p(["parse_metadata"],{parse_metadata:!1})))&&(d(v)&&(d(E["$blocks?"]()["$!"]())?d(F.$style()["$!="]("partintro"))&&(F.$context()["$=="]("paragraph")?(w=["open"],_(F,"context=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],_(F,"style=",t.to_a(w)),w[e(w.length,1)]):(w=[g=l(ct,"Block").$new(E,"open",p(["content_model"],{content_model:"compound"}))],_(F,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],_(g,"style=",t.to_a(w)),w[e(w.length,1)],E.$blocks()["$<<"](g))):E.$blocks().$size()["$=="](1)&&(D=E.$blocks()["$[]"](0),d(d(u=g["$!"]())?D.$content_model()["$=="]("compound"):u)?m.$logger().$error(m.$message_with_context("illegal block content outside of partintro block",p(["source_location"],{source_location:N}))):d(D.$content_model()["$!="]("compound"))&&(w=[g=l(ct,"Block").$new(E,"open",p(["content_model"],{content_model:"compound"}))],_(F,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],_(g,"style=",t.to_a(w)),w[e(w.length,1)],E.$blocks().$shift(),D.$style()["$=="]("partintro")&&(w=["paragraph"],_(D,"context=",t.to_a(w)),w[e(w.length,1)],w=[a],_(D,"style=",t.to_a(w)),w[e(w.length,1)]),g["$<<"](D),E.$blocks()["$<<"](g)))),(d(u=g)?u:E).$blocks()["$<<"](F),s.$clear());if(!d(u=i.$skip_blank_lines()))break}if(d(v))d(d(c=E["$blocks?"]())?E.$blocks()["$[]"](-1).$context()["$=="]("section"):c)||m.$logger().$error(m.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",p(["source_location"],{source_location:i.$cursor()})));else if(d(y))if(d(y["$blocks?"]()))if(d(d(c=d(u=x)?u:k.$blocks()["$[]"](1))?c:l(ct,"Compliance").$unwrap_standalone_preamble()["$!"]()))d(k.$sourcemap())&&(w=[y.$blocks()["$[]"](0).$source_location()],_(y,"source_location=",t.to_a(w)),w[e(w.length,1)]);else for(k.$blocks().$shift();d(z=y.$blocks().$shift());)k["$<<"](z);else k.$blocks().$shift();return[E["$=="](o)?a:E,s.$merge()]},k.$$arity=-3),t.defs(lt,"$next_block",w=function(i,o,s,c){try{var u,h,m,y,g,v,b,x,k=this,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a,D=a,z=a,B=a,M=a,j=a,q=a,P=a,U=a,H=a,Y=a,G=a,W=a,X=a,K=a,V=a,J=a,Z=a,Q=a,tt=a,et=a,rt=a,nt=a,$t=a,it=a,ot=a,at=a,st=a,lt=a,ut=a,_t=a,dt=a,pt=a,ft=a,ht=a,mt=a,yt=a;if(null==f["~"]&&(f["~"]=a),null==s&&(s=p([],{})),null==c&&(c=p([],{})),!d(w=i.$skip_blank_lines()))return a;if(d(d(u=E=c["$[]"]("text_only"))?$(w,0):u)&&(c.$delete("text_only"),E=a),A=o.$document(),d(c.$fetch("parse_metadata",!0)))for(;d(k.$parse_block_metadata_line(i,A,s,c));)i.$shift(),d(h=i.$skip_blank_lines())||t.ret(a);if(d(O=A.$extensions())&&(S=(u=[O["$blocks?"](),O["$block_macros?"]()])[0],R=u[1]),i.$mark(),u=[i.$read_line(),A.$attributes(),s["$[]"](1)],C=u[0],I=u[1],T=u[2],L=N=F=D=a,d(z=k["$is_delimited_block?"](C,!0))&&(N=F=z.$context(),D=z.$terminator(),d(T)?T["$=="](N.$to_s())||(d(z.$masq()["$include?"](T))?N=T.$to_sym():d(d(u=z.$masq()["$include?"]("admonition"))?l(ct,"ADMONITION_STYLES")["$include?"](T):u)?N="admonition":d(d(u=S)?O["$registered_for_block?"](T,N):u)?N=T.$to_sym():(d(k.$logger()["$debug?"]())&&k.$logger().$debug(k.$message_with_context("unknown style for "+N+" block: "+T,p(["source_location"],{source_location:i.$cursor_at_mark()}))),T=N.$to_s())):(B=["style",N.$to_s()],_(s,"[]=",t.to_a(B)),T=B[e(B.length,1)])),d(z));else for(;d(!0);){if(d(d(h=d(m=T)?l(ct,"Compliance").$strict_verbatim_paragraphs():m)?l(ct,"VERBATIM_STYLES")["$include?"](T):h)){N=T.$to_sym(),i.$unshift_line(C);break}if(d(E))M=C["$start_with?"](" ",l(ct,"TAB"));else if(j=l(ct,"Compliance").$markdown_syntax(),d(C["$start_with?"](" "))){if(M=(h=[!0," "])[0],q=h[1],d(d(h=d(m=j)?_(C.$lstrip(),"start_with?",t.to_a(l(ct,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):m)?l(ct,"MarkdownThematicBreakRx")["$match?"](C):h)){L=l(ct,"Block").$new(o,"thematic_break",p(["content_model"],{content_model:"empty"}));break}}else if(d(C["$start_with?"](l(ct,"TAB"))))h=[!0,l(ct,"TAB")],M=h[0],q=h[1];else{if(h=[!1,C.$chr()],M=h[0],q=h[1],P=d(j)?l(ct,"HYBRID_LAYOUT_BREAK_CHARS"):l(ct,"LAYOUT_BREAK_CHARS"),d(d(h=P["$key?"](q))?d(j)?l(ct,"ExtLayoutBreakRx")["$match?"](C):d(m=k["$uniform?"](C,q,U=C.$length()))?$(U,2):m:h)){L=l(ct,"Block").$new(o,P["$[]"](q),p(["content_model"],{content_model:"empty"}));break}if(d(d(h=C["$end_with?"]("]"))?C["$include?"]("::"):h)){if(d(d(h=d(m=q["$=="]("i"))?m:C["$start_with?"]("video:","audio:"))?l(ct,"BlockMediaMacroRx")["$=~"](C):h)){if(H=(h=[((m=f["~"])===a?a:m["$[]"](1)).$to_sym(),(m=f["~"])===a?a:m["$[]"](2),(m=f["~"])===a?a:m["$[]"](3)])[0],Y=h[1],G=h[2],L=l(ct,"Block").$new(o,H,p(["content_model"],{content_model:"empty"})),d(G)&&(X="video"["$==="](W=H)?["poster","width","height"]:"audio"["$==="](W)?[]:["alt","width","height"],L.$parse_attributes(G,X,p(["sub_input","into"],{sub_input:!0,into:s}))),d(s["$key?"]("style"))&&s.$delete("style"),d(Y["$include?"](l(ct,"ATTR_REF_HEAD")))){if(d(d(h=d(m=(K=L.$sub_attributes(Y))["$empty?"]())?(d(y=I["$[]"]("attribute-missing"))?y:l(ct,"Compliance").$attribute_missing())["$=="]("drop-line"):m)?L.$sub_attributes(r(Y," "),p(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():h))return s.$clear(),a;Y=K}H["$=="]("image")&&(A.$register("images",Y),B=["imagesdir",I["$[]"]("imagesdir")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],d(h=s["$[]"]("alt"))||(B=["alt",d(m=T)?m:(B=["default-alt",l(ct,"Helpers").$basename(Y,!0).$tr("_-"," ")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)])],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d((V=s.$delete("scaledwidth"))["$nil_or_empty?"]())||(B=["scaledwidth",d(l(ct,"TrailingDigitsRx")["$match?"](V))?V+"%":V],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(s["$[]"]("title"))&&(B=[J=s.$delete("title")],_(L,"title=",t.to_a(B)),B[e(B.length,1)],L.$assign_caption(s.$delete("caption"),"figure"))),B=["target",Y],_(s,"[]=",t.to_a(B)),B[e(B.length,1)];break}if(d(d(h=(m=q["$=="]("t"))?C["$start_with?"]("toc:"):q["$=="]("t"))?l(ct,"BlockTocMacroRx")["$=~"](C):h)){L=l(ct,"Block").$new(o,"toc",p(["content_model"],{content_model:"empty"})),d((h=f["~"])===a?a:h["$[]"](1))&&L.$parse_attributes((h=f["~"])===a?a:h["$[]"](1),[],p(["into"],{into:s}));break}if(d(d(R)?d(h=d(m=l(ct,"CustomBlockMacroRx")["$=~"](C))?Z=O["$registered_for_block_macro?"]((y=f["~"])===a?a:y["$[]"](1)):m)?h:Q=k.$logger()["$debug?"]():d(h=k.$logger()["$debug?"]())?Q=l(ct,"CustomBlockMacroRx")["$=~"](C):h)){if(!d(Q)){if(tt=(h=f["~"])===a?a:h["$[]"](3),d((Y=(h=f["~"])===a?a:h["$[]"](2))["$include?"](l(ct,"ATTR_REF_HEAD")))){if(d(d(h=d(m=(K=o.$sub_attributes(Y))["$empty?"]())?(d(y=I["$[]"]("attribute-missing"))?y:l(ct,"Compliance").$attribute_missing())["$=="]("drop-line"):m)?o.$sub_attributes(r(Y," "),p(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():h))return s.$clear(),a;Y=K}if((et=Z.$config())["$[]"]("content_model")["$=="]("attributes")?d(tt)&&A.$parse_attributes(tt,d(h=d(m=et["$[]"]("positional_attrs"))?m:et["$[]"]("pos_attrs"))?h:[],p(["sub_input","into"],{sub_input:!0,into:s})):(B=["text",d(h=tt)?h:""],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(rt=et["$[]"]("default_attrs"))&&_(s,"update",[rt],((g=function(t,e){return g.$$s,null==t&&(t=a),null==e&&(e=a),e}).$$s=k,g.$$arity=2,g)),d(d(h=L=Z.$process_method()["$[]"](o,Y,s))?L["$!="](o):h)){s.$replace(L.$attributes());break}return s.$clear(),a}k.$logger().$debug(k.$message_with_context("unknown name for block macro: "+((h=f["~"])===a?a:h["$[]"](1)),p(["source_location"],{source_location:i.$cursor_at_mark()})))}}}if(d(d(h=d(m=M["$!"]())?(q=d(y=q)?y:C.$chr())["$=="]("<"):m)?l(ct,"CalloutListRx")["$=~"](C):h)){i.$unshift_line(C),L=k.$parse_callout_list(i,f["~"],o,A.$callouts()),B=["style","arabic"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)];break}if(d(l(ct,"UnorderedListRx")["$match?"](C))){i.$unshift_line(C),d(d(h=d(m=T["$!"]())?l(ct,"Section")["$==="](o):m)?o.$sectname()["$=="]("bibliography"):h)&&(B=["style",T="bibliography"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),L=k.$parse_list(i,"ulist",o,T);break}if(d(l(ct,"OrderedListRx")["$match?"](C))){i.$unshift_line(C),L=k.$parse_list(i,"olist",o,T),d(L.$style())&&(B=["style",L.$style()],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]);break}if(d(d(h=d(m=C["$include?"]("::"))?m:C["$include?"](";;"))?l(ct,"DescriptionListRx")["$=~"](C):h)){i.$unshift_line(C),L=k.$parse_description_list(i,f["~"],o);break}if(d(d(h=d(m=T["$=="]("float"))?m:T["$=="]("discrete"))?d(l(ct,"Compliance").$underline_style_section_titles())?k["$is_section_title?"](C,i.$peek_line()):d(m=M["$!"]())?k["$atx_section_title?"](C):m:h)){i.$unshift_line(C),m=k.$parse_section_title(i,A,s["$[]"]("id")),nt=null==(h=t.to_ary(m))[0]?a:h[0],$t=null==h[1]?a:h[1],J=null==h[2]?a:h[2],it=null==h[3]?a:h[3],d($t)&&(B=["reftext",$t],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),L=l(ct,"Block").$new(o,"floating_title",p(["content_model"],{content_model:"empty"})),B=[J],_(L,"title=",t.to_a(B)),B[e(B.length,1)],s.$delete("title"),B=[d(h=nt)?h:d(I["$key?"]("sectids"))?l(ct,"Section").$generate_id(L.$title(),A):a],_(L,"id=",t.to_a(B)),B[e(B.length,1)],B=[it],_(L,"level=",t.to_a(B)),B[e(B.length,1)];break}if(d(d(h=T)?T["$!="]("normal"):h)){if(d(l(ct,"PARAGRAPH_STYLES")["$include?"](T))){N=T.$to_sym(),F="paragraph",i.$unshift_line(C);break}if(d(l(ct,"ADMONITION_STYLES")["$include?"](T))){N="admonition",F="paragraph",i.$unshift_line(C);break}if(d(d(h=S)?O["$registered_for_block?"](T,"paragraph"):h)){N=T.$to_sym(),F="paragraph",i.$unshift_line(C);break}d(k.$logger()["$debug?"]())&&k.$logger().$debug(k.$message_with_context("unknown style for paragraph: "+T,p(["source_location"],{source_location:i.$cursor_at_mark()}))),T=a}if(i.$unshift_line(C),d(d(h=M)?T["$!"]():h))ot=k.$read_paragraph_lines(i,at=w["$=="](0)?c["$[]"]("list_type"):a,p(["skip_line_comments"],{skip_line_comments:E})),k["$adjust_indentation!"](ot),L=d(d(h=E)?h:at["$=="]("dlist"))?l(ct,"Block").$new(o,"paragraph",p(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:s})):l(ct,"Block").$new(o,"literal",p(["content_model","source","attributes"],{content_model:"verbatim",source:ot,attributes:s}));else{if(ot=k.$read_paragraph_lines(i,(h=w["$=="](0))?c["$[]"]("list_type"):w["$=="](0),p(["skip_line_comments"],{skip_line_comments:!0})),d(E))d(d(h=M)?T["$=="]("normal"):h)&&k["$adjust_indentation!"](ot),L=l(ct,"Block").$new(o,"paragraph",p(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:s}));else if(d(d(h=d(m=l(ct,"ADMONITION_STYLE_HEADS")["$include?"](q))?C["$include?"](":"):m)?l(ct,"AdmonitionParagraphRx")["$=~"](C):h))B=[0,(h=f["~"])===a?a:h.$post_match()],_(ot,"[]=",t.to_a(B)),B[e(B.length,1)],B=["name",st=(B=["style",(h=f["~"])===a?a:h["$[]"](1)],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]).$downcase()],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],B=["textlabel",d(h=s.$delete("caption"))?h:I["$[]"](st+"-caption")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],L=l(ct,"Block").$new(o,"admonition",p(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:s}));else if(d(d(h=d(m=j)?q["$=="](">"):m)?C["$start_with?"]("> "):h)){if(_(ot,"map!",[],((v=function(t){return v.$$s,null==t&&(t=a),t["$=="](">")?t.$slice(1,t.$length()):d(t["$start_with?"]("> "))?t.$slice(2,t.$length()):t}).$$s=k,v.$$arity=1,v)),d(ot["$[]"](-1)["$start_with?"]("-- ")))if(lt=(lt=ot.$pop()).$slice(3,lt.$length()),d(ot["$empty?"]()));else for(;d(ot["$[]"](-1)["$empty?"]());)ot.$pop();B=["style","quote"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],L=k.$build_block("quote","compound",!1,o,l(ct,"Reader").$new(ot),s),d(lt)&&(m=L.$apply_subs(lt).$split(", ",2),ut=null==(h=t.to_ary(m))[0]?a:h[0],_t=null==h[1]?a:h[1],d(ut)&&(B=["attribution",ut],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(_t)&&(B=["citetitle",_t],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]))}else if(d(d(h=d(m=(y=q["$=="]('"'))?$(ot.$size(),1):q["$=="]('"'))?ot["$[]"](-1)["$start_with?"]("-- "):m)?ot["$[]"](-2)["$end_with?"]('"'):h)){for(B=[0,C.$slice(1,C.$length())],_(ot,"[]=",t.to_a(B)),B[e(B.length,1)],lt=(lt=ot.$pop()).$slice(3,lt.$length());d(ot["$[]"](-1)["$empty?"]());)ot.$pop();ot["$<<"](ot.$pop().$chop()),B=["style","quote"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],L=l(ct,"Block").$new(o,"quote",p(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:s})),m=L.$apply_subs(lt).$split(", ",2),ut=null==(h=t.to_ary(m))[0]?a:h[0],_t=null==h[1]?a:h[1],d(ut)&&(B=["attribution",ut],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(_t)&&(B=["citetitle",_t],_(s,"[]=",t.to_a(B)),B[e(B.length,1)])}else d(d(h=M)?T["$=="]("normal"):h)&&k["$adjust_indentation!"](ot),L=l(ct,"Block").$new(o,"paragraph",p(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:s}));k.$catalog_inline_anchors(ot.$join(l(ct,"LF")),L,A,i)}break}if(d(L));else if("listing"["$==="](W=N)||"source"["$==="](W))d(d(u=N["$=="]("source"))?u:d(h=s["$[]"](1)["$!"]())?dt=d(m=s["$[]"](2))?m:I["$[]"]("source-language"):h)&&(d(dt)?(B=["style","source"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],B=["language",dt],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],l(ct,"AttributeList").$rekey(s,[a,a,"linenums"])):(l(ct,"AttributeList").$rekey(s,[a,"language","linenums"]),d(s["$key?"]("language"))||d(I["$key?"]("source-language"))&&(B=["language",I["$[]"]("source-language")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)])),d(s["$key?"]("linenums"))||d(d(u=s["$[]"]("linenums-option"))?u:I["$[]"]("source-linenums-option"))&&(B=["linenums",""],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(s["$key?"]("indent"))||d(I["$key?"]("source-indent"))&&(B=["indent",I["$[]"]("source-indent")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)])),L=k.$build_block("listing","verbatim",D,o,i,s);else if("fenced_code"["$==="](W))B=["style","source"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],d($(U=C.$length(),3))&&(d(pt=(dt=C.$slice(3,U)).$index(","))?d($(pt,0))?(dt=dt.$slice(0,pt).$strip(),d(n(pt,e(U,4)))&&(B=["linenums",""],_(s,"[]=",t.to_a(B)),B[e(B.length,1)])):d($(U,4))&&(B=["linenums",""],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]):dt=dt.$lstrip()),d(dt["$nil_or_empty?"]())?d(I["$key?"]("source-language"))&&(B=["language",I["$[]"]("source-language")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]):(B=["language",dt],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(s["$key?"]("linenums"))||d(d(u=s["$[]"]("linenums-option"))?u:I["$[]"]("source-linenums-option"))&&(B=["linenums",""],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),d(s["$key?"]("indent"))||d(I["$key?"]("source-indent"))&&(B=["indent",I["$[]"]("source-indent")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),D=D.$slice(0,3),L=k.$build_block("listing","verbatim",D,o,i,s);else if("table"["$==="](W))ft=i.$cursor(),ht=l(ct,"Reader").$new(i.$read_lines_until(p(["terminator","skip_line_comments","context","cursor"],{terminator:D,skip_line_comments:!0,context:"table",cursor:"at_mark"})),ft),d(D["$start_with?"]("|","!"))||d(u=s["$[]"]("format"))||(B=["format",d(D["$start_with?"](","))?"csv":"dsv"],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),L=k.$parse_table(ht,o,s);else if("sidebar"["$==="](W))L=k.$build_block(N,"compound",D,o,i,s);else if("admonition"["$==="](W))B=["name",st=T.$downcase()],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],B=["textlabel",d(u=s.$delete("caption"))?u:I["$[]"](st+"-caption")],_(s,"[]=",t.to_a(B)),B[e(B.length,1)],L=k.$build_block(N,"compound",D,o,i,s);else if("open"["$==="](W)||"abstract"["$==="](W)||"partintro"["$==="](W))L=k.$build_block("open","compound",D,o,i,s);else if("literal"["$==="](W))L=k.$build_block(N,"verbatim",D,o,i,s);else if("example"["$==="](W))d(s["$[]"]("collapsible-option"))&&(B=["caption",""],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),L=k.$build_block(N,"compound",D,o,i,s);else if("quote"["$==="](W)||"verse"["$==="](W))l(ct,"AttributeList").$rekey(s,[a,"attribution","citetitle"]),L=k.$build_block(N,N["$=="]("verse")?"verbatim":"compound",D,o,i,s);else if("stem"["$==="](W)||"latexmath"["$==="](W)||"asciimath"["$==="](W))N["$=="]("stem")&&(B=["style",l(ct,"STEM_TYPE_ALIASES")["$[]"](d(u=s["$[]"](2))?u:I["$[]"]("stem"))],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),L=k.$build_block("stem","raw",D,o,i,s);else if("pass"["$==="](W))L=k.$build_block(N,"raw",D,o,i,s);else{if("comment"["$==="](W))return k.$build_block(N,"skip",D,o,i,s),s.$clear(),a;if(d(d(u=S)?Z=O["$registered_for_block?"](N,F):u)){if((mt=(et=Z.$config())["$[]"]("content_model"))["$=="]("skip")||(d((yt=d(u=et["$[]"]("positional_attrs"))?u:et["$[]"]("pos_attrs"))["$nil_or_empty?"]())||l(ct,"AttributeList").$rekey(s,r([a],yt)),d(rt=et["$[]"]("default_attrs"))&&_(rt,"each",[],((b=function(r,n){var $;b.$$s;return null==r&&(r=a),null==n&&(n=a),d($=s["$[]"](r))?$:(B=[r,n],_(s,"[]=",t.to_a(B)),B[e(B.length,1)])}).$$s=k,b.$$arity=2,b)),B=["cloaked-context",F],_(s,"[]=",t.to_a(B)),B[e(B.length,1)]),!d(L=k.$build_block(N,mt,D,o,i,s,p(["extension"],{extension:Z}))))return s.$clear(),a}else k.$raise("Unsupported block type "+N+" at "+i.$cursor())}return d(A.$sourcemap())&&(B=[i.$cursor_at_mark()],_(L,"source_location=",t.to_a(B)),B[e(B.length,1)]),d(s["$[]"]("title"))&&(B=[J=s.$delete("title")],_(L,"title=",t.to_a(B)),B[e(B.length,1)],d(l(ct,"CAPTION_ATTRIBUTE_NAMES")["$[]"](L.$context()))&&L.$assign_caption(s.$delete("caption"))),B=[s["$[]"]("style")],_(L,"style=",t.to_a(B)),B[e(B.length,1)],d(x=d(u=L.$id())?u:(B=[s["$[]"]("id")],_(L,"id=",t.to_a(B)),B[e(B.length,1)]))&&(d(d(J)?J["$include?"](l(ct,"ATTR_REF_HEAD")):L["$title?"]())&&L.$title(),d(A.$register("refs",[x,L]))||k.$logger().$warn(k.$message_with_context("id assigned to block already in use: "+x,p(["source_location"],{source_location:i.$cursor_at_mark()})))),d(s["$empty?"]())||L.$update_attributes(s),L.$commit_subs(),d(L["$sub?"]("callouts"))&&(d(k.$catalog_callouts(L.$source(),A))||L.$remove_sub("callouts")),L}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=-3),t.defs(lt,"$read_paragraph_lines",E=function(r,n,$){var i=a,o=a;return null==$&&($=p([],{})),i=["break_on_blank_lines",!0],_($,"[]=",t.to_a(i)),i[e(i.length,1)],i=["break_on_list_continuation",!0],_($,"[]=",t.to_a(i)),i[e(i.length,1)],i=["preserve_last_line",!0],_($,"[]=",t.to_a(i)),i[e(i.length,1)],o=d(n)?d(l(ct,"Compliance").$block_terminates_paragraph())?l(ct,"StartOfBlockOrListProc"):l(ct,"StartOfListProc"):d(l(ct,"Compliance").$block_terminates_paragraph())?l(ct,"StartOfBlockProc"):l(ct,"NoOp"),_(r,"read_lines_until",[$],o.$to_proc())},E.$$arity=-3),t.defs(lt,"$is_delimited_block?",A=function(r,i){var o,s,c,u,_=a,p=a,f=a;if(null==i&&(i=a),!d(d(o=$(_=r.$length(),1))?l(ct,"DELIMITED_BLOCK_HEADS")["$[]"](r.$slice(0,2)):o))return a;if(_["$=="](2))p=r,f=2;else if(d(n(_,5))?(p=r,f=_):p=r.$slice(0,f=4),d(d(o=l(ct,"Compliance").$markdown_syntax())?p["$start_with?"]("`"):o)){if(f["$=="](4)){if(d(d(o=p["$=="]("````"))?o:(p=p.$chop())["$!="]("```")))return a;r=p,_=f=3}else if(d(p["$!="]("```")))return a}else if(f["$=="](3))return a;return s=l(ct,"DELIMITED_BLOCKS")["$[]"](p),c=null==(o=t.to_ary(s))[0]?a:o[0],u=null==o[1]?a:o[1],d(d(o=c)?d(s=_["$=="](f))?s:this["$uniform?"](r.$slice(1,_),l(ct,"DELIMITED_BLOCK_TAILS")["$[]"](p),e(_,1)):o)?!d(i)||l(ct,"BlockMatchData").$new(c,u,p,r):a},A.$$arity=-2),t.defs(lt,"$build_block",O=function(t,e,r,n,i,o,s){var c,u,_=this,f=a,h=a,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a;if(null==s&&(s=p([],{})),"skip"["$==="](f=e)?(h=(c=[!0,"simple"])[0],m=c[1]):"raw"["$==="](f)?(h=(c=[!1,"simple"])[0],m=c[1]):(h=(c=[!1,e])[0],m=c[1]),d(r["$nil?"]())?(m["$=="]("verbatim")?y=i.$read_lines_until(p(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),y=_.$read_paragraph_lines(i,!1,p(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:h}))),g=a):d(m["$!="]("compound"))?(y=i.$read_lines_until(p(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:h,context:t,cursor:"at_mark"})),g=a):r["$=="](!1)?(y=a,g=i):(y=a,v=i.$cursor(),g=l(ct,"Reader").$new(i.$read_lines_until(p(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:h,context:t,cursor:"at_mark"})),v)),"verbatim"["$==="](f=e))b=(d(c=o["$[]"]("tabsize"))?c:n.$document().$attributes()["$[]"]("tabsize")).$to_i(),d(x=o["$[]"]("indent"))?_["$adjust_indentation!"](y,x.$to_i(),b):d($(b,0))&&_["$adjust_indentation!"](y,-1,b);else if("skip"["$==="](f))return a;if(d(k=s["$[]"]("extension"))){if(o.$delete("style"),!d(d(c=w=k.$process_method()["$[]"](n,d(u=g)?u:l(ct,"Reader").$new(y),o.$merge()))?w["$!="](n):c))return a;o.$replace(w.$attributes()),d(d(c=(u=w.$content_model()["$=="]("compound"))?l(ct,"Block")["$==="](w):w.$content_model()["$=="]("compound"))?(y=w.$lines())["$empty?"]()["$!"]():c)&&(e="compound",g=l(ct,"Reader").$new(y))}else w=l(ct,"Block").$new(n,t,p(["content_model","source","attributes"],{content_model:e,source:y,attributes:o}));return e["$=="]("compound")&&_.$parse_blocks(g,w),w},O.$$arity=-7),t.defs(lt,"$parse_blocks",S=function(t,e,r){var n,$,i=a;if(null==r&&(r=a),d(r))for(;d(d(n=d($=i=this.$next_block(t,e,r.$merge()))?e.$blocks()["$<<"](i):$)?n:t["$has_more_lines?"]()););else for(;d(d(n=d($=i=this.$next_block(t,e))?e.$blocks()["$<<"](i):$)?n:t["$has_more_lines?"]()););return a},S.$$arity=-3),t.defs(lt,"$parse_list",R=function(t,e,r,n){var $,i=a,o=a,s=a;for(null==f["~"]&&(f["~"]=a),i=l(ct,"List").$new(r,e),o=l(ct,"ListRxMap")["$[]"](e);d(d($=t["$has_more_lines?"]())?o["$=~"](t.$peek_line()):$)&&(d(s=this.$parse_list_item(t,i,f["~"],($=f["~"])===a?a:$["$[]"](1),n))&&i.$items()["$<<"](s),d($=t.$skip_blank_lines())););return i},R.$$arity=4),t.defs(lt,"$catalog_callouts",C=function(t,e){var n,$=a,i=a;return $=!1,i=0,d(t["$include?"]("<"))&&_(t,"scan",[l(ct,"CalloutScanRx")],((n=function(){var t;n.$$s;return d(((t=f["~"])===a?a:t["$[]"](0))["$start_with?"]("\\"))||e.$callouts().$register(((t=f["~"])===a?a:t["$[]"](2))["$=="](".")?(i=r(i,1)).$to_s():(t=f["~"])===a?a:t["$[]"](2)),$=!0}).$$s=this,n.$$arity=0,n)),$},C.$$arity=2),t.defs(lt,"$catalog_inline_anchor",I=function(t,e,r,n,$){var i;return null==$&&($=r.$document()),d(d(i=e)?e["$include?"](l(ct,"ATTR_REF_HEAD")):i)&&(e=$.$sub_attributes(e)),d($.$register("refs",[t,l(ct,"Inline").$new(r,"anchor",e,p(["type","id"],{type:"ref",id:t}))]))||(d(l(ct,"Reader")["$==="](n))&&(n=n.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+t,p(["source_location"],{source_location:n})))),a},I.$$arity=-5),t.defs(lt,"$catalog_inline_anchors",T=function(t,e,n,i){var o,s;return d(d(o=t["$include?"]("[["))?o:t["$include?"]("or:"))&&_(t,"scan",[l(ct,"InlineAnchorScanRx")],(s=function(){var t,o,c,u=s.$$s||this,_=a,h=a,m=a,y=a;if(d(_=(t=f["~"])===a?a:t["$[]"](1))){if(d(d(t=d(o=h=(c=f["~"])===a?a:c["$[]"](2))?h["$include?"](l(ct,"ATTR_REF_HEAD")):o)?(h=n.$sub_attributes(h))["$empty?"]():t))return a}else if(_=(t=f["~"])===a?a:t["$[]"](3),d(h=(t=f["~"])===a?a:t["$[]"](4)))if(d(h["$include?"]("]")))h=h.$gsub("\\]","]"),d(h["$include?"](l(ct,"ATTR_REF_HEAD")))&&(h=n.$sub_attributes(h));else if(d(d(t=h["$include?"](l(ct,"ATTR_REF_HEAD")))?(h=n.$sub_attributes(h))["$empty?"]():t))return a;return d(n.$register("refs",[_,l(ct,"Inline").$new(e,"anchor",h,p(["type","id"],{type:"ref",id:_}))]))?a:(m=i.$cursor_at_mark(),d($(y=r(((t=f["~"])===a?a:t.$pre_match()).$count(l(ct,"LF")),d(((t=f["~"])===a?a:t["$[]"](0))["$start_with?"](l(ct,"LF")))?1:0),0))&&(m=m.$dup()).$advance(y),u.$logger().$warn(u.$message_with_context("id assigned to anchor already in use: "+_,p(["source_location"],{source_location:m}))))},s.$$s=this,s.$$arity=0,s)),a},T.$$arity=4),t.defs(lt,"$catalog_inline_biblio_anchor",L=function(t,e,r,n){var $;return d(r.$document().$register("refs",[t,l(ct,"Inline").$new(r,"anchor",d($=e)?"["+e+"]":$,p(["type","id"],{type:"bibref",id:t}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+t,p(["source_location"],{source_location:n.$cursor()}))),a},L.$$arity=4),t.defs(lt,"$parse_description_list",N=function(r,n,$){var i,o=a,s=a,c=a,u=a,p=a;for(null==f["~"]&&(f["~"]=a),o=l(ct,"List").$new($,"dlist"),s=l(ct,"DescriptionListSiblingRx")["$[]"](n["$[]"](2)),o.$items()["$<<"](c=this.$parse_list_item(r,o,n,s));d(d(i=r["$has_more_lines?"]())?s["$=~"](r.$peek_line()):i);)u=this.$parse_list_item(r,o,f["~"],s),d(c["$[]"](1))?o.$items()["$<<"](c=u):(c["$[]"](0)["$<<"](u["$[]"](0)["$[]"](0)),p=[1,u["$[]"](1)],_(c,"[]=",t.to_a(p)),p[e(p.length,1)]);return o},N.$$arity=3),t.defs(lt,"$parse_callout_list",F=function(n,$,i,o){var s,c,u=this,f=a,h=a,m=a,y=a,g=a,v=a,b=a;for(f=l(ct,"List").$new(i,"colist"),h=1,m=0;d(d(s=$)?s:d(c=$=l(ct,"CalloutListRx").$match(n.$peek_line()))?n.$mark():c);)(y=$["$[]"](1))["$=="](".")&&(y=(m=r(m,1)).$to_s()),y["$=="](h.$to_s())||u.$logger().$warn(u.$message_with_context("callout list item index: expected "+h+", got "+y,p(["source_location"],{source_location:n.$cursor_at_mark()}))),d(g=u.$parse_list_item(n,f,$,"<1>"))&&(f.$items()["$<<"](g),d((v=o.$callout_ids(f.$items().$size()))["$empty?"]())?u.$logger().$warn(u.$message_with_context("no callout found for <"+f.$items().$size()+">",p(["source_location"],{source_location:n.$cursor_at_mark()}))):(b=["coids",v],_(g.$attributes(),"[]=",t.to_a(b)),b[e(b.length,1)])),h=r(h,1),$=a;return o.$next_list(),f},F.$$arity=4),t.defs(lt,"$parse_list_item",D=function(r,n,$,i,o){var s,c,u,h=this,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a;if(null==o&&(o=a),(m=n.$context())["$=="]("dlist")?(y=!0,g=l(ct,"ListItem").$new(n,v=$["$[]"](1)),d(d(s=v["$start_with?"]("[["))?l(ct,"LeadingInlineAnchorRx")["$=~"](v):s)&&h.$catalog_inline_anchor((s=f["~"])===a?a:s["$[]"](1),d(s=(c=f["~"])===a?a:c["$[]"](2))?s:((c=f["~"])===a?a:c.$post_match()).$lstrip(),g,r),d(b=$["$[]"](3))&&(x=!0),k=l(ct,"ListItem").$new(n,b),d(n.$document().$sourcemap())&&(w=[r.$cursor()],_(g,"source_location=",t.to_a(w)),w[e(w.length,1)],d(x)?(w=[g.$source_location()],_(k,"source_location=",t.to_a(w)),w[e(w.length,1)]):E=!0)):(x=!0,k=l(ct,"ListItem").$new(n,b=$["$[]"](2)),d(n.$document().$sourcemap())&&(w=[r.$cursor()],_(k,"source_location=",t.to_a(w)),w[e(w.length,1)]),"ulist"["$==="](A=m)?(w=[i],_(k,"marker=",t.to_a(w)),w[e(w.length,1)],d(b["$start_with?"]("["))&&(d(d(s=o)?o["$=="]("bibliography"):s)?d(l(ct,"InlineBiblioAnchorRx")["$=~"](b))&&h.$catalog_inline_biblio_anchor((s=f["~"])===a?a:s["$[]"](1),(s=f["~"])===a?a:s["$[]"](2),k,r):d(b["$start_with?"]("[["))?d(l(ct,"LeadingInlineAnchorRx")["$=~"](b))&&h.$catalog_inline_anchor((s=f["~"])===a?a:s["$[]"](1),(s=f["~"])===a?a:s["$[]"](2),k,r):d(b["$start_with?"]("[ ] ","[x] ","[*] "))&&(n.$set_option("checklist"),w=["checkbox",""],_(k.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)],d(b["$start_with?"]("[ "))||(w=["checked",""],_(k.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)]),w=[b.$slice(4,b.$length())],_(k,"text=",t.to_a(w)),w[e(w.length,1)]))):"olist"["$==="](A)?(c=h.$resolve_ordered_list_marker(i,O=n.$items().$size(),!0,r),i=null==(s=t.to_ary(c))[0]?a:s[0],S=null==s[1]?a:s[1],w=[i],_(k,"marker=",t.to_a(w)),w[e(w.length,1)],d((s=O["$=="](0))?o["$!"]():O["$=="](0))&&(w=[d(s=S)?s:(d(c=l(ct,"ORDERED_LIST_STYLES")["$[]"](e(i.$length(),1)))?c:"arabic").$to_s()],_(n,"style=",t.to_a(w)),w[e(w.length,1)]),d(d(s=b["$start_with?"]("[["))?l(ct,"LeadingInlineAnchorRx")["$=~"](b):s)&&h.$catalog_inline_anchor((s=f["~"])===a?a:s["$[]"](1),(s=f["~"])===a?a:s["$[]"](2),k,r)):(w=[i],_(k,"marker=",t.to_a(w)),w[e(w.length,1)],d(d(s=b["$start_with?"]("[["))?l(ct,"LeadingInlineAnchorRx")["$=~"](b):s)&&h.$catalog_inline_anchor((s=f["~"])===a?a:s["$[]"](1),(s=f["~"])===a?a:s["$[]"](2),k,r))),r.$shift(),u=r.$cursor(),R=l(ct,"Reader").$new(h.$read_lines_for_list_item(r,m,i,x),u),d(R["$has_more_lines?"]())){for(d(E)&&(w=[u],_(k,"source_location=",t.to_a(w)),w[e(w.length,1)]),C=R.$skip_line_comments(),d(I=R.$peek_line())&&(d(C["$empty?"]())||R.$unshift_lines(C),d(I["$empty?"]())||(T=!0,d(y)||(x=a))),d(L=h.$next_block(R,k,p([],{}),p(["text_only","list_type"],{text_only:!d(x)||a,list_type:m})))&&k.$blocks()["$<<"](L);d(R["$has_more_lines?"]());)d(L=h.$next_block(R,k,p([],{}),p(["list_type"],{list_type:m})))&&k.$blocks()["$<<"](L);d(d(s=d(c=T)?N=k.$blocks()["$[]"](0):c)?N.$context()["$=="]("paragraph"):s)&&k.$fold_first()}return d(y)?[[g],d(d(s=k["$text?"]())?s:k["$blocks?"]())?k:a]:k},D.$$arity=-5),t.defs(lt,"$read_lines_for_list_item",z=function(r,n,$,i){var o,s,c,u,h,m,y,g,v=this,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a;for(null==$&&($=a),null==i&&(i=!0),b=[],x="inactive",k=!1,w=a,g=n["$=="]("dlist");d(r["$has_more_lines?"]())&&(E=r.$read_line(),!d(v["$is_sibling_list_item?"](E,n,$)));)if((A=d(b["$empty?"]())?a:b["$[]"](-1))["$=="](l(ct,"LIST_CONTINUATION"))&&(x["$=="]("inactive")&&(x="active",i=!0,d(k)||(O=[-1,""],_(b,"[]=",t.to_a(O)),O[e(O.length,1)])),E["$=="](l(ct,"LIST_CONTINUATION"))))d(x["$!="]("frozen"))&&(x="frozen",b["$<<"](E)),E=a;else{if(d(S=v["$is_delimited_block?"](E,!0))){if(!x["$=="]("active"))break;b["$<<"](E),b.$concat(r.$read_lines_until(p(["terminator","read_last_line","context"],{terminator:S.$terminator(),read_last_line:!0,context:a}))),x="inactive"}else{if(d(d(o=d(s=g)?x["$!="]("active"):s)?l(ct,"BlockAttributeLineRx")["$match?"](E):o))break;if(d((o=x["$=="]("active"))?E["$empty?"]()["$!"]():x["$=="]("active")))d(l(ct,"LiteralParagraphRx")["$match?"](E))?(r.$unshift_line(E),d(g)?b.$concat(_(r,"read_lines_until",[p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(c=function(t){var e=c.$$s||this;return null==t&&(t=a),e["$is_sibling_list_item?"](t,n,$)},c.$$s=v,c.$$arity=1,c))):b.$concat(r.$read_lines_until(p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),x="inactive"):d(d(o=d(s=l(ct,"BlockTitleRx")["$match?"](E))?s:l(ct,"BlockAttributeLineRx")["$match?"](E))?o:l(ct,"AttributeEntryRx")["$match?"](E))?b["$<<"](E):(d(R=_(d(k)?["dlist"]:l(ct,"NESTABLE_LIST_CONTEXTS"),"find",[],((u=function(t){return u.$$s,null==t&&(t=a),l(ct,"ListRxMap")["$[]"](t)["$match?"](E)}).$$s=v,u.$$arity=1,u)))&&(k=!0,d((o=R["$=="]("dlist"))?((s=f["~"])===a?a:s["$[]"](3))["$nil_or_empty?"]():R["$=="]("dlist"))&&(i=!1)),b["$<<"](E),x="inactive");else if(d(d(o=A)?A["$empty?"]():o)){if(d(E["$empty?"]())){if(!d(E=d(o=r.$skip_blank_lines())?r.$read_line():o))break;if(d(v["$is_sibling_list_item?"](E,n,$)))break}if(E["$=="](l(ct,"LIST_CONTINUATION")))w=b.$size(),b["$<<"](E);else if(d(i)){if(d(v["$is_sibling_list_item?"](E,n,$)))break;if(d(R=_(l(ct,"NESTABLE_LIST_CONTEXTS"),"find",[],((h=function(t){return h.$$s,null==t&&(t=a),l(ct,"ListRxMap")["$[]"](t)["$=~"](E)}).$$s=v,h.$$arity=1,h))))b["$<<"](E),k=!0,d((o=R["$=="]("dlist"))?((s=f["~"])===a?a:s["$[]"](3))["$nil_or_empty?"]():R["$=="]("dlist"))&&(i=!1);else{if(!d(l(ct,"LiteralParagraphRx")["$match?"](E)))break;r.$unshift_line(E),d(g)?b.$concat(_(r,"read_lines_until",[p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(m=function(t){var e=m.$$s||this;return null==t&&(t=a),e["$is_sibling_list_item?"](t,n,$)},m.$$s=v,m.$$arity=1,m))):b.$concat(r.$read_lines_until(p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else d(k)||b.$pop(),b["$<<"](E),i=!0}else d(E["$empty?"]())||(i=!0),d(R=_(d(k)?["dlist"]:l(ct,"NESTABLE_LIST_CONTEXTS"),"find",[],((y=function(t){return y.$$s,null==t&&(t=a),l(ct,"ListRxMap")["$[]"](t)["$=~"](E)}).$$s=v,y.$$arity=1,y)))&&(k=!0,d((o=R["$=="]("dlist"))?((s=f["~"])===a?a:s["$[]"](3))["$nil_or_empty?"]():R["$=="]("dlist"))&&(i=!1)),b["$<<"](E)}E=a}for(d(E)&&r.$unshift_line(E),d(w)&&(O=[w,""],_(b,"[]=",t.to_a(O)),O[e(O.length,1)]);!d(b["$empty?"]());){if(!d((C=b["$[]"](-1))["$empty?"]())){C["$=="](l(ct,"LIST_CONTINUATION"))&&b.$pop();break}b.$pop()}return b},z.$$arity=-3),t.defs(lt,"$initialize_section",B=function(r,n,i){var o,s,c,u,f,h,m,y=this,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a;return null==i&&(i=p([],{})),g=n.$document(),c=(v=g.$doctype())["$=="]("book"),d(g.$sourcemap())&&(b=r.$cursor()),x=i["$[]"](1),s=y.$parse_section_title(r,g,i["$[]"]("id")),u=null==(o=t.to_ary(s))[0]?a:o[0],f=null==o[1]?a:o[1],k=null==o[2]?a:o[2],w=null==o[3]?a:o[3],h=null==o[4]?a:o[4],d(x)?d(d(o=c)?x["$=="]("abstract"):o)?(E=(o=["chapter",1])[0],w=o[1]):d(d(o=x["$start_with?"]("sect"))?l(ct,"SectionLevelStyleRx")["$match?"](x):o)?E="section":(E=(o=[x,!0])[0],A=o[1],w["$=="](0)&&(w=1),O=E["$=="]("appendix")):d(c)?E=w["$=="](0)?"part":d($(w,1))?"section":"chapter":d((o=v["$=="]("manpage"))?k.$casecmp("synopsis")["$=="](0):v["$=="]("manpage"))?(E=(o=["synopsis",!0])[0],A=o[1]):E="section",d(f)&&(S=["reftext",f],_(i,"[]=",t.to_a(S)),S[e(S.length,1)]),R=l(ct,"Section").$new(n,w),o=[u,k,E,b],R["$id="](o[0]),R["$title="](o[1]),R["$sectname="](o[2]),R["$source_location="](o[3]),d(A)?(S=[!0],_(R,"special=",t.to_a(S)),S[e(S.length,1)],d(O)?(S=[!0],_(R,"numbered=",t.to_a(S)),S[e(S.length,1)]):g.$attributes()["$[]"]("sectnums")["$=="]("all")&&(S=[!d(d(o=c)?w["$=="](1):o)||"chapter"],_(R,"numbered=",t.to_a(S)),S[e(S.length,1)])):d(d(o=g.$attributes()["$[]"]("sectnums"))?$(w,0):o)?(S=[!d(R.$special())||!!d(o=n.$numbered())||o],_(R,"numbered=",t.to_a(S)),S[e(S.length,1)]):d(d(o=d(s=c)?w["$=="](0):s)?g.$attributes()["$[]"]("partnums"):o)&&(S=[!0],_(R,"numbered=",t.to_a(S)),S[e(S.length,1)]),d(m=d(o=R.$id())?o:(S=[d(g.$attributes()["$key?"]("sectids"))?C=l(ct,"Section").$generate_id(R.$title(),g):a],_(R,"id=",t.to_a(S)),S[e(S.length,1)]))&&(d(d(o=C)?o:k["$include?"](l(ct,"ATTR_REF_HEAD"))["$!"]())||R.$title(),d(g.$register("refs",[m,R]))||y.$logger().$warn(y.$message_with_context("id assigned to section already in use: "+m,p(["source_location"],{source_location:r.$cursor_at_line(e(r.$lineno(),d(h)?1:2))})))),R.$update_attributes(i),r.$skip_blank_lines(),R},B.$$arity=-3),t.defs(lt,"$is_next_line_section?",M=function(t,e){var r,n,$=a,i=a;return d(d(r=$=e["$[]"](1))?d(n=$["$=="]("discrete"))?n:$["$=="]("float"):r)?a:d(l(ct,"Compliance").$underline_style_section_titles())?(i=t.$peek_lines(2,d(r=$)?$["$=="]("comment"):r),this["$is_section_title?"](d(r=i["$[]"](0))?r:"",i["$[]"](1))):this["$atx_section_title?"](d(r=t.$peek_line())?r:"")},M.$$arity=2),t.defs(lt,"$is_next_line_doctitle?",j=function(t,e,n){var $,i=a;return d(n)?d($=i=this["$is_next_line_section?"](t,e))?r(i,n.$to_i())["$=="](0):$:this["$is_next_line_section?"](t,e)["$=="](0)},j.$$arity=3),t.defs(lt,"$is_section_title?",q=function(t,e){var r,n=this;return null==e&&(e=a),d(r=n["$atx_section_title?"](t))?r:d(e["$nil_or_empty?"]())?a:n["$setext_section_title?"](t,e)},q.$$arity=-2),t.defs(lt,"$atx_section_title?",P=function(t){var r;return d(d(l(ct,"Compliance").$markdown_syntax())?d(r=t["$start_with?"]("=","#"))?l(ct,"ExtAtxSectionTitleRx")["$=~"](t):r:d(r=t["$start_with?"]("="))?l(ct,"AtxSectionTitleRx")["$=~"](t):r)?e(((r=f["~"])===a?a:r["$[]"](1)).$length(),1):a},P.$$arity=1),t.defs(lt,"$setext_section_title?",U=function(t,r){var $,i,o,s,c,u=a;return d(d($=d(i=d(o=s=l(ct,"SETEXT_SECTION_LEVELS")["$[]"](c=r.$chr()))?this["$uniform?"](r,c,u=r.$length()):o)?l(ct,"SetextSectionTitleRx")["$match?"](t):i)?n(e(t.$length(),u).$abs(),2):$)?s:a},U.$$arity=2),t.defs(lt,"$parse_section_title",H=function(t,$,i){var o,s,c,u,_,p=a,h=a,m=a,y=a,g=a,v=a,b=a,x=a;return null==i&&(i=a),p=a,h=t.$read_line(),d(d(l(ct,"Compliance").$markdown_syntax())?d(o=h["$start_with?"]("=","#"))?l(ct,"ExtAtxSectionTitleRx")["$=~"](h):o:d(o=h["$start_with?"]("="))?l(ct,"AtxSectionTitleRx")["$=~"](h):o)?(m=(o=[e(((s=f["~"])===a?a:s["$[]"](1)).$length(),1),(s=f["~"])===a?a:s["$[]"](2),!0])[0],y=o[1],g=o[2],d(i)||d(d(o=d(s=y["$end_with?"]("]]"))?l(ct,"InlineSectionAnchorRx")["$=~"](y):s)?((s=f["~"])===a?a:s["$[]"](1))["$!"]():o)&&(o=[y.$slice(0,e(y.$length(),((s=f["~"])===a?a:s["$[]"](0)).$length())),(s=f["~"])===a?a:s["$[]"](2),(s=f["~"])===a?a:s["$[]"](3)],y=o[0],i=o[1],p=o[2])):d(d(o=d(s=d(c=d(u=d(_=l(ct,"Compliance").$underline_style_section_titles())?v=t.$peek_line(!0):_)?m=l(ct,"SETEXT_SECTION_LEVELS")["$[]"](b=v.$chr()):u)?this["$uniform?"](v,b,x=v.$length()):c)?y=d(c=l(ct,"SetextSectionTitleRx")["$=~"](h))?(u=f["~"])===a?a:u["$[]"](1):c:s)?n(e(h.$length(),x).$abs(),2):o)?(g=!1,d(i)||d(d(o=d(s=y["$end_with?"]("]]"))?l(ct,"InlineSectionAnchorRx")["$=~"](y):s)?((s=f["~"])===a?a:s["$[]"](1))["$!"]():o)&&(o=[y.$slice(0,e(y.$length(),((s=f["~"])===a?a:s["$[]"](0)).$length())),(s=f["~"])===a?a:s["$[]"](2),(s=f["~"])===a?a:s["$[]"](3)],y=o[0],i=o[1],p=o[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$cursor_at_prev_line()),d($["$attr?"]("leveloffset"))&&(m=r(m,$.$attr("leveloffset").$to_i()),d(n(m,0))&&(m=0)),[i,p,y,m,g]},H.$$arity=-3),t.defs(lt,"$parse_header_metadata",Y=function(n,i,o){var s,c,u,f,h=this,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a;if(null==i&&(i=a),null==o&&(o=!0),m=d(s=i)?i.$attributes():s,h.$process_attribute_entries(n,i),d(d(s=n["$has_more_lines?"]())?n["$next_line_empty?"]()["$!"]():s)?(y=(g=h.$process_authors(n.$read_line())).$delete("authorcount"),d(d(s=i)?$((v=["authorcount",y],_(m,"[]=",t.to_a(v)),v[e(v.length,1)]),0):s)&&(_(g,"each",[],((c=function(r,n){return c.$$s,null==r&&(r=a),null==n&&(n=a),d(m["$key?"](r))?a:(v=[r,i.$apply_header_subs(n)],_(m,"[]=",t.to_a(v)),v[e(v.length,1)])}).$$s=h,c.$$arity=2,c)),b=m["$[]"]("author"),x=m["$[]"]("authorinitials"),k=m["$[]"]("authors")),v=["authorcount",y],_(g,"[]=",t.to_a(v)),v[e(v.length,1)],h.$process_attribute_entries(n,i),d(d(s=n["$has_more_lines?"]())?n["$next_line_empty?"]()["$!"]():s)&&(w=n.$read_line(),d(E=l(ct,"RevisionInfoLineRx").$match(w))?(A=p([],{}),d(E["$[]"](1))&&(v=["revnumber",E["$[]"](1).$rstrip()],_(A,"[]=",t.to_a(v)),v[e(v.length,1)]),d((O=E["$[]"](2).$strip())["$empty?"]())||(d(d(s=E["$[]"](1)["$!"]())?O["$start_with?"]("v"):s)?(v=["revnumber",O.$slice(1,O.$length())],_(A,"[]=",t.to_a(v)),v[e(v.length,1)]):(v=["revdate",O],_(A,"[]=",t.to_a(v)),v[e(v.length,1)])),d(E["$[]"](3))&&(v=["revremark",E["$[]"](3).$rstrip()],_(A,"[]=",t.to_a(v)),v[e(v.length,1)]),d(d(s=i)?A["$empty?"]()["$!"]():s)&&_(A,"each",[],((u=function(r,n){return u.$$s,null==r&&(r=a),null==n&&(n=a),d(m["$key?"](r))?a:(v=[r,i.$apply_header_subs(n)],_(m,"[]=",t.to_a(v)),v[e(v.length,1)])}).$$s=h,u.$$arity=2,u))):n.$unshift_line(w)),h.$process_attribute_entries(n,i),n.$skip_blank_lines()):g=p([],{}),d(i)){if(d(d(s=m["$key?"]("author"))?(S=m["$[]"]("author"))["$!="](b):s))R=h.$process_authors(S,!0,!1),d(m["$[]"]("authorinitials")["$!="](x))&&R.$delete("authorinitials");else if(d(d(s=m["$key?"]("authors"))?(S=m["$[]"]("authors"))["$!="](k):s))R=h.$process_authors(S,!0);else{for(C=(s=[[],1,"author_1",!1,!1])[0],I=s[1],T=s[2],L=s[3],N=s[4];d(m["$key?"](T));)(F=m["$[]"](T))["$=="](g["$[]"](T))?(C["$<<"](a),N=!0):(C["$<<"](F),L=!0),T="author_"+(I=r(I,1));d(L)?(d(N)&&_(C,"each_with_index",[],(f=function(n,$){var i,o,s=f.$$s||this;return null==n&&(n=a),null==$&&($=a),d(n)?a:(v=[$,_([g["$[]"]("firstname_"+(o=r($,1))),g["$[]"]("middlename_"+o),g["$[]"]("lastname_"+o)].$compact(),"map",[],(i=function(t){return i.$$s,null==t&&(t=a),t.$tr(" ","_")},i.$$s=s,i.$$arity=1,i)).$join(" ")],_(C,"[]=",t.to_a(v)),v[e(v.length,1)])},f.$$s=h,f.$$arity=2,f)),R=h.$process_authors(C,!0,!1)):R=p(["authorcount"],{authorcount:0})}R["$[]"]("authorcount")["$=="](0)?d(y)?R=a:(v=["authorcount",0],_(m,"[]=",t.to_a(v)),v[e(v.length,1)]):(m.$update(R),d(d(s=m["$key?"]("email")["$!"]())?m["$key?"]("email_1"):s)&&(v=["email",m["$[]"]("email_1")],_(m,"[]=",t.to_a(v)),v[e(v.length,1)]))}return d(o)?g.$merge(A.$to_h(),R.$to_h()):a},Y.$$arity=-2),t.defs(lt,"$process_authors",G=function(n,$,i){var o,s,c,u=a,f=a;return null==$&&($=!1),null==i&&(i=!0),u=p([],{}),f=0,_(d(d(o=i)?n["$include?"](";"):o)?n.$split(l(ct,"AuthorDelimiterRx")):[].concat(t.to_a(n)),"each",[],(s=function(n){var i,o,c,h,m=s.$$s||this,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a;return null==n&&(n=a),d(n["$empty?"]())?a:(y=p([],{}),(f=r(f,1))["$=="](1)?_(l(ct,"AuthorKeys"),"each",[],(i=function(r){var n;i.$$s;return null==r&&(r=a),n=[r.$to_sym(),r],_(y,"[]=",t.to_a(n)),n[e(n.length,1)]},i.$$s=m,i.$$arity=1,i)):_(l(ct,"AuthorKeys"),"each",[],(o=function(r){var n;o.$$s;return null==r&&(r=a),n=[r.$to_sym(),r+"_"+f],_(y,"[]=",t.to_a(n)),n[e(n.length,1)]},o.$$s=m,o.$$arity=1,o)),d($)?(d(n["$include?"]("<"))&&(g=[y["$[]"]("author"),n.$tr("_"," ")],_(u,"[]=",t.to_a(g)),g[e(g.length,1)],n=n.$gsub(l(ct,"XmlSanitizeRx"),"")),(v=n.$split(a,3)).$size()["$=="](3)&&v["$<<"](v.$pop().$squeeze(" "))):d(b=l(ct,"AuthorInfoLineRx").$match(n))&&(v=b.$to_a()).$shift(),d(v)?(g=[y["$[]"]("firstname"),k=v["$[]"](0).$tr("_"," ")],_(u,"[]=",t.to_a(g)),x=g[e(g.length,1)],g=[y["$[]"]("authorinitials"),k.$chr()],_(u,"[]=",t.to_a(g)),g[e(g.length,1)],d(v["$[]"](1))&&(d(v["$[]"](2))?(g=[y["$[]"]("middlename"),w=v["$[]"](1).$tr("_"," ")],_(u,"[]=",t.to_a(g)),g[e(g.length,1)],g=[y["$[]"]("lastname"),E=v["$[]"](2).$tr("_"," ")],_(u,"[]=",t.to_a(g)),g[e(g.length,1)],x=r(r(r(r(k," "),w)," "),E),g=[y["$[]"]("authorinitials"),""+k.$chr()+w.$chr()+E.$chr()],_(u,"[]=",t.to_a(g)),g[e(g.length,1)]):(g=[y["$[]"]("lastname"),E=v["$[]"](1).$tr("_"," ")],_(u,"[]=",t.to_a(g)),g[e(g.length,1)],x=r(r(k," "),E),g=[y["$[]"]("authorinitials"),""+k.$chr()+E.$chr()],_(u,"[]=",t.to_a(g)),g[e(g.length,1)])),d(c=u["$[]"](y["$[]"]("author")))||(g=[y["$[]"]("author"),x],_(u,"[]=",t.to_a(g)),g[e(g.length,1)]),d(d(c=$)?c:v["$[]"](3)["$!"]())||(g=[y["$[]"]("email"),v["$[]"](3)],_(u,"[]=",t.to_a(g)),g[e(g.length,1)])):(g=[y["$[]"]("author"),(g=[y["$[]"]("firstname"),k=n.$squeeze(" ").$strip()],_(u,"[]=",t.to_a(g)),g[e(g.length,1)])],_(u,"[]=",t.to_a(g)),g[e(g.length,1)],g=[y["$[]"]("authorinitials"),k.$chr()],_(u,"[]=",t.to_a(g)),g[e(g.length,1)]),f["$=="](1)?(g=["authors",u["$[]"](y["$[]"]("author"))],_(u,"[]=",t.to_a(g)),g[e(g.length,1)]):(f["$=="](2)&&_(l(ct,"AuthorKeys"),"each",[],((h=function(r){return h.$$s,null==r&&(r=a),d(u["$key?"](r))?(g=[r+"_1",u["$[]"](r)],_(u,"[]=",t.to_a(g)),g[e(g.length,1)]):a}).$$s=m,h.$$arity=1,h)),g=["authors",u["$[]"]("authors")+", "+u["$[]"](y["$[]"]("author"))],_(u,"[]=",t.to_a(g)),g[e(g.length,1)]))},s.$$s=this,s.$$arity=1,s)),c=["authorcount",f],_(u,"[]=",t.to_a(c)),e(c.length,1),u},G.$$arity=-2),t.defs(lt,"$parse_block_metadata_lines",W=function(t,e,r,n){for(null==r&&(r=p([],{})),null==n&&(n=p([],{}));d(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),d(t.$skip_blank_lines())););return r},W.$$arity=-3),t.defs(lt,"$parse_block_metadata_line",X=function(r,n,$,i){var o,s,c=this,u=a,h=a,m=a,y=a,g=a,v=a;if(null==f["~"]&&(f["~"]=a),null==i&&(i=p([],{})),d(d(o=u=r.$peek_line())?d(i["$[]"]("text_only"))?u["$start_with?"]("[","/"):h=u["$start_with?"]("[",".","/",":"):o))if(d(u["$start_with?"]("["))){if(d(u["$start_with?"]("[["))){if(d(d(o=u["$end_with?"]("]]"))?l(ct,"BlockAnchorRx")["$=~"](u):o))return m=["id",(o=f["~"])===a?a:o["$[]"](1)],_($,"[]=",t.to_a(m)),m[e(m.length,1)],d(y=(o=f["~"])===a?a:o["$[]"](2))&&(m=["reftext",d(y["$include?"](l(ct,"ATTR_REF_HEAD")))?n.$sub_attributes(y):y],_($,"[]=",t.to_a(m)),m[e(m.length,1)]),!0}else if(d(d(o=u["$end_with?"]("]"))?l(ct,"BlockAttributeListRx")["$=~"](u):o))return g=$["$[]"](1),d(n.$parse_attributes((o=f["~"])===a?a:o["$[]"](1),[],p(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:$}))["$[]"](1))&&(m=[1,d(o=c.$parse_style_attribute($,r))?o:g],_($,"[]=",t.to_a(m)),m[e(m.length,1)]),!0}else if(d(d(o=h)?u["$start_with?"]("."):o)){if(d(l(ct,"BlockTitleRx")["$=~"](u)))return m=["title",(o=f["~"])===a?a:o["$[]"](1)],_($,"[]=",t.to_a(m)),m[e(m.length,1)],!0}else if(d(d(o=h["$!"]())?o:u["$start_with?"]("/"))){if(d(u["$start_with?"]("//"))){if(u["$=="]("//"))return!0;if(d(d(o=h)?c["$uniform?"](u,"/",v=u.$length()):o)){if(!v["$=="](3))return r.$read_lines_until(p(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:u,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!d(u["$start_with?"]("///")))return!0}}else if(d(d(o=d(s=h)?u["$start_with?"](":"):s)?l(ct,"AttributeEntryRx")["$=~"](u):o))return c.$process_attribute_entry(r,n,$,f["~"]),!0;return a},X.$$arity=-4),t.defs(lt,"$process_attribute_entries",K=function(t,e,r){for(null==r&&(r=a),t.$skip_comment_lines();d(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},K.$$arity=-3),t.defs(lt,"$process_attribute_entry",V=function(t,r,n,$){var i,o,s,c=a,u=a,_=a,p=a;if(null==n&&(n=a),null==$&&($=a),d(d(i=$)?i:$=d(t["$has_more_lines?"]())?l(ct,"AttributeEntryRx").$match(t.$peek_line()):a)){if(d((c=$["$[]"](2))["$nil_or_empty?"]()))c="";else if(d(c["$end_with?"](l(ct,"LINE_CONTINUATION"),l(ct,"LINE_CONTINUATION_LEGACY"))))for(u=(i=[c.$slice(e(c.$length(),2),2),c.$slice(0,e(c.$length(),2)).$rstrip()])[0],c=i[1];d(d(o=t.$advance())?(_=d(s=t.$peek_line())?s:"")["$empty?"]()["$!"]():o)&&(_=_.$lstrip(),d(p=_["$end_with?"](u))&&(_=_.$slice(0,e(_.$length(),2)).$rstrip()),c=""+c+(d(c["$end_with?"](l(ct,"HARD_LINE_BREAK")))?l(ct,"LF"):" ")+_,d(p)););return this.$store_attribute($["$[]"](1),c,r,n),!0}return a},V.$$arity=-3),t.defs(lt,"$store_attribute",J=function(t,n,$,i){var o,c=a;return null==$&&($=a),null==i&&(i=a),d(t["$end_with?"]("!"))?(t=t.$chop(),n=a):d(t["$start_with?"]("!"))&&(t=t.$slice(1,t.$length()),n=a),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")?t="sectnums":t["$=="]("hardbreaks")?t="hardbreaks-option":t["$=="]("showtitle")&&this.$store_attribute("notitle",d(n)?a:"",$,i),d($)?d(n)?(t["$=="]("leveloffset")&&(d(n["$start_with?"]("+"))?n=r($.$attr("leveloffset",0).$to_i(),n.$slice(1,n.$length()).$to_i()).$to_s():d(n["$start_with?"]("-"))&&(n=e($.$attr("leveloffset",0).$to_i(),n.$slice(1,n.$length()).$to_i()).$to_s())),d(c=$.$set_attribute(t,n))&&(n=c,d(i)&&s(l(ct,"Document"),"AttributeEntry").$new(t,n).$save_to(i))):d(d(o=$.$delete_attribute(t))?i:o)&&s(l(ct,"Document"),"AttributeEntry").$new(t,n).$save_to(i):d(i)&&s(l(ct,"Document"),"AttributeEntry").$new(t,n).$save_to(i),[t,n]},J.$$arity=-3),t.defs(lt,"$resolve_list_marker",Z=function(t,e,r,n,$){var i=this,o=a;return null==r&&(r=0),null==n&&(n=!1),null==$&&($=a),"ulist"["$==="](o=t)?e:"olist"["$==="](o)?i.$resolve_ordered_list_marker(e,r,n,$)["$[]"](0):"<1>"},Z.$$arity=-3),t.defs(lt,"$resolve_ordered_list_marker",Q=function(t,e,n,$){var i,o,s,c,u=this,f=a,h=a;return null==e&&(e=0),null==n&&(n=!1),null==$&&($=a),d(t["$start_with?"]("."))?[t]:(s=c=_(l(ct,"ORDERED_LIST_STYLES"),"find",[],((i=function(e){return i.$$s,null==e&&(e=a),l(ct,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)}).$$s=u,i.$$arity=1,i)),"arabic"["$==="](s)?(d(n)&&(f=r(e,1),h=t.$to_i()),t="1."):"loweralpha"["$==="](s)?(d(n)&&(f=r("a"["$[]"](0).$ord(),e).$chr(),h=t.$chop()),t="a."):"upperalpha"["$==="](s)?(d(n)&&(f=r("A"["$[]"](0).$ord(),e).$chr(),h=t.$chop()),t="A."):"lowerroman"["$==="](s)?(d(n)&&(f=l(ct,"Helpers").$int_to_roman(r(e,1)).$downcase(),h=t.$chop()),t="i)"):"upperroman"["$==="](s)&&(d(n)&&(f=l(ct,"Helpers").$int_to_roman(r(e,1)),h=t.$chop()),t="I)"),d(d(o=n)?f["$!="](h):o)&&u.$logger().$warn(u.$message_with_context("list item index: expected "+f+", got "+h,p(["source_location"],{source_location:$.$cursor()}))),[t,c])},Q.$$arity=-2),t.defs(lt,"$is_sibling_list_item?",tt=function(t,e,r){var n,$;return d(s("::","Regexp")["$==="](r))?r["$match?"](t):d(n=l(ct,"ListRxMap")["$[]"](e)["$=~"](t))?r["$=="](this.$resolve_list_marker(e,($=f["~"])===a?a:$["$[]"](1))):n},tt.$$arity=3),t.defs(lt,"$parse_table",et=function(n,i,o){var c,u,p,f,h=this,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a;for(m=l(ct,"Table").$new(i,o),d(d(c=o["$key?"]("cols"))?(y=h.$parse_colspecs(o["$[]"]("cols")))["$empty?"]()["$!"]():c)&&(m.$create_columns(y),g=!0),v=d(c=n.$skip_blank_lines())?c:0,d(o["$[]"]("header-option"))?(b=[!0],_(m,"has_header_option=",t.to_a(b)),b[e(b.length,1)]):d((c=v["$=="](0))?o["$[]"]("noheader-option")["$!"]():v["$=="](0))&&(b=["implicit"],_(m,"has_header_option=",t.to_a(b)),b[e(b.length,1)],x=!0),w=(c=[(k=s(l(ct,"Table"),"ParserContext").$new(n,m,o)).$format(),-1,a])[0],E=c[1],A=c[2],c=!1;c||d(O=n.$read_line());){for(c=!1,d(d(u=S=$(E=r(E,1),0))?O["$empty?"]():u)?(O=a,d(A)&&(A=r(A,1))):w["$=="]("psv")&&(d(k["$starts_with_delimiter?"](O))?(O=O.$slice(1,O.$length()),k.$close_open_cell(),d(A)&&(A=a)):(p=h.$parse_cellspec(O,"start",k.$delimiter()),R=null==(u=t.to_ary(p))[0]?a:u[0],O=null==u[1]?a:u[1],d(R)?(k.$close_open_cell(R),d(A)&&(A=a)):d(d(u=A)?A["$=="](E):u)&&(b=[x=A=a],_(m,"has_header_option=",t.to_a(b)),b[e(b.length,1)]))),d(S)||(n.$mark(),d(x)&&(d(d(u=n["$has_more_lines?"]())?n.$peek_line()["$empty?"]():u)?A=1:(b=[x=a],_(m,"has_header_option=",t.to_a(b)),b[e(b.length,1)]))),u=!1;u||d(!0);){if(u=!1,!d(d(p=O)?C=k.$match_delimiter(O):p)){b=[""+k.$buffer()+O+l(ct,"LF")],_(k,"buffer=",t.to_a(b)),b[e(b.length,1)],"csv"["$==="](L=w)?d(k["$buffer_has_unclosed_quotes?"]())?(d(d(p=A)?E["$=="](0):p)&&(b=[x=A=a],_(m,"has_header_option=",t.to_a(b)),b[e(b.length,1)]),k.$keep_cell_open()):k.$close_cell(!0):"dsv"["$==="](L)?k.$close_cell(!0):k.$keep_cell_open();break}if(I=(p=[C.$pre_match(),C.$post_match()])[0],T=p[1],"csv"["$==="](L=w)){if(d(k["$buffer_has_unclosed_quotes?"](I))){if(k.$skip_past_delimiter(I),d((O=T)["$empty?"]()))break;u=!0;continue}b=[""+k.$buffer()+I],_(k,"buffer=",t.to_a(b)),b[e(b.length,1)]}else if("dsv"["$==="](L)){if(d(I["$end_with?"]("\\"))){if(k.$skip_past_escaped_delimiter(I),d((O=T)["$empty?"]())){b=[""+k.$buffer()+l(ct,"LF")],_(k,"buffer=",t.to_a(b)),b[e(b.length,1)],k.$keep_cell_open();break}u=!0;continue}b=[""+k.$buffer()+I],_(k,"buffer=",t.to_a(b)),b[e(b.length,1)]}else{if(d(I["$end_with?"]("\\"))){if(k.$skip_past_escaped_delimiter(I),d((O=T)["$empty?"]())){b=[""+k.$buffer()+l(ct,"LF")],_(k,"buffer=",t.to_a(b)),b[e(b.length,1)],k.$keep_cell_open();break}u=!0;continue}f=h.$parse_cellspec(I),R=null==(p=t.to_ary(f))[0]?a:p[0],N=null==p[1]?a:p[1],k.$push_cellspec(R),b=[""+k.$buffer()+N],_(k,"buffer=",t.to_a(b)),b[e(b.length,1)]}d((O=T)["$empty?"]())&&(O=a),k.$close_cell()}if(d(k["$cell_open?"]()))d(n["$has_more_lines?"]())||k.$close_cell(!0);else if(!d(u=n.$skip_blank_lines()))break}return d(d(c=(F=m.$attributes(),d(u=F["$[]"]("colcount"))?u:(b=["colcount",m.$columns().$size()],_(F,"[]=",t.to_a(b)),b[e(b.length,1)]))["$=="](0))?c:g)||m.$assign_column_widths(),d(x)&&(b=[!0],_(m,"has_header_option=",t.to_a(b)),b[e(b.length,1)]),m.$partition_header_footer(o),m},et.$$arity=3),t.defs(lt,"$parse_colspecs",rt=function(r){var n,$,i=a;return d(r["$include?"](" "))&&(r=r.$delete(" ")),r["$=="](r.$to_i().$to_s())?_(s("::","Array"),"new",[r.$to_i()],((n=function(){return n.$$s,p(["width"],{width:1})}).$$s=this,n.$$arity=0,n)):(i=[],_(d(r["$include?"](","))?r.$split(",",-1):r.$split(";",-1),"each",[],($=function(r){var n,o,s,c=$.$$s||this,u=a,f=a,h=a,m=a,y=a,g=a;return null==r&&(r=a),d(r["$empty?"]())?i["$<<"](p(["width"],{width:1})):d(u=l(ct,"ColumnSpecRx").$match(r))?(f=p([],{}),d(u["$[]"](2))&&(o=u["$[]"](2).$split("."),h=null==(n=t.to_ary(o))[0]?a:n[0],m=null==n[1]?a:n[1],d(d(n=h["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellHorzAlignments")["$key?"](h):n)&&(y=["halign",l(ct,"TableCellHorzAlignments")["$[]"](h)],_(f,"[]=",t.to_a(y)),y[e(y.length,1)]),d(d(n=m["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellVertAlignments")["$key?"](m):n)&&(y=["valign",l(ct,"TableCellVertAlignments")["$[]"](m)],_(f,"[]=",t.to_a(y)),y[e(y.length,1)])),d(g=u["$[]"](3))?(y=["width",g["$=="]("~")?-1:g.$to_i()],_(f,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=["width",1],_(f,"[]=",t.to_a(y)),y[e(y.length,1)]),d(d(n=u["$[]"](4))?l(ct,"TableCellStyles")["$key?"](u["$[]"](4)):n)&&(y=["style",l(ct,"TableCellStyles")["$[]"](u["$[]"](4))],_(f,"[]=",t.to_a(y)),y[e(y.length,1)]),d(u["$[]"](1))?_(1,"upto",[u["$[]"](1).$to_i()],((s=function(){return s.$$s,i["$<<"](f.$merge())}).$$s=c,s.$$arity=0,s)):i["$<<"](f)):a},$.$$s=this,$.$$arity=1,$)),i)},rt.$$arity=1),t.defs(lt,"$parse_cellspec",nt=function(r,n,$){var i,o,s,c=a,u=a,f=a,h=a,m=a,y=a,g=a;if(null==n&&(n="end"),null==$&&($=a),c=(i=[a,""])[0],u=i[1],n["$=="]("start")){if(!d(r["$include?"]($)))return[a,r];if(o=r.$partition($),f=null==(i=t.to_ary(o))[0]?a:i[0],null==i[1]?a:i[1],u=null==i[2]?a:i[2],!d(c=l(ct,"CellSpecStartRx").$match(f)))return[a,r];if(d(c["$[]"](0)["$empty?"]()))return[p([],{}),u]}else{if(!d(c=l(ct,"CellSpecEndRx").$match(r)))return[p([],{}),r];if(d(c["$[]"](0).$lstrip()["$empty?"]()))return[p([],{}),r.$rstrip()];u=c.$pre_match()}return s=p([],{}),d(c["$[]"](1))&&(o=c["$[]"](1).$split("."),i=t.to_ary(o),h=null==i[0]?a:i[0],m=null==i[1]?a:i[1],h=d(h["$nil_or_empty?"]())?1:h.$to_i(),m=d(m["$nil_or_empty?"]())?1:m.$to_i(),y=c["$[]"](2),"+"["$==="](y)?(h["$=="](1)||(g=["colspan",h],_(s,"[]=",t.to_a(g)),g[e(g.length,1)]),m["$=="](1)||(g=["rowspan",m],_(s,"[]=",t.to_a(g)),g[e(g.length,1)])):"*"["$==="](y)&&(h["$=="](1)||(g=["repeatcol",h],_(s,"[]=",t.to_a(g)),g[e(g.length,1)]))),d(c["$[]"](3))&&(o=c["$[]"](3).$split("."),i=t.to_ary(o),h=null==i[0]?a:i[0],m=null==i[1]?a:i[1],d(d(i=h["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellHorzAlignments")["$key?"](h):i)&&(g=["halign",l(ct,"TableCellHorzAlignments")["$[]"](h)],_(s,"[]=",t.to_a(g)),g[e(g.length,1)]),d(d(i=m["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellVertAlignments")["$key?"](m):i)&&(g=["valign",l(ct,"TableCellVertAlignments")["$[]"](m)],_(s,"[]=",t.to_a(g)),g[e(g.length,1)])),d(d(i=c["$[]"](4))?l(ct,"TableCellStyles")["$key?"](c["$[]"](4)):i)&&(g=["style",l(ct,"TableCellStyles")["$[]"](c["$[]"](4))],_(s,"[]=",t.to_a(g)),g[e(g.length,1)]),[s,u]},nt.$$arity=-2),t.defs(lt,"$parse_style_attribute",$t=function(n,$){var i,o,s,c,u=this,f=a,h=a,m=a,y=a,g=a,v=a,b=a;return null==$&&($=a),d(d(i=d(o=f=n["$[]"](1))?f["$include?"](" ")["$!"]():o)?l(ct,"Compliance").$shorthand_property_syntax():i)?(h=a,m="",y=p([],{}),_(f,"each_char",[],(s=function(t){var e=s.$$s||this,n=a;return null==t&&(t=a),"."["$==="](n=t)?(e.$yield_buffered_attribute(y,h,m,$),m="",h="role"):"#"["$==="](n)?(e.$yield_buffered_attribute(y,h,m,$),m="",h="id"):"%"["$==="](n)?(e.$yield_buffered_attribute(y,h,m,$),m="",h="option"):m=r(m,t)},s.$$s=u,s.$$arity=1,s)),d(h)?(u.$yield_buffered_attribute(y,h,m,$),d(g=y["$[]"]("style"))&&(v=["style",g],_(n,"[]=",t.to_a(v)),v[e(v.length,1)]),d(y["$key?"]("id"))&&(v=["id",y["$[]"]("id")],_(n,"[]=",t.to_a(v)),v[e(v.length,1)]),d(y["$key?"]("role"))&&(v=["role",d((b=n["$[]"]("role"))["$nil_or_empty?"]())?y["$[]"]("role").$join(" "):b+" "+y["$[]"]("role").$join(" ")],_(n,"[]=",t.to_a(v)),v[e(v.length,1)]),d(y["$key?"]("option"))&&_(y["$[]"]("option"),"each",[],((c=function(r){return c.$$s,null==r&&(r=a),v=[r+"-option",""],_(n,"[]=",t.to_a(v)),v[e(v.length,1)]}).$$s=u,c.$$arity=1,c)),g):(v=["style",f],_(n,"[]=",t.to_a(v)),v[e(v.length,1)])):(v=["style",f],_(n,"[]=",t.to_a(v)),v[e(v.length,1)])},$t.$$arity=-2),t.defs(lt,"$yield_buffered_attribute",it=function(r,n,$,i){var o,s=this,l=a;return d(n)?d($["$empty?"]())?d(i)?s.$logger().$warn(s.$message_with_context("invalid empty "+n+" detected in style attribute",p(["source_location"],{source_location:i.$cursor_at_prev_line()}))):s.$logger().$warn("invalid empty "+n+" detected in style attribute"):n["$=="]("id")?(d(r["$key?"]("id"))&&(d(i)?s.$logger().$warn(s.$message_with_context("multiple ids detected in style attribute",p(["source_location"],{source_location:i.$cursor_at_prev_line()}))):s.$logger().$warn("multiple ids detected in style attribute")),l=[n,$],_(r,"[]=",t.to_a(l)),l[e(l.length,1)]):(d(o=r["$[]"](n))?o:(l=[n,[]],_(r,"[]=",t.to_a(l)),l[e(l.length,1)]))["$<<"]($):d($["$empty?"]())||(l=["style",$],_(r,"[]=",t.to_a(l)),l[e(l.length,1)]),a},it.$$arity=4),t.defs(lt,"$adjust_indentation!",ot=function(o,s,c){var u,p,f,h,m,y,g,v=this,b=a,x=a,k=a;return null==s&&(s=0),null==c&&(c=0),d(o["$empty?"]())?a:(d(d(u=$(c,0))?_(o,"any?",[],((p=function(t){return p.$$s,null==t&&(t=a),t["$include?"](l(ct,"TAB"))}).$$s=v,p.$$arity=1,p)):u)&&(b=i(" ",c),function(){var n=t.new_brk();try{_(o,"map!",[],(f=function(n){var $,o,s,u=f.$$s||this,p=a,h=a,m=a,y=a,g=a;return null==n&&(n=a),d(d($=n["$empty?"]())?$:(p=n.$index(l(ct,"TAB")))["$nil?"]())||p["$=="](0)&&(h=0,function(){var e=t.new_brk();try{_(n,"each_byte",[],((o=function(n){return o.$$s,null==n&&(n=a),n["$=="](9)||t.brk(a,e),h=r(h,1)}).$$s=u,o.$$brk=e,o.$$arity=1,o))}catch(t){if(t===e)return t.$v;throw t}}(),n=""+i(b,h)+n.$slice(h,n.$length()),!d(n["$include?"](l(ct,"TAB"))))?n:(m=0,y=0,g="",_(n,"each_char",[],((s=function(t){s.$$s;var n=a,$=a;return null==t&&(t=a),t["$=="](l(ct,"TAB"))?(n=r(y,m))["$%"](c)["$=="](0)?(m=r(m,e(c,1)),g=r(g,b)):(($=e(c,n["$%"](c)))["$=="](1)||(m=r(m,e($,1))),g=r(g,i(" ",$))):g=r(g,t),y=r(y,1)}).$$s=u,s.$$arity=1,s)),g)},f.$$s=v,f.$$brk=n,f.$$arity=1,f))}catch(t){if(t===n)return t.$v;throw t}}()),d(n(s,0))||(x=a,function(){var r=t.new_brk();try{_(o,"each",[],((h=function($){h.$$s;var i,o=a;return null==$&&($=a),d($["$empty?"]())?a:((o=e($.$length(),$.$lstrip().$length()))["$=="](0)&&(x=a,t.brk(a,r)),d(d(i=x)?n(x,o):i)?a:x=o)}).$$s=v,h.$$brk=r,h.$$arity=1,h))}catch(t){if(t===r)return t.$v;throw t}}(),s["$=="](0)?d(x)&&_(o,"map!",[],((m=function(t){return m.$$s,null==t&&(t=a),d(t["$empty?"]())?t:t.$slice(x,t.$length())}).$$s=v,m.$$arity=1,m)):(k=i(" ",s),d(x)?_(o,"map!",[],((y=function(t){return y.$$s,null==t&&(t=a),d(t["$empty?"]())?t:r(k,t.$slice(x,t.$length()))}).$$s=v,y.$$arity=1,y)):_(o,"map!",[],((g=function(t){return g.$$s,null==t&&(t=a),d(t["$empty?"]())?t:r(k,t)}).$$s=v,g.$$arity=1,g)))),a)},ot.$$arity=-2),t.defs(lt,"$uniform?",at=function(t,e,r){return t.$count(e)["$=="](r)},at.$$arity=3),t.defs(lt,"$sanitize_attribute_name",st=function(t){return t.$gsub(l(ct,"InvalidAttributeNameCharsRx"),"").$downcase()},st.$$arity=1)}(m[0],0,m)}(o[0],o)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,s=t.truthy,l=t.hash2,c=t.send,u=t.gvars;return t.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$extract_uri_prefix","$end_with?","$gsub","$private","$=~"]),function(r,_){var d=[o(r,"Asciidoctor")].concat(_);!function(r,o,_){var d,p,f,h,m,y,g,v,b,x,k,w,E,A,O=a(r,null,"PathResolver"),S=[O].concat(_);O.$$prototype.file_separator=O.$$prototype._partition_path_web=O.$$prototype._partition_path_sys=O.$$prototype.working_dir=n,O.$include(i(S,"Logging")),t.const_set(S[0],"DOT","."),t.const_set(S[0],"DOT_DOT",".."),t.const_set(S[0],"DOT_SLASH","./"),t.const_set(S[0],"SLASH","/"),t.const_set(S[0],"BACKSLASH","\\"),t.const_set(S[0],"DOUBLE_SLASH","//"),t.const_set(S[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),t.def(O,"$initialize",d=function(t,e){var r,i,o=this;return null==t&&(t=n),null==e&&(e=n),o.file_separator=s(r=s(i=t)?i:$($("::","File"),"ALT_SEPARATOR"))?r:$($("::","File"),"SEPARATOR"),o.working_dir=s(e)?s(o["$root?"](e))?o.$posixify(e):$("::","File").$expand_path(e):$("::","Dir").$pwd(),o._partition_path_sys=l([],{}),o._partition_path_web=l([],{})},d.$$arity=-1),t.def(O,"$absolute_path?",p=function(t){var e;return s(e=t["$start_with?"](i(S,"SLASH")))?e:this.file_separator["$=="](i(S,"BACKSLASH"))?i(S,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](i(S,"BACKSLASH"))},p.$$arity=1),s(i(S,"RUBY_ENGINE")["$=="]("opal")?$("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):i(S,"RUBY_ENGINE")["$=="]("opal"))?t.def(O,"$root?",f=function(t){var e;return s(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},f.$$arity=1):t.alias(O,"root?","absolute_path?"),t.def(O,"$unc?",h=function(t){return t["$start_with?"](i(S,"DOUBLE_SLASH"))},h.$$arity=1),t.def(O,"$web_root?",m=function(t){return t["$start_with?"](i(S,"SLASH"))},m.$$arity=1),t.def(O,"$descends_from?",y=function(t,r){var n;return r["$=="](t)?0:r["$=="](i(S,"SLASH"))?s(n=t["$start_with?"](i(S,"SLASH")))?1:n:s(n=t["$start_with?"](e(r,i(S,"SLASH"))))?e(r.$length(),1):n},y.$$arity=2),t.def(O,"$relative_path",g=function(e,r){var $=n;if(!s(this["$root?"](e)))return e;if(s($=this["$descends_from?"](e,r)))return e.$slice($,e.$length());try{return i(S,"Pathname").$new(e).$relative_path_from(i(S,"Pathname").$new(r)).$to_s()}catch(r){if(!t.rescue(r,[i(S,"StandardError")]))throw r;try{return e}finally{t.pop_exception()}}},g.$$arity=2),t.def(O,"$posixify",v=function(t){return s(t)?s(this.file_separator["$=="](i(S,"BACKSLASH"))?t["$include?"](i(S,"BACKSLASH")):this.file_separator["$=="](i(S,"BACKSLASH")))?t.$tr(i(S,"BACKSLASH"),i(S,"SLASH")):t:""},v.$$arity=1),t.alias(O,"posixfy","posixify"),t.def(O,"$expand_path",b=function(e){var r,$,o,a,l,u=this,_=n;return $=u.$partition_path(e),a=null==(r=t.to_ary($))[0]?n:r[0],l=null==r[1]?n:r[1],s(e["$include?"](i(S,"DOT_DOT")))?(_=[],c(a,"each",[],((o=function(t){return o.$$s,null==t&&(t=n),t["$=="](i(S,"DOT_DOT"))?_.$pop():_["$<<"](t)}).$$s=u,o.$$arity=1,o)),u.$join_path(_,l)):u.$join_path(a,l)},b.$$arity=1),t.def(O,"$partition_path",x=function(r,$){var o,a,l,u,_=this,d=n,p=n,f=n,h=n;return null==$&&($=n),s(o=(d=s($)?_._partition_path_web:_._partition_path_sys)["$[]"](r))?o:(p=_.$posixify(r),s($)?s(_["$web_root?"](p))?f=i(S,"SLASH"):s(p["$start_with?"](i(S,"DOT_SLASH")))&&(f=i(S,"DOT_SLASH")):s(_["$root?"](p))?f=s(_["$unc?"](p))?i(S,"DOUBLE_SLASH"):s(p["$start_with?"](i(S,"SLASH")))?i(S,"SLASH"):p.$slice(0,e(p.$index(i(S,"SLASH")),1)):s(p["$start_with?"](i(S,"DOT_SLASH")))&&(f=i(S,"DOT_SLASH")),(h=(s(f)?p.$slice(f.$length(),p.$length()):p).$split(i(S,"SLASH"))).$delete(i(S,"DOT")),a=[r,[h,f]],c(d,"[]=",t.to_a(a)),a[(l=a.length,u=1,"number"==typeof l&&"number"==typeof u?l-u:l["$-"](u))])},x.$$arity=-2),t.def(O,"$join_path",k=function(t,e){return null==e&&(e=n),s(e)?""+e+t.$join(i(S,"SLASH")):t.$join(i(S,"SLASH"))},k.$$arity=-2),t.def(O,"$system_path",w=function(r,o,a,u){var _,d,p,f,h=this,m=n,y=n,g=n,v=n,b=n,x=n,k=n,w=n,E=n,A=n;if(null==o&&(o=n),null==a&&(a=n),null==u&&(u=l([],{})),s(a)&&(s(h["$root?"](a))||h.$raise($("::","SecurityError"),"Jail is not an absolute path: "+a),a=h.$posixify(a)),s(r)){if(s(h["$root?"](r))){if(m=h.$expand_path(r),s(s(_=a)?h["$descends_from?"](m,a)["$!"]():_)){if(s(u.$fetch("recover",!0)))return h.$logger().$warn((s(_=u["$[]"]("target_name"))?_:"path")+" is outside of jail; recovering automatically"),d=h.$partition_path(m),y=null==(_=t.to_ary(d))[0]?n:_[0],d=h.$partition_path(a),_=t.to_ary(d),g=null==_[0]?n:_[0],v=null==_[1]?n:_[1],h.$join_path(e(g,y),v);h.$raise($("::","SecurityError"),(s(_=u["$[]"]("target_name"))?_:"path")+" "+r+" is outside of jail: "+a+" (disallowed in safe mode)")}return m}d=h.$partition_path(r),y=null==(_=t.to_ary(d))[0]?n:_[0]}else y=[];if(s(y["$empty?"]())){if(s(o["$nil_or_empty?"]()))return s(_=a)?_:h.working_dir;if(s(h["$root?"](o))){if(!s(a))return h.$expand_path(o);o=h.$posixify(o)}else d=h.$partition_path(o),y=null==(_=t.to_ary(d))[0]?n:_[0],o=s(_=a)?_:h.working_dir}else s(o["$nil_or_empty?"]())?o=s(_=a)?_:h.working_dir:s(h["$root?"](o))?s(a)&&(o=h.$posixify(o)):o=(s(_=a)?_:h.working_dir).$chomp("/")+"/"+o;return s(s(_=s(d=a)?b=h["$descends_from?"](o,a)["$!"]():d)?h.file_separator["$=="](i(S,"BACKSLASH")):_)?(d=h.$partition_path(o),x=null==(_=t.to_ary(d))[0]?n:_[0],k=null==_[1]?n:_[1],d=h.$partition_path(a),_=t.to_ary(d),g=null==_[0]?n:_[0],v=null==_[1]?n:_[1],s(k["$!="](v))&&(s(u.$fetch("recover",!0))?(h.$logger().$warn("start path for "+(s(_=u["$[]"]("target_name"))?_:"path")+" is outside of jail root; recovering automatically"),x=g,b=!1):h.$raise($("::","SecurityError"),"start path for "+(s(_=u["$[]"]("target_name"))?_:"path")+" "+o+" refers to location outside jail root: "+a+" (disallowed in safe mode)"))):(d=h.$partition_path(o),x=null==(_=t.to_ary(d))[0]?n:_[0],v=null==_[1]?n:_[1]),s((w=e(x,y))["$include?"](i(S,"DOT_DOT")))&&(E=(_=[w,[]])[0],w=_[1],s(a)?(s(g)||(d=h.$partition_path(a),_=t.to_ary(d),g=null==_[0]?n:_[0]),A=!1,c(E,"each",[],(p=function(t){var e,o,l,c=p.$$s||this;return null==t&&(t=n),t["$=="](i(S,"DOT_DOT"))?s((o=w.$size(),l=g.$size(),"number"==typeof o&&"number"==typeof l?o>l:o["$>"](l)))?w.$pop():s(u.$fetch("recover",!0))?s(A)?n:(c.$logger().$warn((s(e=u["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically"),A=!0):c.$raise($("::","SecurityError"),(s(e=u["$[]"]("target_name"))?e:"path")+" "+r+" refers to location outside jail: "+a+" (disallowed in safe mode)"):w["$<<"](t)},p.$$s=h,p.$$arity=1,p))):c(E,"each",[],((f=function(t){return f.$$s,null==t&&(t=n),t["$=="](i(S,"DOT_DOT"))?w.$pop():w["$<<"](t)}).$$s=h,f.$$arity=1,f))),s(b)?(m=h.$join_path(w,v),s(h["$descends_from?"](m,a))?m:s(u.$fetch("recover",!0))?(h.$logger().$warn((s(_=u["$[]"]("target_name"))?_:"path")+" is outside of jail; recovering automatically"),s(g)||(d=h.$partition_path(a),_=t.to_ary(d),g=null==_[0]?n:_[0]),h.$join_path(e(g,y),v)):h.$raise($("::","SecurityError"),(s(_=u["$[]"]("target_name"))?_:"path")+" "+r+" is outside of jail: "+a+" (disallowed in safe mode)")):h.$join_path(w,v)},w.$$arity=-2),t.def(O,"$web_path",E=function(e,r){var $,o,a,l,u=this,_=n,d=n,p=n,f=n;return null==r&&(r=n),e=u.$posixify(e),r=u.$posixify(r),s(s($=r["$nil_or_empty?"]())?$:u["$web_root?"](e))||(o=u.$extract_uri_prefix(""+r+(s(r["$end_with?"](i(S,"SLASH")))?"":i(S,"SLASH"))+e),e=null==($=t.to_ary(o))[0]?n:$[0],_=null==$[1]?n:$[1]),o=u.$partition_path(e,!0),l=null==($=t.to_ary(o))[0]?n:$[0],d=null==$[1]?n:$[1],p=[],c(l,"each",[],((a=function(t){var e;a.$$s;return null==t&&(t=n),t["$=="](i(S,"DOT_DOT"))?s(p["$empty?"]())?s(s(e=d)?d["$!="](i(S,"DOT_SLASH")):e)?n:p["$<<"](t):p["$[]"](-1)["$=="](i(S,"DOT_DOT"))?p["$<<"](t):p.$pop():p["$<<"](t)}).$$s=u,a.$$arity=1,a)),s((f=u.$join_path(p,d))["$include?"](" "))&&(f=f.$gsub(" ","%20")),s(_)?""+_+f:f},E.$$arity=-2),O.$private(),t.def(O,"$extract_uri_prefix",A=function(t){var e;return s(s(e=t["$include?"](":"))?i(S,"UriSniffRx")["$=~"](t):e)?[t.$slice(((e=u["~"])===n?n:e["$[]"](0)).$length(),t.$length()),(e=u["~"])===n?n:e["$[]"](0)]:t},A.$$arity=1)}(d[0],0,d)}(r[0],r)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var i=[],o=t.nil,a=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.hash2,_=t.truthy,d=t.send,p=t.gvars,f=t.hash;return t.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$reverse","$prepare_lines","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$[]","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$pop","$push","$respond_to?","$reverse_each","$new","$tap","$each","$instance_variables","$instance_variable_get","$drop","$instance_variable_set","$class","$object_id","$inspect","$private","$prepare_source_array","$prepare_source_string","$chomp","$valid_encoding?","$to_s","$raise","$to_i","$attributes","$catalog","$pop_include","$parse","$path=","$dup","$end_with?","$keys","$rindex","$rootname","$key?","$attr","$reverse!","$>=","$nil?","$extensions?","$include_processors?","$extensions","$include_processors","$map","$skip_front_matter!","$adjust_indentation!","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$downcase","$error","$none?","$any?","$all?","$strip","$send","$resolve_expr_val","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$info","$parse_attributes","$find","$handles?","$instance","$process_method","$safe","$resolve_include_path","$method","$split_delimited_value","$partition","$<","$to_a","$uniq","$sort","$call","$each_line","$infinite?","$push_include","$delete","$first","$values","$value?","$create_include_cursor","$delete_at","$keep_if","$read","$uriish?","$attr?","$require_library","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_f"]),function(i,h){var m=[l(i,"Asciidoctor")].concat(h);!function($,i,l){var p,f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z=c($,null,"Reader"),Q=[Z].concat(l);Z.$$prototype.file=Z.$$prototype.lines=Z.$$prototype.look_ahead=Z.$$prototype.unescape_next_line=Z.$$prototype.lineno=Z.$$prototype.process_lines=Z.$$prototype.dir=Z.$$prototype.path=Z.$$prototype.mark=Z.$$prototype.source_lines=Z.$$prototype.saved=o,Z.$include(s(Q,"Logging")),function(r,n,$){var i,a,s,l=c(r,null,"Cursor");[l].concat($);l.$$prototype.lineno=l.$$prototype.path=o,l.$attr_reader("file","dir","path","lineno"),t.def(l,"$initialize",i=function(t,e,r,n){var $,i=this;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=1),$=[t,e,r,n],i.file=$[0],i.dir=$[1],i.path=$[2],i.lineno=$[3],$},i.$$arity=-2),t.def(l,"$advance",a=function(t){return this.lineno=e(this.lineno,t)},a.$$arity=1),t.def(l,"$line_info",s=function(){return this.path+": line "+this.lineno},s.$$arity=0),t.alias(l,"to_s","line_info")}(Q[0],0,Q),Z.$attr_reader("file"),Z.$attr_reader("dir"),Z.$attr_reader("path"),Z.$attr_reader("lineno"),Z.$attr_reader("source_lines"),Z.$attr_accessor("process_lines"),Z.$attr_accessor("unterminated"),t.def(Z,"$initialize",p=function(e,r,n){var $,i,s=this;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=u([],{})),_(r["$!"]())?(s.file=o,s.dir=".",s.path="<stdin>",s.lineno=1):_(a("::","String")["$==="](r))?(s.file=r,i=a("::","File").$split(s.file),$=t.to_ary(i),s.dir=null==$[0]?o:$[0],s.path=null==$[1]?o:$[1],s.lineno=1):(_(s.file=r.$file())?(s.dir=_($=r.$dir())?$:a("::","File").$dirname(s.file),s.path=_($=r.$path())?$:a("::","File").$basename(s.file)):(s.dir=_($=r.$dir())?$:".",s.path=_($=r.$path())?$:"<stdin>"),s.lineno=_($=r.$lineno())?$:1),s.lines=(s.source_lines=s.$prepare_lines(e,n)).$reverse(),s.mark=o,s.look_ahead=0,s.process_lines=!0,s.unescape_next_line=!1,s.unterminated=o,s.saved=o},p.$$arity=-1),t.def(Z,"$has_more_lines?",f=function(){return!_(this.lines["$empty?"]())||(this.look_ahead=0,!1)},f.$$arity=0),t.def(Z,"$empty?",h=function(){return!!_(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},h.$$arity=0),t.alias(Z,"eof?","empty?"),t.def(Z,"$next_line_empty?",m=function(){return this.$peek_line()["$nil_or_empty?"]()},m.$$arity=0),t.def(Z,"$peek_line",y=function(t){var e,n=this,$=o;return null==t&&(t=!1),_(_(e=t)?e:r(n.look_ahead,0))?_(n.unescape_next_line)?($=n.lines["$[]"](-1)).$slice(1,$.$length()):n.lines["$[]"](-1):_(n.lines["$empty?"]())?(n.look_ahead=0,o):_(e=n.$process_line(n.lines["$[]"](-1)))?e:n.$peek_line()},y.$$arity=-1),t.def(Z,"$peek_lines",g=function(e,r){var $,i,a,l=this,c=o;return null==e&&(e=o),null==r&&(r=!1),a=l.look_ahead,c=[],function(){var a=t.new_brk();try{d(_($=e)?$:s(Q,"MAX_INT"),"times",[],(i=function(){var e,$=i.$$s||this;if(null==$.lineno&&($.lineno=o),_(e=_(r)?$.$shift():$.$read_line()))return c["$<<"](e);_(r)&&($.lineno=n($.lineno,1)),t.brk(o,a)},i.$$s=l,i.$$brk=a,i.$$arity=0,i))}catch(t){if(t===a)return t.$v;throw t}}(),_(c["$empty?"]())||(l.$unshift_all(c),_(r)&&(l.look_ahead=a)),c},g.$$arity=-1),t.def(Z,"$read_line",v=function(){var t,e=this;return _(_(t=r(e.look_ahead,0))?t:e["$has_more_lines?"]())?e.$shift():o},v.$$arity=0),t.def(Z,"$read_lines",b=function(){var t=o;for(t=[];_(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},b.$$arity=0),t.alias(Z,"readlines","read_lines"),t.def(Z,"$read",x=function(){return this.$read_lines().$join(s(Q,"LF"))},x.$$arity=0),t.def(Z,"$advance",k=function(){return!!_(this.$shift())},k.$$arity=0),t.def(Z,"$unshift_line",w=function(t){return this.$unshift(t),o},w.$$arity=1),t.alias(Z,"restore_line","unshift_line"),t.def(Z,"$unshift_lines",E=function(t){return this.$unshift_all(t)},E.$$arity=1),t.alias(Z,"restore_lines","unshift_lines"),t.def(Z,"$replace_next_line",A=function(t){return this.$shift(),this.$unshift(t),!0},A.$$arity=1),t.alias(Z,"replace_line","replace_next_line"),t.def(Z,"$skip_blank_lines",O=function(){var t=this,r=o,n=o;if(_(t["$empty?"]()))return o;for(r=0;_(n=t.$peek_line());){if(!_(n["$empty?"]()))return r;t.$shift(),r=e(r,1)}},O.$$arity=0),t.def(Z,"$skip_comment_lines",S=function(){var t,e,n,$=this,i=o,a=o;if(_($["$empty?"]()))return o;for(;_(_(t=i=$.$peek_line())?i["$empty?"]()["$!"]():t)&&_(i["$start_with?"]("//"));)if(_(i["$start_with?"]("///"))){if(!_(_(t=r(a=i.$length(),3))?i["$=="]((e="/",n=a,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n))):t))break;$.$read_lines_until(u(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:i,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else $.$shift();return o},S.$$arity=0),t.def(Z,"$skip_line_comments",R=function(){var t,e=this,r=o,n=o;if(_(e["$empty?"]()))return[];for(r=[];_(_(t=n=e.$peek_line())?n["$empty?"]()["$!"]():t)&&_(n["$start_with?"]("//"));)r["$<<"](e.$shift());return r},R.$$arity=0),t.def(Z,"$terminate",C=function(){var t=this;return t.lineno=e(t.lineno,t.lines.$size()),t.lines.$clear(),t.look_ahead=0,o},C.$$arity=0),t.def(Z,"$read_lines_until",I=function(e){var r,$,i,a,l,c,p,f=I.$$p,h=f||o,m=this,y=o,g=o,v=o,b=o,x=o,k=o,w=o,E=o,A=o,O=o,S=o;for(f&&(I.$$p=null),null==e&&(e=u([],{})),y=[],_(_(r=m.process_lines)?e["$[]"]("skip_processing"):r)&&(m.process_lines=!1,g=!0),_(v=e["$[]"]("terminator"))?(b=_(r=e["$[]"]("cursor"))?r:m.$cursor(),x=!1,k=!1):(x=e["$[]"]("break_on_blank_lines"),k=e["$[]"]("break_on_list_continuation")),p=e["$[]"]("skip_line_comments"),w=E=o,_(e["$[]"]("skip_first_line"))&&m.$shift();_(A=m.$read_line());){if(_(_(v)?A["$=="](v):_($=_(i=_(a=x)?A["$empty?"]():a)?i:_(a=_(l=_(c=k)?w:c)?A["$=="](s(Q,"LIST_CONTINUATION")):l)?(O=["preserve_last_line",!0],d(e,"[]=",t.to_a(O)),O[n(O.length,1)]):a)?$:(i=h!==o)?t.yield1(h,A):h!==o)){_(e["$[]"]("read_last_line"))&&y["$<<"](A),_(e["$[]"]("preserve_last_line"))&&(m.$unshift(A),E=!0);break}_(_($=_(i=p)?A["$start_with?"]("//"):i)?A["$start_with?"]("///")["$!"]():$)||(y["$<<"](A),w=!0)}return _(g)&&(m.process_lines=!0,_(_(r=E)?v["$!"]():r)&&(m.look_ahead=n(m.look_ahead,1))),_(_(r=_($=v)?v["$!="](A):$)?S=e.$fetch("context",v):r)&&(b["$=="]("at_mark")&&(b=m.$cursor_at_mark()),m.$logger().$warn(m.$message_with_context("unterminated "+S+" block",u(["source_location"],{source_location:b}))),m.unterminated=!0),y},I.$$arity=-1),t.def(Z,"$shift",T=function(){var t=this;return t.lineno=e(t.lineno,1),t.look_ahead["$=="](0)||(t.look_ahead=n(t.look_ahead,1)),t.lines.$pop()},T.$$arity=0),t.def(Z,"$unshift",L=function(t){var r=this;return r.lineno=n(r.lineno,1),r.look_ahead=e(r.look_ahead,1),r.lines.$push(t),o},L.$$arity=1),a("::","RUBY_ENGINE")["$=="]("jruby")?t.def(Z,"$unshift_all",N=function(r){var $,i=this;return i.lineno=n(i.lineno,r.$size()),i.look_ahead=e(i.look_ahead,r.$size()),_(r["$respond_to?"]("reverse"))?d(i.lines,"push",t.to_a(r.$reverse())):d(r,"reverse_each",[],($=function(t){var e=$.$$s||this;return null==e.lines&&(e.lines=o),null==t&&(t=o),e.lines.$push(t)},$.$$s=i,$.$$arity=1,$)),o},N.$$arity=1):t.def(Z,"$unshift_all",F=function(r){var $=this;return $.lineno=n($.lineno,r.$size()),$.look_ahead=e($.look_ahead,r.$size()),d($.lines,"push",t.to_a(r.$reverse())),o},F.$$arity=1),t.def(Z,"$cursor",D=function(){var t=this;return s(Q,"Cursor").$new(t.file,t.dir,t.path,t.lineno)},D.$$arity=0),t.def(Z,"$cursor_at_line",z=function(t){var e=this;return s(Q,"Cursor").$new(e.file,e.dir,e.path,t)},z.$$arity=1),t.def(Z,"$cursor_at_mark",B=function(){var e=this;return _(e.mark)?d(s(Q,"Cursor"),"new",t.to_a(e.mark)):e.$cursor()},B.$$arity=0),t.def(Z,"$cursor_before_mark",M=function(){var e,r,$=this,i=o,a=o,l=o,c=o;return _($.mark)?(r=$.mark,i=null==(e=t.to_ary(r))[0]?o:e[0],a=null==e[1]?o:e[1],l=null==e[2]?o:e[2],c=null==e[3]?o:e[3],s(Q,"Cursor").$new(i,a,l,n(c,1))):s(Q,"Cursor").$new($.file,$.dir,$.path,n($.lineno,1))},M.$$arity=0),t.def(Z,"$cursor_at_prev_line",j=function(){var t=this;return s(Q,"Cursor").$new(t.file,t.dir,t.path,n(t.lineno,1))},j.$$arity=0),t.def(Z,"$mark",q=function(){var t=this;return t.mark=[t.file,t.dir,t.path,t.lineno]},q.$$arity=0),t.def(Z,"$line_info",P=function(){return this.path+": line "+this.lineno},P.$$arity=0),t.def(Z,"$lines",U=function(){return this.lines.$reverse()},U.$$arity=0),t.def(Z,"$string",H=function(){return this.lines.$reverse().$join(s(Q,"LF"))},H.$$arity=0),t.def(Z,"$source",Y=function(){return this.source_lines.$join(s(Q,"LF"))},Y.$$arity=0),t.def(Z,"$save",G=function(){var e;return this.saved=d(u([],{}),"tap",[],(e=function(r){var $,i=e.$$s||this;return null==r&&(r=o),d(i.$instance_variables(),"each",[],($=function(e){var i,s=$.$$s||this,l=o,c=o;return null==e&&(e=o),_(_(i=e["$=="]("@saved"))?i:e["$=="]("@source_lines"))?o:(l=[e,_(a("::","Array")["$==="](c=s.$instance_variable_get(e)))?c.$drop(0):c],d(r,"[]=",t.to_a(l)),l[n(l.length,1)])},$.$$s=i,$.$$arity=1,$))},e.$$s=this,e.$$arity=1,e)),o},G.$$arity=0),t.def(Z,"$restore_save",W=function(){var t,e=this;return _(e.saved)?(d(e.saved,"each",[],(t=function(e,r){var n=t.$$s||this;return null==e&&(e=o),null==r&&(r=o),n.$instance_variable_set(e,r)},t.$$s=e,t.$$arity=2,t)),e.saved=o):o},W.$$arity=0),t.def(Z,"$discard_save",X=function(){return this.saved=o},X.$$arity=0),t.def(Z,"$to_s",K=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {path: "+t.path.$inspect()+", line: "+t.lineno+"}>"},K.$$arity=0),Z.$private(),t.def(Z,"$prepare_lines",V=function(e,r){var n=o;null==r&&(r=u([],{}));try{return _(n=r["$[]"]("normalize"))?_(a("::","Array")["$==="](e))?s(Q,"Helpers").$prepare_source_array(e,n["$!="]("chomp")):s(Q,"Helpers").$prepare_source_string(e,n["$!="]("chomp")):_(a("::","Array")["$==="](e))?e.$drop(0):_(e)?e.$chomp().$split(s(Q,"LF"),-1):[]}catch(r){if(!t.rescue(r,[s(Q,"StandardError")]))throw r;try{return _((_(a("::","Array")["$==="](e))?e.$join():e.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(a("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{t.pop_exception()}}},V.$$arity=-2),t.def(Z,"$process_line",J=function(t){var r=this;return _(r.process_lines)&&(r.look_ahead=e(r.look_ahead,1)),t},J.$$arity=1)}(m[0],0,m),function(i,l,h){var m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z=c(i,l,"PreprocessorReader"),B=[z].concat(h);z.$$prototype.include_stack=z.$$prototype.lines=z.$$prototype.file=z.$$prototype.dir=z.$$prototype.path=z.$$prototype.lineno=z.$$prototype.maxdepth=z.$$prototype.process_lines=z.$$prototype.includes=z.$$prototype.document=z.$$prototype.unescape_next_line=z.$$prototype.include_processor_extensions=z.$$prototype.look_ahead=z.$$prototype.skipping=z.$$prototype.conditional_stack=o,z.$attr_reader("include_stack"),t.def(z,"$initialize",m=function(e,n,$,i){var a,s,l=m.$$p,c=this;return l&&(m.$$p=null),null==n&&(n=o),null==$&&($=o),null==i&&(i=u([],{})),c.document=e,d(c,t.find_super_dispatcher(c,"initialize",m,!1),[n,$,i],null),_(r(s=(_(a=e.$attributes()["$[]"]("max-include-depth"))?a:64).$to_i(),0))?c.maxdepth=u(["abs","curr","rel"],{abs:s,curr:s,rel:s}):c.maxdepth=o,c.include_stack=[],c.includes=e.$catalog()["$[]"]("includes"),c.skipping=!1,c.conditional_stack=[],c.include_processor_extensions=o},m.$$arity=-2),t.def(z,"$has_more_lines?",y=function(){return!!_(this.$peek_line())},y.$$arity=0),t.def(z,"$empty?",g=function(){return!_(this.$peek_line())},g.$$arity=0),t.alias(z,"eof?","empty?"),t.def(z,"$peek_line",v=function(e){var r=v.$$p,n=this,$=o,i=o,a=o,s=o;for(r&&(v.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return null==e&&(e=!1),_($=d(n,t.find_super_dispatcher(n,"peek_line",v,!1),i,r))?$:_(n.include_stack["$empty?"]())?o:(n.$pop_include(),n.$peek_line(e))},v.$$arity=-1),t.def(z,"$push_include",b=function($,i,l,c,p){var f,h=this,m=o,y=o,g=o,v=o,b=o,x=o;return null==i&&(i=o),null==l&&(l=o),null==c&&(c=1),null==p&&(p=u([],{})),h.include_stack["$<<"]([h.lines,h.file,h.dir,h.path,h.lineno,h.maxdepth,h.process_lines]),_(h.file=i)?(_(a("::","String")["$==="](i))?h.dir=a("::","File").$dirname(i):_(s(B,"RUBY_ENGINE_OPAL"))?h.dir=a("::","URI").$parse(a("::","File").$dirname(i=i.$to_s())):(m=[(y=a("::","File").$dirname(i.$path()))["$=="]("/")?"":y],d(h.dir=i.$dup(),"path=",t.to_a(m)),m[n(m.length,1)],i=i.$to_s()),h.path=l=_(f=l)?f:a("::","File").$basename(i),_(h.process_lines=d(i,"end_with?",t.to_a(s(B,"ASCIIDOC_EXTENSIONS").$keys())))&&(m=[l.$slice(0,l.$rindex(".")),!_(p["$[]"]("partial-option"))||o],d(h.includes,"[]=",t.to_a(m)),m[n(m.length,1)])):(h.dir=".",h.process_lines=!0,_(h.path=l)?(m=[s(B,"Helpers").$rootname(l),!_(p["$[]"]("partial-option"))||o],d(h.includes,"[]=",t.to_a(m)),m[n(m.length,1)]):h.path="<stdin>"),h.lineno=c,_(_(f=h.maxdepth)?p["$key?"]("depth"):f)&&(_(r(g=p["$[]"]("depth").$to_i(),0))?(_(r(v=e(h.include_stack.$size(),g),b=h.maxdepth["$[]"]("abs")))&&(v=g=b),h.maxdepth=u(["abs","curr","rel"],{abs:b,curr:v,rel:g})):h.maxdepth=u(["abs","curr","rel"],{abs:h.maxdepth["$[]"]("abs"),curr:h.include_stack.$size(),rel:0})),_((h.lines=h.$prepare_lines($,u(["normalize","condense","indent"],{normalize:_(f=h.process_lines)?f:"chomp",condense:!1,indent:p["$[]"]("indent")})))["$empty?"]())?h.$pop_include():(_(p["$key?"]("leveloffset"))?(h.lines=e(e([_(x=h.document.$attr("leveloffset"))?":leveloffset: "+x:":leveloffset!:",""],h.lines.$reverse()),["",":leveloffset: "+p["$[]"]("leveloffset")]),h.lineno=n(h.lineno,2)):h.lines["$reverse!"](),h.look_ahead=0),h},b.$$arity=-2),t.def(z,"$include_depth",x=function(){return this.include_stack.$size()},x.$$arity=0),t.def(z,"$exceeds_max_depth?",k=function(){var t,e,r=this;return _(t=_(e=r.maxdepth)?$(r.include_stack.$size(),r.maxdepth["$[]"]("curr")):e)?r.maxdepth["$[]"]("rel"):t},k.$$arity=0),t.alias(z,"exceeded_max_depth?","exceeds_max_depth?"),t.def(z,"$shift",w=function(){var e=w.$$p,r=this,n=o,$=o,i=o,a=o;for(e&&(w.$$p=null),i=0,a=arguments.length,$=new Array(a);i<a;i++)$[i]=arguments[i];return _(r.unescape_next_line)?(r.unescape_next_line=!1,(n=d(r,t.find_super_dispatcher(r,"shift",w,!1),$,e)).$slice(1,n.$length())):d(r,t.find_super_dispatcher(r,"shift",w,!1),$,e)},w.$$arity=0),t.def(z,"$include_processors?",E=function(){var t,e=this;return _(e.include_processor_extensions["$nil?"]())?_(_(t=e.document["$extensions?"]())?e.document.$extensions()["$include_processors?"]():t)?(e.include_processor_extensions=e.document.$extensions().$include_processors())["$!"]()["$!"]():e.include_processor_extensions=!1:e.include_processor_extensions["$!="](!1)},E.$$arity=0),t.def(z,"$create_include_cursor",A=function(t,e,r){var n=o;return _(a("::","String")["$==="](t))?n=a("::","File").$dirname(t):_(s(B,"RUBY_ENGINE_OPAL"))?n=a("::","File").$dirname(t=t.$to_s()):(n=(n=a("::","File").$dirname(t.$path()))["$=="]("")?"/":n,t=t.$to_s()),s(B,"Cursor").$new(t,n,e,r)},A.$$arity=3),t.def(z,"$to_s",O=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+d(e.include_stack,"map",[],(t=function(e){return t.$$s,null==e&&(e=o),e.$to_s()},t.$$s=e,t.$$arity=1,t)).$join(", ")+"]}>"},O.$$arity=0),z.$private(),t.def(z,"$prepare_lines",S=function(e,r){var $,i,a=S.$$p,l=this,c=o,p=o,f=o,h=o,m=o,y=o,g=o;for(a&&(S.$$p=null),y=0,g=arguments.length,m=new Array(g);y<g;y++)m[y]=arguments[y];if(null==r&&(r=u([],{})),c=d(l,t.find_super_dispatcher(l,"prepare_lines",S,!1),m,a),_(_($=_(i=l.document)?l.document.$attributes()["$[]"]("skip-front-matter"):i)?p=l["$skip_front_matter!"](c):$)&&(f=["front-matter",p.$join(s(B,"LF"))],d(l.document.$attributes(),"[]=",t.to_a(f)),f[n(f.length,1)]),_(r.$fetch("condense",!0)))for(;_(_(i=h=c["$[]"](-1))?h["$empty?"]():i);)c.$pop();return _(r["$[]"]("indent"))&&s(B,"Parser")["$adjust_indentation!"](c,r["$[]"]("indent").$to_i(),l.document.$attr("tabsize").$to_i()),c},S.$$arity=-2),t.def(z,"$process_line",R=function(t){var r,n,$=this;return _($.process_lines)?_(t["$empty?"]())?($.look_ahead=e($.look_ahead,1),t):_(_(r=_(n=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():n)?t["$include?"]("::"):r)?_(_(r=t["$include?"]("if"))?s(B,"ConditionalDirectiveRx")["$=~"](t):r)?((r=p["~"])===o?o:r["$[]"](1))["$=="]("\\")?($.unescape_next_line=!0,$.look_ahead=e($.look_ahead,1),t.$slice(1,t.$length())):_($.$preprocess_conditional_directive((r=p["~"])===o?o:r["$[]"](2),(r=p["~"])===o?o:r["$[]"](3),(r=p["~"])===o?o:r["$[]"](4),(r=p["~"])===o?o:r["$[]"](5)))?($.$shift(),o):($.look_ahead=e($.look_ahead,1),t):_($.skipping)?($.$shift(),o):_(_(r=t["$start_with?"]("inc","\\inc"))?s(B,"IncludeDirectiveRx")["$=~"](t):r)?((r=p["~"])===o?o:r["$[]"](1))["$=="]("\\")?($.unescape_next_line=!0,$.look_ahead=e($.look_ahead,1),t.$slice(1,t.$length())):_($.$preprocess_include_directive((r=p["~"])===o?o:r["$[]"](2),(r=p["~"])===o?o:r["$[]"](3)))?o:($.look_ahead=e($.look_ahead,1),t):($.look_ahead=e($.look_ahead,1),t):_($.skipping)?($.$shift(),o):($.look_ahead=e($.look_ahead,1),t):t},R.$$arity=1),t.def(z,"$preprocess_conditional_directive",C=function(e,r,$,i){var a,l,c,f,h,m,y=this,g=o,v=o,b=o,x=o,k=o,w=o;if(_(m=r["$empty?"]())||(r=r.$downcase()),e["$=="]("endif"))return _(i)?y.$logger().$error(y.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+r+"["+i+"]",u(["source_location"],{source_location:y.$cursor()}))):_(y.conditional_stack["$empty?"]())?y.$logger().$error(y.$message_with_context("unmatched preprocessor directive: endif::"+r+"[]",u(["source_location"],{source_location:y.$cursor()}))):_(_(a=m)?a:r["$=="]((g=y.conditional_stack["$[]"](-1))["$[]"]("target")))?(y.conditional_stack.$pop(),y.skipping=!_(y.conditional_stack["$empty?"]())&&y.conditional_stack["$[]"](-1)["$[]"]("skipping")):y.$logger().$error(y.$message_with_context("mismatched preprocessor directive: endif::"+r+"[], expected endif::"+g["$[]"]("target")+"[]",u(["source_location"],{source_location:y.$cursor()}))),!0;if(_(y.skipping))v=!1;else if("ifdef"["$==="](b=e)){if(_(m))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+i+"]",u(["source_location"],{source_location:y.$cursor()}))),!0;v=","["$==="](b=$)?d(r.$split(",",-1),"none?",[],(l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)},l.$$s=y,l.$$arity=1,l)):"+"["$==="](b)?d(r.$split("+",-1),"any?",[],(c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)["$!"]()},c.$$s=y,c.$$arity=1,c)):y.document.$attributes()["$key?"](r)["$!"]()}else if("ifndef"["$==="](b)){if(_(m))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+i+"]",u(["source_location"],{source_location:y.$cursor()}))),!0;v=","["$==="](b=$)?d(r.$split(",",-1),"any?",[],(f=function(t){var e=f.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)},f.$$s=y,f.$$arity=1,f)):"+"["$==="](b)?d(r.$split("+",-1),"all?",[],(h=function(t){var e=h.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)},h.$$s=y,h.$$arity=1,h)):y.document.$attributes()["$key?"](r)}else if("ifeval"["$==="](b)){if(!_(m))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+r+"["+i+"]",u(["source_location"],{source_location:y.$cursor()}))),!0;if(!_(_(a=i)?s(B,"EvalExpressionRx")["$=~"](i.$strip()):a))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - "+(_(i)?"invalid expression":"missing expression")+": ifeval::["+i+"]",u(["source_location"],{source_location:y.$cursor()}))),!0;x=(a=p["~"])===o?o:a["$[]"](1),k=(a=p["~"])===o?o:a["$[]"](2),w=(a=p["~"])===o?o:a["$[]"](3),v=function(){try{return!_(y.$resolve_expr_val(x).$send(k,y.$resolve_expr_val(w)))}catch(e){if(!t.rescue(e,[s(B,"StandardError")]))throw e;try{return!0}finally{t.pop_exception()}}}()}return _(_(a=e["$=="]("ifeval"))?a:i["$!"]())?(_(v)&&(y.skipping=!0),y.conditional_stack["$<<"](u(["target","skip","skipping"],{target:r,skip:v,skipping:y.skipping}))):_(_(a=y.skipping)?a:v)||(y.$replace_next_line(i.$rstrip()),y.$unshift(""),_(i["$start_with?"]("include::"))&&(y.look_ahead=n(y.look_ahead,1))),!0},C.$$arity=4),t.def(z,"$preprocess_include_directive",I=function(i,l){var c,h,m,y,g,v,b,x,k,w,E,A,O=this,S=o,R=o,C=o,I=o,T=o,L=o,N=o,F=o,D=o,z=o,M=o,j=o,q=o,P=o,U=o,H=o,Y=o,G=o,W=o,X=o,K=o,V=o,J=o,Z=o,Q=o,tt=o,et=o,rt=o;if(S=O.document,_(_(c=(R=i)["$include?"](s(B,"ATTR_REF_HEAD")))?(R=S.$sub_attributes(i,u(["attribute_missing"],{attribute_missing:(C=_(h=S.$attributes()["$[]"]("attribute-missing"))?h:s(B,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":C})))["$empty?"]():c))return _((c=C["$=="]("drop-line"))?S.$sub_attributes(e(i," "),u(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("drop-line"))?(d(O.$logger(),"info",[],(m=function(){var t=m.$$s||this;return t.$message_with_context("include dropped due to missing attribute: include::"+i+"["+l+"]",u(["source_location"],{source_location:t.$cursor()}))},m.$$s=O,m.$$arity=0,m)),O.$shift(),!0):_(S.$parse_attributes(l,[],u(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(d(O.$logger(),"info",[],(y=function(){var t=y.$$s||this;return t.$message_with_context("optional include dropped "+(_(C["$=="]("warn")?S.$sub_attributes(e(i," "),u(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+i+"["+l+"]",u(["source_location"],{source_location:t.$cursor()}))},y.$$s=O,y.$$arity=0,y)),O.$shift(),!0):(O.$logger().$warn(O.$message_with_context("include dropped "+(_((c=C["$=="]("warn"))?S.$sub_attributes(e(i," "),u(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+i+"["+l+"]",u(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+i+"["+l+"]"));if(_(_(c=O["$include_processors?"]())?I=d(O.include_processor_extensions,"find",[],((g=function(t){return g.$$s,null==t&&(t=o),t.$instance()["$handles?"](R)}).$$s=O,g.$$arity=1,g)):c))return O.$shift(),I.$process_method()["$[]"](S,O,R,S.$parse_attributes(l,[],u(["sub_input"],{sub_input:!0}))),!0;if(_($(S.$safe(),a(s(B,"SafeMode"),"SECURE"))))return O.$replace_next_line("link:"+R+"[]");if(_(O.maxdepth)){if(_($(O.include_stack.$size(),O.maxdepth["$[]"]("curr"))))return O.$logger().$error(O.$message_with_context("maximum include depth of "+O.maxdepth["$[]"]("rel")+" exceeded",u(["source_location"],{source_location:O.$cursor()}))),o;if(T=S.$parse_attributes(l,[],u(["sub_input"],{sub_input:!0})),h=O.$resolve_include_path(R,l,T),c=t.to_ary(h),L=null==c[0]?o:c[0],N=null==c[1]?o:c[1],F=null==c[2]?o:c[2],"file"["$==="](D=N))z=a("::","File").$method("open"),M=s(B,"FILE_READ_MODE");else{if(!"uri"["$==="](D))return L;z=a("::","OpenURI").$method("open_uri"),M=s(B,"URI_READ_MODE")}if(_(s(B,"RUBY_ENGINE_OPAL"))||_(_(c=j=T["$[]"]("encoding"))?function(){try{return a("::","Encoding").$find(j)}catch(e){if(!t.rescue(e,[s(B,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}():c)&&(q=[1,j],d(P=M.$split(":"),"[]=",t.to_a(q)),q[n(q.length,1)],M=P.$join(":")),U=H=o,_(l)&&(_(T["$key?"]("lines"))?(U=[],d(O.$split_delimited_value(T["$[]"]("lines")),"each",[],((v=function(r){v.$$s;var n,$,i,s,l=o,c=o;return null==r&&(r=o),_(r["$include?"](".."))?($=r.$partition(".."),n=t.to_ary($),l=null==n[0]?o:n[0],null==n[1]?o:n[1],c=null==n[2]?o:n[2],U=e(U,_(_(n=c["$empty?"]())?n:(i=c=c.$to_i(),s=0,"number"==typeof i&&"number"==typeof s?i<s:i["$<"](s)))?[l.$to_i(),a(a("::","Float"),"INFINITY")]:t.Range.$new(l.$to_i(),c,!1).$to_a())):U["$<<"](r.$to_i())}).$$s=O,v.$$arity=1,v)),U=_(U["$empty?"]())?o:U.$sort().$uniq()):_(T["$key?"]("tag"))?_(_(c=(Y=T["$[]"]("tag"))["$empty?"]())?c:Y["$=="]("!"))||(H=_(Y["$start_with?"]("!"))?f(Y.$slice(1,Y.$length()),!1):f(Y,!0)):_(T["$key?"]("tags"))&&(H=u([],{}),d(O.$split_delimited_value(T["$[]"]("tags")),"each",[],((b=function(e){var r;b.$$s;return null==e&&(e=o),_(_(r=e["$empty?"]())?r:e["$=="]("!"))?o:_(e["$start_with?"]("!"))?(q=[e.$slice(1,e.$length()),!1],d(H,"[]=",t.to_a(q)),q[n(q.length,1)]):(q=[e,!0],d(H,"[]=",t.to_a(q)),q[n(q.length,1)])}).$$s=O,b.$$arity=1,b)),_(H["$empty?"]())&&(H=o))),_(U)){G=(c=[[],o,0])[0],W=c[1],X=c[2];try{!function(){var r=t.new_brk();try{d(z,"call",[L,M],(x=function(r){var n,$=x.$$s||this,i=o;return null==r&&(r=o),i=o,function(){var s=t.new_brk();try{return d(r,"each_line",[],(n=function(r){n.$$s;var $,l,c=o;return null==r&&(r=o),X=e(X,1),_(_($=i)?$:_(l=a("::","Float")["$==="](c=U["$[]"](0)))?i=c["$infinite?"]():l)?(W=_($=W)?$:X,G["$<<"](r)):(c["$=="](X)&&(W=_($=W)?$:X,G["$<<"](r),U.$shift()),_(U["$empty?"]())?void t.brk(o,s):o)},n.$$s=$,n.$$brk=s,n.$$arity=1,n))}catch(t){if(t===s)return t.$v;throw t}}()},x.$$s=O,x.$$brk=r,x.$$arity=1,x))}catch(t){if(t===r)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[s(B,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+N+" not readable: "+L,u(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+l+"]")}finally{t.pop_exception()}}O.$shift(),_(W)&&(q=["partial-option",""],d(T,"[]=",t.to_a(q)),q[n(q.length,1)],O.$push_include(G,L,F,W,T))}else if(_(H)){c=[[],o,0,[],a("::","Set").$new(),o],G=c[0],W=c[1],X=c[2],K=c[3],V=c[4],J=c[5],_(H["$key?"]("**"))?(Z=Q=H.$delete("**"),_(H["$key?"]("*"))?tt=H.$delete("*"):_(_(c=Z["$!"]())?H.$values().$first()["$=="](!1):c)&&(tt=!0)):_(H["$key?"]("*"))?H.$keys().$first()["$=="]("*")?Z=Q=(tt=H.$delete("*"))["$!"]():(Z=Q=!1,tt=H.$delete("*")):Z=Q=H["$value?"](!0)["$!"]();try{d(z,"call",[L,M],(k=function(r){var n,$,i,a,l=k.$$s||this;return null==r&&(r=o),i=(n=["::","[]"])[0],a=n[1],d(r,"each_line",[],($=function(r){var n,l,c,f=$.$$s||this,h=o,m=o,y=o;return null==r&&(r=o),X=e(X,1),_(_(n=_(l=r["$include?"](i))?r["$include?"](a):l)?s(B,"TagDirectiveRx")["$=~"](r):n)?(h=(n=p["~"])===o?o:n["$[]"](2),_((n=p["~"])===o?o:n["$[]"](1))?h["$=="](J)?(K.$pop(),l=_(K["$empty?"]())?[o,Q]:K["$[]"](-1),n=t.to_ary(l),J=null==n[0]?o:n[0],Z=null==n[1]?o:n[1],l):_(H["$key?"](h))?(m=f.$create_include_cursor(L,R,X),_(y=d(K,"rindex",[],((c=function(t){return c.$$s,null==t&&(t=o),t["$=="](h)}).$$s=f,c.$$arity=1,c.$$has_trailing_comma_in_args=!0,c)))?(y["$=="](0)?K.$shift():K.$delete_at(y),f.$logger().$warn(f.$message_with_context("mismatched end tag (expected '"+J+"' but found '"+h+"') at line "+X+" of include "+N+": "+L,u(["source_location","include_location"],{source_location:f.$cursor(),include_location:m})))):f.$logger().$warn(f.$message_with_context("unexpected end tag '"+h+"' at line "+X+" of include "+N+": "+L,u(["source_location","include_location"],{source_location:f.$cursor(),include_location:m})))):o:_(H["$key?"](h))?(_(Z=H["$[]"](h))&&V["$<<"](h),K["$<<"]([J=h,Z,X])):_(tt["$nil?"]()["$!"]())?(Z=!_(_(n=J)?Z["$!"]():n)&&tt,K["$<<"]([J=h,Z,X])):o):_(Z)?(W=_(n=W)?n:X,G["$<<"](r)):o},$.$$s=l,$.$$arity=1,$))},k.$$s=O,k.$$arity=1,k))}catch(e){if(!t.rescue(e,[s(B,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+N+" not readable: "+L,u(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+l+"]")}finally{t.pop_exception()}}_(K["$empty?"]())||d(K,"each",[],(w=function(t,e,r){var n=w.$$s||this;return null==t&&(t=o),null==e&&(e=o),null==r&&(r=o),n.$logger().$warn(n.$message_with_context("detected unclosed tag '"+t+"' starting at line "+r+" of include "+N+": "+L,u(["source_location","include_location"],{source_location:n.$cursor(),include_location:n.$create_include_cursor(L,R,r)})))},w.$$s=O,w.$$arity=3,w)),_((et=n(d(H,"keep_if",[],(E=function(t,e){return E.$$s,null==t&&(t=o),null==e&&(e=o),e},E.$$s=O,E.$$arity=2,E)).$keys(),V.$to_a()))["$empty?"]())||O.$logger().$warn(O.$message_with_context("tag"+(_(r(et.$size(),1))?"s":"")+" '"+et.$join(", ")+"' not found in include "+N+": "+L,u(["source_location"],{source_location:O.$cursor()}))),O.$shift(),_(W)&&(_(_(c=_(h=Q)?tt["$!="](!1):h)?H["$empty?"]():c)||(q=["partial-option",""],d(T,"[]=",t.to_a(q)),q[n(q.length,1)]),O.$push_include(G,L,F,W,T))}else try{rt=d(z,"call",[L,M],((A=function(t){return A.$$s,null==t&&(t=o),t.$read()}).$$s=O,A.$$arity=1,A)),O.$shift(),O.$push_include(rt,L,F,1,T)}catch(e){if(!t.rescue(e,[s(B,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+N+" not readable: "+L,u(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+l+"]")}finally{t.pop_exception()}}return!0}return o},I.$$arity=2),t.def(z,"$resolve_include_path",T=function(t,e,r){var n,$,i,l=this,c=o,p=o,f=o;return c=l.document,_(_(n=s(B,"Helpers")["$uriish?"](t))?n:_(a("::","String")["$==="](l.dir))?o:t=l.dir+"/"+t)?_(c["$attr?"]("allow-uri-read"))?(_(c["$attr?"]("cache-uri"))?_(($=a("::","OpenURI","skip_raise"))&&(n=a($,"Cache","skip_raise"))?"constant":o)||s(B,"Helpers").$require_library("open-uri/cached","open-uri-cached"):_(s(B,"RUBY_ENGINE_OPAL")["$!"]())&&a("::","OpenURI"),[a("::","URI").$parse(t),"uri",t]):l.$replace_next_line("link:"+t+"["+e+"]"):(p=c.$normalize_system_path(t,l.dir,o,u(["target_name"],{target_name:"include file"})),_(a("::","File")["$file?"](p))?(f=c.$path_resolver().$relative_path(p,c.$base_dir()),[p,"file",f]):_(r["$[]"]("optional-option"))?(d(l.$logger(),"info",[],(i=function(){var t=i.$$s||this;return t.$message_with_context("optional include dropped because include file not found: "+p,u(["source_location"],{source_location:t.$cursor()}))},i.$$s=l,i.$$arity=0,i)),l.$shift(),!0):(l.$logger().$error(l.$message_with_context("include file not found: "+p,u(["source_location"],{source_location:l.$cursor()}))),l.$replace_next_line("Unresolved directive in "+l.path+" - include::"+t+"["+e+"]")))},T.$$arity=3),t.def(z,"$pop_include",L=function(){var e,r,n=this;return _(n.include_stack["$empty?"]())||(r=n.include_stack.$pop(),e=t.to_ary(r),n.lines=null==e[0]?o:e[0],n.file=null==e[1]?o:e[1],n.dir=null==e[2]?o:e[2],n.path=null==e[3]?o:e[3],n.lineno=null==e[4]?o:e[4],n.maxdepth=null==e[5]?o:e[5],n.process_lines=null==e[6]?o:e[6],n.look_ahead=0),o},L.$$arity=0),t.def(z,"$split_delimited_value",N=function(t){return _(t["$include?"](","))?t.$split(","):t.$split(";")},N.$$arity=1),t.def(z,"$skip_front_matter!",F=function(r,n){var $,i=this,a=o,s=o;if(null==n&&(n=!0),a=o,r["$[]"](0)["$=="]("---")){for(s=r.$drop(0),r.$shift(),a=[],_(n)&&(i.lineno=e(i.lineno,1));_(_($=r["$empty?"]()["$!"]())?r["$[]"](0)["$!="]("---"):$);)a["$<<"](r.$shift()),_(n)&&(i.lineno=e(i.lineno,1));_(r["$empty?"]())?(d(r,"unshift",t.to_a(s)),_(n)&&(i.lineno=0),a=o):(r.$shift(),_(n)&&(i.lineno=e(i.lineno,1)))}return a},F.$$arity=-2),t.def(z,"$resolve_expr_val",D=function(t){var e,r,$=o;return _(_(e=_(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:_(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?($=!0,t=t.$slice(1,n(t.$length(),1))):$=!1,_(t["$include?"](s(B,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,u(["attribute_missing"],{attribute_missing:"drop"}))),_($)?t:_(t["$empty?"]())?o:!!t["$=="]("true")||!t["$=="]("false")&&(_(t.$rstrip()["$empty?"]())?" ":_(t["$include?"]("."))?t.$to_f():t.$to_i())},D.$$arity=1)}(m[0],s(m,"Reader"),m)}(i[0],i)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var n=[],$=t.nil,i=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module),a=t.klass,s=t.hash2,l=t.send,c=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$>","$==","$sectnum","$reftext","$!","$empty?","$sub_placeholder","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),function(n,u){var _=[o(n,"Asciidoctor")].concat(u);!function(n,o,u){var _,d,p,f,h,m,y,g,v=a(n,o,"Section"),b=[v].concat(u);v.$$prototype.document=v.$$prototype.next_section_index=v.$$prototype.level=v.$$prototype.parent=v.$$prototype.numeral=v.$$prototype.numbered=v.$$prototype.sectname=v.$$prototype.title=v.$$prototype.blocks=$,v.$attr_accessor("index"),v.$attr_accessor("sectname"),v.$attr_accessor("special"),v.$attr_accessor("numbered"),v.$attr_reader("caption"),t.def(v,"$initialize",_=function(r,n,o,a){var u,d,p=this;return _.$$p&&(_.$$p=null),null==r&&(r=$),null==n&&(n=$),null==o&&(o=!1),null==a&&(a=s([],{})),l(p,t.find_super_dispatcher(p,"initialize",_,!1),[r,"section",a],null),c(i(b,"Section")["$==="](r))?(u=[c(d=n)?d:e(r.$level(),1),r.$special()],p.level=u[0],p.special=u[1]):(u=[c(d=n)?d:1,!1],p.level=u[0],p.special=u[1]),p.numbered=o,p.index=0},_.$$arity=-1),t.alias(v,"name","title"),t.def(v,"$generate_id",d=function(){return i(b,"Section").$generate_id(this.$title(),this.document)},d.$$arity=0),t.def(v,"$sections?",p=function(){return r(this.next_section_index,0)},p.$$arity=0),t.def(v,"$sectnum",f=function(t,e){var n,o=this;return null==t&&(t="."),null==e&&(e=$),e=c(n=e)?n:e["$=="](!1)?"":t,c(c(n=r(o.level,1))?i(b,"Section")["$==="](o.parent):n)?""+o.parent.$sectnum(t,t)+o.numeral+e:""+o.numeral+e},f.$$arity=-1),t.def(v,"$xreftext",h=function(t){var e,r=this,n=$,i=$,o=$,a=$,s=$;return null==t&&(t=$),c(c(e=n=r.$reftext())?n["$empty?"]()["$!"]():e)?n:c(t)?c(r.numbered)?"full"["$==="](i=t)?(a=c(c(e=(o=r.sectname)["$=="]("chapter"))?e:o["$=="]("appendix"))?r.$sub_placeholder(r.$sub_quotes("_%s_"),r.$title()):r.$sub_placeholder(r.$sub_quotes(c(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),c(s=r.document.$attributes()["$[]"](o+"-refsig"))?s+" "+r.$sectnum(".",",")+" "+a:r.$sectnum(".",",")+" "+a):"short"["$==="](i)?c(s=r.document.$attributes()["$[]"](r.sectname+"-refsig"))?s+" "+r.$sectnum(".",""):r.$sectnum(".",""):c(c(e=(o=r.sectname)["$=="]("chapter"))?e:o["$=="]("appendix"))?r.$sub_placeholder(r.$sub_quotes("_%s_"),r.$title()):r.$title():c(c(e=(o=r.sectname)["$=="]("chapter"))?e:o["$=="]("appendix"))?r.$sub_placeholder(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title()},h.$$arity=-1),t.def(v,"$<<",m=function(e){var r=m.$$p,n=this,i=$,o=$,a=$;for(r&&(m.$$p=null),o=0,a=arguments.length,i=new Array(a);o<a;o++)i[o]=arguments[o];return e.$context()["$=="]("section")&&n.$assign_numeral(e),l(n,t.find_super_dispatcher(n,"<<",m,!1),i,r)},m.$$arity=1),t.def(v,"$to_s",y=function(){var e=y.$$p,r=this,n=$,i=$,o=$,a=$;for(e&&(y.$$p=null),o=0,a=arguments.length,i=new Array(a);o<a;o++)i[o]=arguments[o];return c(r.title)?(n=c(r.numbered)?r.$sectnum()+" "+r.title:r.title,"#<"+r.$class()+"@"+r.$object_id()+" {level: "+r.level+", title: "+n.$inspect()+", blocks: "+r.blocks.$size()+"}>"):l(r,t.find_super_dispatcher(r,"to_s",y,!1),i,e)},y.$$arity=0),t.defs(v,"$generate_id",g=function(r,n){var o,a,s,u,_=$,d=$,p=$,f=$,h=$,m=$,y=$,g=$,v=$,x=$;if(_=n.$attributes(),d=c(o=_["$[]"]("idprefix"))?o:"_",c(p=_["$[]"]("idseparator"))?c(c(o=p.$length()["$=="](1))?o:c(a=(f=p["$empty?"]())["$!"]())?(h=["idseparator",p.$chr()],l(_,"[]=",t.to_a(h)),p=h[(s=h.length,u=1,"number"==typeof s&&"number"==typeof u?s-u:s["$-"](u))]):a)&&(m=c(c(o=p["$=="]("-"))?o:p["$=="]("."))?" .-":" "+p+".-"):(p=(o=["_"," _.-"])[0],m=o[1]),y=""+d+r.$downcase().$gsub(i(b,"InvalidSectionIdCharsRx"),""),c(f)?y=y.$delete(" "):(y=y.$tr_s(m,p),c(y["$end_with?"](p))&&(y=y.$chop()),c(c(o=d["$empty?"]())?y["$start_with?"](p):o)&&(y=y.$slice(1,y.$length()))),c(n.$catalog()["$[]"]("refs")["$key?"](y))){for(g=n.$catalog()["$[]"]("refs"),v=i(b,"Compliance").$unique_id_start_index();c(g["$[]"](x=""+y+p+v));)v=e(v,1);return x}return y},g.$$arity=2)}(_[0],i(_,"AbstractBlock"),_)}(n[0],n)},Opal.modules["asciidoctor/stylesheets"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,$=t.const_get_relative,i=(t.breaker,t.slice,t.module),o=t.klass,a=t.truthy,s=t.hash2;return t.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$stylesheet_basename","$for","$read_stylesheet","$coderay_stylesheet_data","$coderay_stylesheet_name","$pygments_stylesheet_data","$pygments_stylesheet_name"]),function(e,l){var c=[i(e,"Asciidoctor")].concat(l);!function(e,i,l){var c,u,_,d,p,f,h,m,y,g,v,b,x,k=o(e,null,"Stylesheets"),w=[k].concat(l);k.$$prototype.primary_stylesheet_data=r,t.const_set(w[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(w[0],"STYLESHEETS_DIR",n("::","File").$join($(w,"DATA_DIR"),"stylesheets")),k.__instance__=k.$new(),t.defs(k,"$instance",c=function(){var t=this;return null==t.__instance__&&(t.__instance__=r),t.__instance__},c.$$arity=0),t.def(k,"$primary_stylesheet_name",u=function(){return $(w,"DEFAULT_STYLESHEET_NAME")},u.$$arity=0),t.def(k,"$primary_stylesheet_data",_=function(){var t;return this.primary_stylesheet_data=a(t=this.primary_stylesheet_data)?t:n("::","File").$read(n("::","File").$join($(w,"STYLESHEETS_DIR"),"asciidoctor-default.css"),s(["mode"],{mode:$(w,"FILE_READ_MODE")})).$rstrip()},_.$$arity=0),t.def(k,"$embed_primary_stylesheet",d=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},d.$$arity=0),t.def(k,"$write_primary_stylesheet",p=function(t){return null==t&&(t="."),n("::","File").$write(n("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),s(["mode"],{mode:$(w,"FILE_WRITE_MODE")}))},p.$$arity=-1),t.def(k,"$coderay_stylesheet_name",f=function(){return $(w,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},f.$$arity=0),t.def(k,"$coderay_stylesheet_data",h=function(){return $(w,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},h.$$arity=0),t.def(k,"$embed_coderay_stylesheet",m=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},m.$$arity=0),t.def(k,"$write_coderay_stylesheet",y=function(t){return null==t&&(t="."),n("::","File").$write(n("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),s(["mode"],{mode:$(w,"FILE_WRITE_MODE")}))},y.$$arity=-1),t.def(k,"$pygments_stylesheet_name",g=function(t){return null==t&&(t=r),$(w,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(t)},g.$$arity=-1),t.def(k,"$pygments_stylesheet_data",v=function(t){return null==t&&(t=r),$(w,"SyntaxHighlighter").$for("pygments").$read_stylesheet(t)},v.$$arity=-1),t.def(k,"$embed_pygments_stylesheet",b=function(t){return null==t&&(t=r),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},b.$$arity=-1),t.def(k,"$write_pygments_stylesheet",x=function(t,e){return null==t&&(t="."),null==e&&(e=r),n("::","File").$write(n("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e),s(["mode"],{mode:$(w,"FILE_WRITE_MODE")}))},x.$$arity=-1)}(c[0],0,c)}(e[0],e)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var a=[],s=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.module),_=t.klass,d=t.hash2,p=t.send,f=t.truthy,h=t.gvars;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$truncate","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$round","$map","$shift","$reinitialize","$head=","$nil?","$unshift","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$style","$merge","$delete","$===","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$catalog_inline_anchor","$=~","$apply_subs","$attr_writer","$convert","$text","$!=","$file","$lineno","$include","$to_set","$mark","$key?","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$!","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$private","$rows","$effective_column_visits"]),function(a,m){var y=[u(a,"Asciidoctor")].concat(m);!function(a,l,u){var h,m,y,g,v,b=_(a,l,"Table"),x=[b].concat(u);b.$$prototype.attributes=b.$$prototype.document=b.$$prototype.has_header_option=b.$$prototype.rows=b.$$prototype.columns=s,t.const_set(x[0],"DEFAULT_PRECISION",4),function(e,r,n){var $,i,o,a=_(e,null,"Rows");[a].concat(n);a.$$prototype.head=a.$$prototype.body=a.$$prototype.foot=s,a.$attr_accessor("head","foot","body"),t.def(a,"$initialize",$=function(t,e,r){var n=this;return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),n.head=t,n.foot=e,n.body=r},$.$$arity=-1),t.alias(a,"[]","send"),t.def(a,"$by_section",i=function(){var t=this;return[["head",t.head],["body",t.body],["foot",t.foot]]},i.$$arity=0),t.def(a,"$to_h",o=function(){var t=this;return d(["head","body","foot"],{head:t.head,body:t.body,foot:t.foot})},o.$$arity=0)}(x[0],0,x),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),b.$attr_reader("caption"),t.def(b,"$initialize",h=function(o,a){var l,u,_=h.$$p,d=this,m=s,y=s,g=s,v=s;return _&&(h.$$p=null),p(d,t.find_super_dispatcher(d,"initialize",h,!1),[o,"table"],null),d.rows=c(x,"Rows").$new(),d.columns=[],d.has_header_option=!1,f(m=a["$[]"]("width"))?f(f(l=e(y=m.$to_i(),100))?l:r(y,1))&&(f((l=y["$=="](0))?f(u=m["$=="]("0"))?u:m["$=="]("0%"):y["$=="](0))||(y=100)):y=100,g=["tablepcwidth",y],p(d.attributes,"[]=",t.to_a(g)),g[n(g.length,1)],f(d.document.$attributes()["$[]"]("pagewidth"))&&(g=["tableabswidth",(v=$(i(y,100),d.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(c(x,"DEFAULT_PRECISION")))["$=="](v.$to_i())?v.$to_i():v],p(d.attributes,"[]=",t.to_a(g)),g[n(g.length,1)]),f(a["$[]"]("rotate-option"))?(g=["orientation","landscape"],p(d.attributes,"[]=",t.to_a(g)),g[n(g.length,1)]):s},h.$$arity=2),t.def(b,"$header_row?",m=function(){var t,e;return f(f(t=e=this.has_header_option)?this.rows.$body()["$empty?"]():t)?e:s},m.$$arity=0),t.def(b,"$create_columns",y=function($){var i,a,l,u=this,_=s,d=s,h=s,m=s;return _=[],d=s,h=0,p($,"each",[],(i=function(t){var e,n,$=i.$$s||this;return null==t&&(t=s),n=t["$[]"]("width"),_["$<<"](c(x,"Column").$new($,_.$size(),t)),f(r(n,0))?(d=f(e=d)?e:[])["$<<"](_["$[]"](-1)):h=o(h,n)},i.$$s=u,i.$$arity=1,i)),f(e(l=(u.columns=_).$size(),0))&&(m=["colcount",l],p(u.attributes,"[]=",t.to_a(m)),m[n(m.length,1)],f(f(a=e(h,0))?a:d)||(h=s),u.$assign_column_widths(h,d)),s},y.$$arity=1),t.def(b,"$assign_column_widths",g=function(t,r){var $,a,l,u,_=this,h=s,m=s,y=s,g=s;return null==t&&(t=s),null==r&&(r=s),u=c(x,"DEFAULT_PRECISION"),h=m=0,f(t)?(f(r)&&(f(e(t,100))?(y=0,_.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):((y=i(n(100,t),r.$size()).$truncate(u)).$to_i()["$=="](y)&&(y=y.$to_i()),t=100),g=d(["width","autowidth-option"],{width:y,"autowidth-option":""}),p(r,"each",[],(($=function(t){return $.$$s,null==t&&(t=s),t.$update_attributes(g)}).$$s=_,$.$$arity=1,$))),p(_.columns,"each",[],((a=function(e){return a.$$s,null==e&&(e=s),h=o(h,m=e.$assign_width(s,t,u))}).$$s=_,a.$$arity=1,a))):((m=i(100,_.columns.$size()).$truncate(u)).$to_i()["$=="](m)&&(m=m.$to_i()),p(_.columns,"each",[],((l=function(t){return l.$$s,null==t&&(t=s),h=o(h,t.$assign_width(m,s,u))}).$$s=_,l.$$arity=1,l))),h["$=="](100)||_.columns["$[]"](-1).$assign_width(o(n(100,h),m).$round(u),s,u),s},g.$$arity=-1),t.def(b,"$partition_header_footer",v=function(r){var $,i,o,a=this,l=s,c=s,u=s;return c=["rowcount",(u=a.rows.$body()).$size()],p(a.attributes,"[]=",t.to_a(c)),l=c[n(c.length,1)],f(e(l,0))&&(f(a.has_header_option)?(c=[[p(u.$shift(),"map",[],($=function(t){return $.$$s,null==t&&(t=s),t.$reinitialize(!0)},$.$$s=a,$.$$arity=1,$))]],p(a.rows,"head=",t.to_a(c)),c[n(c.length,1)],l=n(l,1)):f(a.has_header_option["$nil?"]())&&(a.has_header_option=!1,u.$unshift(p(u.$shift(),"map",[],((i=function(t){return i.$$s,null==t&&(t=s),t.$reinitialize(!1)}).$$s=a,i.$$arity=1,i))))),f(f(o=e(l,0))?r["$[]"]("footer-option"):o)&&(c=[[u.$pop()]],p(a.rows,"foot=",t.to_a(c)),c[n(c.length,1)]),s},v.$$arity=1)}(y[0],c(y,"AbstractBlock"),y),function(e,r,a){var l,c,u,h,m=_(e,r,"Column");[m].concat(a);m.$$prototype.attributes=s,m.$attr_accessor("style"),t.def(m,"$initialize",l=function(e,r,$){var i=l.$$p,a=this,c=s;return i&&(l.$$p=null),null==$&&($=d([],{})),p(a,t.find_super_dispatcher(a,"initialize",l,!1),[e,"table_column"],null),a.style=$["$[]"]("style"),c=["colnumber",o(r,1)],p($,"[]=",t.to_a(c)),c[n(c.length,1)],f($["$[]"]("width"))||(c=["width",1],p($,"[]=",t.to_a(c)),c[n(c.length,1)]),f($["$[]"]("halign"))||(c=["halign","left"],p($,"[]=",t.to_a(c)),c[n(c.length,1)]),f($["$[]"]("valign"))||(c=["valign","top"],p($,"[]=",t.to_a(c)),c[n(c.length,1)]),a.$update_attributes($)},l.$$arity=-3),t.alias(m,"table","parent"),t.def(m,"$assign_width",c=function(e,r,o){var a=this,l=s,c=s;return f(r)&&(e=i($(a.attributes["$[]"]("width").$to_f(),100),r).$truncate(o)).$to_i()["$=="](e)&&(e=e.$to_i()),f(a.$parent().$attributes()["$[]"]("tableabswidth"))&&(l=["colabswidth",(c=$(i(e,100),a.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(o))["$=="](c.$to_i())?c.$to_i():c],p(a.attributes,"[]=",t.to_a(l)),l[n(l.length,1)]),l=["colpcwidth",e],p(a.attributes,"[]=",t.to_a(l)),l[n(l.length,1)]},c.$$arity=3),t.def(m,"$block?",u=function(){return!1},u.$$arity=0),t.def(m,"$inline?",h=function(){return!1},h.$$arity=0)}(c(y,"Table"),c(y,"AbstractNode"),y),function(e,i,a){var u,m,y,g,v,b,x,k,w,E,A=_(e,i,"Cell"),O=[A].concat(a);A.$$prototype.document=A.$$prototype.reinitialize_args=A.$$prototype.attributes=A.$$prototype.cursor=A.$$prototype.text=A.$$prototype.subs=A.$$prototype.style=A.$$prototype.inner_document=A.$$prototype.source_location=A.$$prototype.colspan=A.$$prototype.rowspan=s,t.const_set(O[0],"DOUBLE_LF",$(c(O,"LF"),2)),A.$attr_accessor("colspan"),A.$attr_accessor("rowspan"),t.alias(A,"column","parent"),A.$attr_reader("inner_document"),t.def(A,"$initialize",u=function(e,$,i,a){var l,_,h,m=u.$$p,y=this,g=s,v=s,b=s,x=s,k=s,w=s,E=s,A=s,S=s,R=s,C=s,I=s,T=s;if(m&&(u.$$p=null),null==i&&(i=d([],{})),null==a&&(a=d([],{})),p(y,t.find_super_dispatcher(y,"initialize",u,!1),[e,"table_cell"],null),y.cursor=y.reinitialize_args=s,f(y.document.$sourcemap())&&(y.source_location=a["$[]"]("cursor").$dup()),f(e)&&(f(g=e.$table()["$header_row?"]())?f((l=g["$=="]("implicit"))?v=f(_=e.$style())?_:f(h=i)?i["$[]"]("style"):h:g["$=="]("implicit"))&&(f(f(l=v["$=="]("asciidoc"))?l:v["$=="]("literal"))&&(y.reinitialize_args=[e,$,f(l=i)?i.$merge():l,a]),v=s):v=e.$style(),y.$update_attributes(e.$attributes())),f(i))if(f(i["$empty?"]())?y.colspan=y.rowspan=s:(l=[i.$delete("colspan"),i.$delete("rowspan")],y.colspan=l[0],y.rowspan=l[1],f(g)||(v=f(l=i["$[]"]("style"))?l:v),y.$update_attributes(i)),"asciidoc"["$==="](b=v))if(x=!0,k=a["$[]"]("cursor"),f(($=$.$rstrip())["$start_with?"](c(O,"LF")))){for(w=1;f(($=$.$slice(1,$.$length()))["$start_with?"](c(O,"LF")));)w=o(w,1);k.$advance(w)}else $=$.$lstrip();else if("literal"["$==="](b))for(E=!0,$=$.$rstrip();f($["$start_with?"](c(O,"LF")));)$=$.$slice(1,$.$length());else A=!0,$=f($)?$.$strip():"";else y.colspan=y.rowspan=s,v["$=="]("asciidoc")&&(x=!0,k=a["$[]"]("cursor"));return f(x)?(S=y.document.$attributes().$delete("doctitle"),R=$.$split(c(O,"LF"),-1),f(R["$empty?"]())||f((C=R["$[]"](0))["$include?"]("::"))&&(I=c(O,"PreprocessorReader").$new(y.document,[C]).$readlines(),f((l=C["$=="](I["$[]"](0)))?r(I.$size(),2):C["$=="](I["$[]"](0)))||(R.$shift(),f(I["$empty?"]())||p(R,"unshift",t.to_a(I)))),y.inner_document=c(O,"Document").$new(R,d(["standalone","parent","cursor"],{standalone:!1,parent:y.document,cursor:k})),f(S["$nil?"]())||(T=["doctitle",S],p(y.document.$attributes(),"[]=",t.to_a(T)),T[n(T.length,1)]),y.subs=s):f(E)?(y.content_model="verbatim",y.subs=c(O,"BASIC_SUBS")):(f(A)&&(f(g)?y.cursor=a["$[]"]("cursor"):y.$catalog_inline_anchor($,a["$[]"]("cursor"))),y.content_model="simple",y.subs=c(O,"NORMAL_SUBS")),y.text=$,y.style=v},u.$$arity=-3),t.def(A,"$reinitialize",m=function(e){var r=this;if(f(e))r.reinitialize_args=s;else{if(f(r.reinitialize_args))return p(l(c(O,"Table"),"Cell"),"new",t.to_a(r.reinitialize_args));r.style=r.attributes["$[]"]("style")}return f(r.cursor)&&r.$catalog_inline_anchor(),r},m.$$arity=1),t.def(A,"$catalog_inline_anchor",y=function(t,e){var r,n=this;return null==t&&(t=n.text),null==e&&(e=s),f(e)||(e=(r=[n.cursor,s])[0],n.cursor=r[1]),f(f(r=t["$start_with?"]("[["))?c(O,"LeadingInlineAnchorRx")["$=~"](t):r)?c(O,"Parser").$catalog_inline_anchor((r=h["~"])===s?s:r["$[]"](1),(r=h["~"])===s?s:r["$[]"](2),n,e,n.document):s},y.$$arity=-1),t.def(A,"$text",g=function(){var t=this;return t.$apply_subs(t.text,t.subs)},g.$$arity=0),A.$attr_writer("text"),t.def(A,"$content",v=function(){var t,e,r=this,n=s,$=s;return(n=r.style)["$=="]("asciidoc")?r.inner_document.$convert():f(r.text["$include?"](c(O,"DOUBLE_LF")))?p(r.$text().$split(c(O,"BlankLineRx")),"map",[],(t=function(e){var r,$=t.$$s||this;return null==e&&(e=s),f(f(r=n)?n["$!="]("header"):r)?c(O,"Inline").$new($.$parent(),"quoted",e,d(["type"],{type:n})).$convert():e},t.$$s=r,t.$$arity=1,t)):f(($=r.$text())["$empty?"]())?[]:f(f(e=n)?n["$!="]("header"):e)?[c(O,"Inline").$new(r.$parent(),"quoted",$,d(["type"],{type:n})).$convert()]:[$]},v.$$arity=0),t.def(A,"$lines",b=function(){return this.text.$split(c(O,"LF"))},b.$$arity=0),t.def(A,"$source",x=function(){return this.text},x.$$arity=0),t.def(A,"$file",k=function(){var t;return f(t=this.source_location)?this.source_location.$file():t},k.$$arity=0),t.def(A,"$lineno",w=function(){var t;return f(t=this.source_location)?this.source_location.$lineno():t},w.$$arity=0),t.def(A,"$to_s",E=function(){var e,r=E.$$p,n=this,$=s,i=s,o=s;for(r&&(E.$$p=null),i=0,o=arguments.length,$=new Array(o);i<o;i++)$[i]=arguments[i];return p(n,t.find_super_dispatcher(n,"to_s",E,!1),$,r)+" - [text: "+n.text+", colspan: "+(f(e=n.colspan)?e:1)+", rowspan: "+(f(e=n.rowspan)?e:1)+", attributes: "+n.attributes+"]"},E.$$arity=0)}(c(y,"Table"),c(y,"AbstractBlock"),y),function(r,$,i){var a,u,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L=_(r,null,"ParserContext"),N=[L].concat(i);L.$$prototype.delimiter=L.$$prototype.delimiter_rx=L.$$prototype.buffer=L.$$prototype.cellspecs=L.$$prototype.cell_open=L.$$prototype.format=L.$$prototype.start_cursor_data=L.$$prototype.reader=L.$$prototype.table=L.$$prototype.current_row=L.$$prototype.colcount=L.$$prototype.column_visits=L.$$prototype.active_rowspans=L.$$prototype.linenum=s,L.$include(c(N,"Logging")),t.const_set(N[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(N[0],"DELIMITERS",d(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),L.$attr_accessor("table"),L.$attr_accessor("format"),L.$attr_reader("colcount"),L.$attr_accessor("buffer"),L.$attr_reader("delimiter"),L.$attr_reader("delimiter_re"),t.def(L,"$initialize",a=function(e,r,n){var $,i,o=this,a=s,u=s;return null==n&&(n=d([],{})),o.start_cursor_data=(o.reader=e).$mark(),o.table=r,f(n["$key?"]("format"))?f(c(N,"FORMATS")["$include?"](a=n["$[]"]("format")))?a["$=="]("tsv")?o.format="csv":f(($=(o.format=a)["$=="]("psv"))?r.$document()["$nested?"]():(o.format=a)["$=="]("psv"))&&(a="!sv"):(o.$logger().$error(o.$message_with_context("illegal table format: "+a,d(["source_location"],{source_location:e.$cursor_at_prev_line()}))),$=["psv",f(r.$document()["$nested?"]())?"!sv":"psv"],o.format=$[0],a=$[1]):($=["psv",f(r.$document()["$nested?"]())?"!sv":"psv"],o.format=$[0],a=$[1]),f(n["$key?"]("separator"))?f((u=n["$[]"]("separator"))["$nil_or_empty?"]())?(i=c(N,"DELIMITERS")["$[]"](a),$=t.to_ary(i),o.delimiter=null==$[0]?s:$[0],o.delimiter_rx=null==$[1]?s:$[1]):u["$=="]("\\t")?(i=c(N,"DELIMITERS")["$[]"]("tsv"),$=t.to_ary(i),o.delimiter=null==$[0]?s:$[0],o.delimiter_rx=null==$[1]?s:$[1]):($=[u,new RegExp(l("::","Regexp").$escape(u))],o.delimiter=$[0],o.delimiter_rx=$[1]):(i=c(N,"DELIMITERS")["$[]"](a),$=t.to_ary(i),o.delimiter=null==$[0]?s:$[0],o.delimiter_rx=null==$[1]?s:$[1]),o.colcount=f(r.$columns()["$empty?"]())?-1:r.$columns().$size(),o.buffer="",o.cellspecs=[],o.cell_open=!1,o.active_rowspans=[0],o.column_visits=0,o.current_row=[],o.linenum=-1},a.$$arity=-3),t.def(L,"$starts_with_delimiter?",u=function(t){return t["$start_with?"](this.delimiter)},u.$$arity=1),t.def(L,"$match_delimiter",h=function(t){return this.delimiter_rx.$match(t)},h.$$arity=1),t.def(L,"$skip_past_delimiter",m=function(t){var e=this;return e.buffer=""+e.buffer+t+e.delimiter,s},m.$$arity=1),t.def(L,"$skip_past_escaped_delimiter",y=function(t){var e=this;return e.buffer=""+e.buffer+t.$chop()+e.delimiter,s},y.$$arity=1),t.def(L,"$buffer_has_unclosed_quotes?",g=function(t,e){var r,n,$=this,i=s,a=s,l=s;return null==t&&(t=s),null==e&&(e='"'),!!(i=f(t)?o($.buffer,t).$strip():$.buffer.$strip())["$=="](e)||!!f(i["$start_with?"](e))&&(a=o(e,e),f(f(r=f(n=l=i["$end_with?"](e))?i["$end_with?"](a):n)?r:i["$start_with?"](a))?f(r=(i=i.$gsub(a,""))["$start_with?"](e))?i["$end_with?"](e)["$!"]():r:l["$!"]())},g.$$arity=-1),t.def(L,"$take_cellspec",v=function(){return this.cellspecs.$shift()},v.$$arity=0),t.def(L,"$push_cellspec",b=function(t){var e;return null==t&&(t=d([],{})),this.cellspecs["$<<"](f(e=t)?e:d([],{})),s},b.$$arity=-1),t.def(L,"$keep_cell_open",x=function(){return this.cell_open=!0,s},x.$$arity=0),t.def(L,"$mark_cell_closed",k=function(){return this.cell_open=!1,s},k.$$arity=0),t.def(L,"$cell_open?",w=function(){return this.cell_open},w.$$arity=0),t.def(L,"$cell_closed?",E=function(){return this.cell_open["$!"]()},E.$$arity=0),t.def(L,"$close_open_cell",A=function(t){var e=this;return null==t&&(t=d([],{})),e.$push_cellspec(t),f(e["$cell_open?"]())&&e.$close_cell(!0),e.$advance(),s},A.$$arity=-1),t.def(L,"$close_cell",O=function(r){try{var $,i,a=this,u=s,_=s,h=s,m=s;return null==r&&(r=!1),a.format["$=="]("psv")?(u=a.buffer,a.buffer="",f(_=a.$take_cellspec())?h=f($=_.$delete("repeatcol"))?$:1:(a.$logger().$error(a.$message_with_context("table missing leading separator; recovering automatically",d(["source_location"],{source_location:p(l(c(N,"Reader"),"Cursor"),"new",t.to_a(a.start_cursor_data))}))),_=d([],{}),h=1)):(u=a.buffer.$strip(),a.buffer="",_=s,h=1,f(f($=a.format["$=="]("csv")?u["$empty?"]()["$!"]():a.format["$=="]("csv"))?u["$include?"](m='"'):$)&&(f(f($=u["$start_with?"](m))?u["$end_with?"](m):$)?f(u=u.$slice(1,n(u.$length(),2)))?u=u.$strip().$squeeze(m):(a.$logger().$error(a.$message_with_context("unclosed quote in CSV data; setting cell to empty",d(["source_location"],{source_location:a.reader.$cursor_at_prev_line()}))),u=""):u=u.$squeeze(m))),p(1,"upto",[h],(i=function($){var a,m,y,g,v=i.$$s||this,b=s,x=s,k=s,w=s;return null==v.colcount&&(v.colcount=s),null==v.table&&(v.table=s),null==v.current_row&&(v.current_row=s),null==v.reader&&(v.reader=s),null==v.column_visits&&(v.column_visits=s),null==v.linenum&&(v.linenum=s),null==$&&($=s),v.colcount["$=="](-1)?(v.table.$columns()["$<<"](b=l(c(N,"Table"),"Column").$new(v.table,n(o(v.table.$columns().$size(),$),1))),f(f(a=f(m=_)?_["$key?"]("colspan"):m)?e(x=n(_["$[]"]("colspan").$to_i(),1),0):a)&&(k=v.table.$columns().$size(),p(x,"times",[],(y=function(t){var e=y.$$s||this;return null==e.table&&(e.table=s),null==t&&(t=s),e.table.$columns()["$<<"](l(c(N,"Table"),"Column").$new(e.table,o(k,t)))},y.$$s=v,y.$$arity=1,y)))):f(b=v.table.$columns()["$[]"](v.current_row.$size()))||(v.$logger().$error(v.$message_with_context("dropping cell because it exceeds specified number of columns",d(["source_location"],{source_location:v.reader.$cursor_before_mark()}))),t.ret(s)),w=l(c(N,"Table"),"Cell").$new(b,u,_,d(["cursor"],{cursor:v.reader.$cursor_before_mark()})),v.reader.$mark(),f(f(a=w.$rowspan()["$!"]())?a:w.$rowspan()["$=="](1))||v.$activate_rowspan(w.$rowspan(),f(a=w.$colspan())?a:1),v.column_visits=o(v.column_visits,f(a=w.$colspan())?a:1),v.current_row["$<<"](w),f(f(a=v["$end_of_row?"]())?f(m=f(g=v.colcount["$!="](-1))?g:e(v.linenum,0))?m:f(g=r)?$["$=="](h):g:a)?v.$close_row():s},i.$$s=a,i.$$arity=1,i)),a.cell_open=!1,s}catch(e){if(e===t.returner)return e.$v;throw e}},O.$$arity=-1),L.$private(),t.def(L,"$close_row",S=function(){var e=this,r=s;return e.table.$rows().$body()["$<<"](e.current_row),e.colcount["$=="](-1)&&(e.colcount=e.column_visits),e.column_visits=0,e.current_row=[],e.active_rowspans.$shift(),f(e.active_rowspans["$[]"](0))||(r=[0,0],p(e.active_rowspans,"[]=",t.to_a(r)),r[n(r.length,1)]),s},S.$$arity=0),t.def(L,"$activate_rowspan",R=function(e,r){var $;return p(1,"upto",[n(e,1)],($=function(e){var i,a,l=$.$$s||this;return null==l.active_rowspans&&(l.active_rowspans=s),null==e&&(e=s),a=[e,o(f(i=l.active_rowspans["$[]"](e))?i:0,r)],p(l.active_rowspans,"[]=",t.to_a(a)),a[n(a.length,1)]},$.$$s=this,$.$$arity=1,$)),s},R.$$arity=2),t.def(L,"$end_of_row?",C=function(){var t,e=this;return f(t=e.colcount["$=="](-1))?t:e.$effective_column_visits()["$=="](e.colcount)},C.$$arity=0),t.def(L,"$effective_column_visits",I=function(){return o(this.column_visits,this.active_rowspans["$[]"](0))},I.$$arity=0),t.def(L,"$advance",T=function(){return this.linenum=o(this.linenum,1)},T.$$arity=0)}(c(y,"Table"),0,y)}(a[0],a)},Opal.modules["asciidoctor/writer"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,$=t.const_get_relative,i=(t.breaker,t.slice,t.module),o=t.truthy,a=t.hash2;return t.add_stubs(["$respond_to?","$write","$+","$chomp","$include"]),function(e,s){var l=[i(e,"Asciidoctor")].concat(s);!function(e,s){var l,c=i(e,"Writer"),u=[c].concat(s);t.def(c,"$write",l=function(t,e){var i,s;return o(e["$respond_to?"]("write"))?e.$write((i=t.$chomp(),s=$(u,"LF"),"number"==typeof i&&"number"==typeof s?i+s:i["$+"](s))):n("::","File").$write(e,t,a(["mode"],{mode:$(u,"FILE_WRITE_MODE")})),r},l.$$arity=2)}(l[0],l),function(e,n){var o,a=i(e,"VoidWriter"),s=[a].concat(n);a.$include($(s,"Writer")),t.def(a,"$write",o=function(t,e){return r},o.$$arity=2)}(l[0],l)}(e[0],e)},Opal.modules["asciidoctor/load"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.hash2,s=t.truthy,l=t.send;return t.add_stubs(["$merge","$[]","$start","$key?","$!=","$logger","$new","$logger=","$-","$!","$===","$dup","$tap","$each","$partition","$[]=","$split","$gsub","$+","$respond_to?","$keys","$raise","$join","$ancestors","$class","$==","$at","$to_i","$mtime","$absolute_path","$path","$dirname","$basename","$extname","$read","$rewind","$drop","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load"]),function(r,c){var u=o(r,"Asciidoctor"),_=[u].concat(c);!function(r,o){var c,u,_=[r].concat(o);t.def(r,"$load",c=function(r,o){var c,u,d,p,f,h,m=this,y=n,g=n,v=n,b=n,x=n,k=n,w=n,E=n,A=n,O=n;null==o&&(o=a([],{}));try{if(o=o.$merge(),s(y=o["$[]"]("timings"))&&y.$start("read"),s(s(c=o["$key?"]("logger"))?(g=o["$[]"]("logger"))["$!="](i(_,"LoggerManager").$logger()):c)&&(v=[s(c=g)?c:i(_,"NullLogger").$new()],l(i(_,"LoggerManager"),"logger=",t.to_a(v)),v[e(v.length,1)]),s((b=o["$[]"]("attributes"))["$!"]())?b=a([],{}):s($("::","Hash")["$==="](b))?b=b.$merge():s(s(c=(d=$("::","Java","skip_raise"))&&(u=$(d,"JavaUtil","skip_raise"))&&$(u,"Map","skip_raise")?"constant":n)?$($($("::","Java"),"JavaUtil"),"Map")["$==="](b):c)?b=b.$dup():s($("::","Array")["$==="](b))?b=l(a([],{}),"tap",[],(p=function(r){var $,i=p.$$s||this;return null==r&&(r=n),l(b,"each",[],(($=function(i){var o,a,s,c;$.$$s;return null==i&&(i=n),a=i.$partition("="),s=null==(o=t.to_ary(a))[0]?n:o[0],null==o[1]?n:o[1],c=null==o[2]?n:o[2],v=[s,c],l(r,"[]=",t.to_a(v)),v[e(v.length,1)]}).$$s=i,$.$$arity=1,$))},p.$$s=m,p.$$arity=1,p)):s($("::","String")["$==="](b))?b=l(a([],{}),"tap",[],(f=function(r){var $,o,a,s=f.$$s||this;return null==r&&(r=n),l(b.$gsub(i(_,"SpaceDelimiterRx"),(o="\\1",a=i(_,"NULL"),"number"==typeof o&&"number"==typeof a?o+a:o["$+"](a))).$gsub(i(_,"EscapedSpaceRx"),"\\1").$split(i(_,"NULL")),"each",[],(($=function(i){var o,a,s,c;$.$$s;return null==i&&(i=n),a=i.$partition("="),s=null==(o=t.to_ary(a))[0]?n:o[0],null==o[1]?n:o[1],c=null==o[2]?n:o[2],v=[s,c],l(r,"[]=",t.to_a(v)),v[e(v.length,1)]}).$$s=s,$.$$arity=1,$))},f.$$s=m,f.$$arity=1,f)):s(s(c=b["$respond_to?"]("keys"))?b["$respond_to?"]("[]"):c)?b=l(a([],{}),"tap",[],(h=function(r){var $,i=h.$$s||this;return null==r&&(r=n),l(b.$keys(),"each",[],(($=function(i){return $.$$s,null==i&&(i=n),v=[i,b["$[]"](i)],l(r,"[]=",t.to_a(v)),v[e(v.length,1)]}).$$s=i,$.$$arity=1,$))},h.$$s=m,h.$$arity=1,h)):m.$raise($("::","ArgumentError"),"illegal type for attributes option: "+b.$class().$ancestors().$join(" < ")),s($("::","File")["$==="](r)))v=["input_mtime",i(_,"RUBY_ENGINE")["$=="]("jruby")?$("::","Time").$at(r.$mtime().$to_i()):r.$mtime()],l(o,"[]=",t.to_a(v)),v[e(v.length,1)],v=["docfile",x=$("::","File").$absolute_path(r.$path())],l(b,"[]=",t.to_a(v)),v[e(v.length,1)],v=["docdir",$("::","File").$dirname(x)],l(b,"[]=",t.to_a(v)),v[e(v.length,1)],v=["docname",i(_,"Helpers").$basename(x,(v=["docfilesuffix",i(_,"Helpers").$extname(x)],l(b,"[]=",t.to_a(v)),v[e(v.length,1)]))],l(b,"[]=",t.to_a(v)),v[e(v.length,1)],k=r.$read();else if(s(r["$respond_to?"]("read"))){try{r.$rewind()}catch(e){if(!t.rescue(e,[i(_,"StandardError")]))throw e;t.pop_exception()}k=r.$read()}else s($("::","String")["$==="](r))?k=r:s($("::","Array")["$==="](r))?k=r.$drop(0):s(r)&&m.$raise($("::","ArgumentError"),"unsupported input type: "+r.$class());return s(y)&&(y.$record("read"),y.$start("parse")),v=["attributes",b],l(o,"[]=",t.to_a(v)),v[e(v.length,1)],w=o["$[]"]("parse")["$=="](!1)?i(_,"Document").$new(k,o):i(_,"Document").$new(k,o).$parse(),s(y)&&y.$record("parse"),w}catch(r){if(!t.rescue(r,[i(_,"StandardError")]))throw r;E=r;try{try{A="asciidoctor: FAILED: "+(s(c=b["$[]"]("docfile"))?c:"<stdin>")+": Failed to load AsciiDoc document",s(E["$respond_to?"]("exception"))?(O=E.$exception(A+" - "+E.$message())).$set_backtrace(E.$backtrace()):(O=E.$class().$new(A,E),v=[E.$stack_trace()],l(O,"stack_trace=",t.to_a(v)),v[e(v.length,1)])}catch(e){if(!t.rescue(e,[i(_,"StandardError")]))throw e;try{O=E}finally{t.pop_exception()}}return m.$raise(O)}finally{t.pop_exception()}}},c.$$arity=-2),t.def(r,"$load_file",u=function(t,e){var r;return null==e&&(e=a([],{})),l($("::","File"),"open",[t,i(_,"FILE_READ_MODE")],(r=function(t){var $=r.$$s||this;return null==t&&(t=n),$.$load(t,e)},r.$$s=this,r.$$arity=1,r))},u.$$arity=-2)}(t.get_singleton_class(u),_)}(r[0],r)},Opal.modules["asciidoctor/convert"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.hash2,l=t.truthy,c=t.send;return t.add_stubs(["$delete","$merge","$===","$absolute_path","$path","$load","$respond_to?","$[]=","$-","$key?","$fetch","$[]","$dirname","$expand_path","$join","$attributes","$outfilesuffix","$==","$raise","$pwd","$>=","$safe","$normalize_system_path","$mkdir_p","$directory?","$!","$convert","$write","$<","$attr?","$basebackend?","$attr","$uriish?","$include?","$syntax_highlighter","$write_stylesheet?","$write_primary_stylesheet","$instance","$to_s","$!=","$read_asset","$file?","$write_stylesheet","$open"]),function(n,u){var _=a(n,"Asciidoctor"),d=[_].concat(u);!function(n,a){var u,_,d=[n].concat(a);t.def(n,"$convert",u=function(n,a){var u,_,p,f,h,m,y,g,v,b,x=this,k=$,w=$,E=$,A=$,O=$,S=$,R=$,C=$,I=$,T=$,L=$,N=$,F=$,D=$,z=$,B=$,M=$,j=$,q=$,P=$,U=$,H=$;if(null==a&&(a=s([],{})),(a=a.$merge()).$delete("parse"),m=a.$delete("to_dir"),y=a.$delete("mkdirs"),g=k=a.$delete("to_file"),(!0)["$==="](g)||$["$==="](g))l(w=m)||l(i("::","File")["$==="](n))&&(E=i("::","File").$absolute_path(n.$path())),k=$;else if((!1)["$==="](g))k=$;else{if("/dev/null"["$==="](g))return x.$load(n,a);l(A=k["$respond_to?"]("write"))||(O=["to_file",w=k],c(a,"[]=",t.to_a(O)),O[e(O.length,1)])}return l(a["$key?"]("standalone"))||(l(l(u=E)?u:w)?(O=["standalone",a.$fetch("header_footer",!0)],c(a,"[]=",t.to_a(O)),O[e(O.length,1)]):l(a["$key?"]("header_footer"))&&(O=["standalone",a["$[]"]("header_footer")],c(a,"[]=",t.to_a(O)),O[e(O.length,1)])),l(E)?(O=["to_dir",S=i("::","File").$dirname(E)],c(a,"[]=",t.to_a(O)),O[e(O.length,1)]):l(w)&&(l(m)?l(k)?(O=["to_dir",i("::","File").$dirname(i("::","File").$expand_path(k,m))],c(a,"[]=",t.to_a(O)),O[e(O.length,1)]):(O=["to_dir",i("::","File").$expand_path(m)],c(a,"[]=",t.to_a(O)),O[e(O.length,1)]):l(k)&&(O=["to_dir",i("::","File").$dirname(i("::","File").$expand_path(k))],c(a,"[]=",t.to_a(O)),O[e(O.length,1)])),R=x.$load(n,a),l(E)?(C=i("::","File").$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix()))["$=="](E)&&x.$raise(i("::","IOError"),"input file and output file cannot be the same: "+C):l(w)?(I=l(a["$key?"]("base_dir"))?i("::","File").$expand_path(a["$[]"]("base_dir")):i("::","Dir").$pwd(),T=l(r(R.$safe(),i(o(d,"SafeMode"),"SAFE")))?I:$,l(m)?(S=R.$normalize_system_path(m,I,T,s(["target_name","recover"],{target_name:"to_dir",recover:!1})),l(k)?(C=R.$normalize_system_path(k,S,$,s(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=i("::","File").$dirname(C)):C=i("::","File").$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix())):l(k)&&(C=R.$normalize_system_path(k,I,T,s(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=i("::","File").$dirname(C)),l(l(u=i("::","File")["$==="](n))?C["$=="](i("::","File").$absolute_path(n.$path())):u)&&x.$raise(i("::","IOError"),"input file and output file cannot be the same: "+C),l(y)?o(d,"Helpers").$mkdir_p(S):l(i("::","File")["$directory?"](S))||x.$raise(i("::","IOError"),"target directory does not exist: "+m+" (hint: set :mkdirs option)")):(C=k,S=$),L=l(l(u=C)?A["$!"]():u)?R.$convert(s(["outfile","outdir"],{outfile:C,outdir:S})):R.$convert(),l(C)?(R.$write(L,C),l(l(u=l(_=l(p=l(f=l(h=A["$!"]())?(v=R.$safe(),b=i(o(d,"SafeMode"),"SECURE"),"number"==typeof v&&"number"==typeof b?v<b:v["$<"](b)):h)?R["$attr?"]("linkcss"):f)?R["$attr?"]("copycss"):p)?R["$basebackend?"]("html"):_)?(l(_=N=R.$attr("stylesdir"))?o(d,"Helpers")["$uriish?"](N):_)["$!"]():u)&&(l(F=R.$attr("stylesheet"))&&(l(o(d,"DEFAULT_STYLESHEET_KEYS")["$include?"](F))?D=!0:l(o(d,"Helpers")["$uriish?"](F)["$!"]())&&(z=!0)),B=l(u=M=R.$syntax_highlighter())?M["$write_stylesheet?"](R):u,l(l(u=l(_=D)?_:z)?u:B)&&(j=R.$normalize_system_path(N,S,l(r(R.$safe(),i(o(d,"SafeMode"),"SAFE")))?S:$),l(y)?o(d,"Helpers").$mkdir_p(j):l(i("::","File")["$directory?"](j))||x.$raise(i("::","IOError"),"target stylesheet directory does not exist: "+j+" (hint: set :mkdirs option)"),l(D)?o(d,"Stylesheets").$instance().$write_primary_stylesheet(j):l(z)&&(q=l(l(u=(q=R.$attr("copycss"))["$=="](""))?u:q["$=="](!0))?R.$normalize_system_path(F):R.$normalize_system_path(q.$to_s()),P=R.$normalize_system_path(F,j,l(r(R.$safe(),i(o(d,"SafeMode"),"SAFE")))?S:$),l(l(u=q["$!="](P))?U=R.$read_asset(q,s(["warn_on_failure","label"],{warn_on_failure:i("::","File")["$file?"](P)["$!"](),label:"stylesheet"})):u)&&(l(l(u=(H=i("::","File").$dirname(P))["$!="](j))?i("::","File")["$directory?"](H)["$!"]():u)&&(l(y)?o(d,"Helpers").$mkdir_p(H):x.$raise(i("::","IOError"),"target stylesheet directory does not exist: "+H+" (hint: set :mkdirs option)")),i("::","File").$write(P,U,s(["mode"],{mode:o(d,"FILE_WRITE_MODE")})))),l(B)&&M.$write_stylesheet(R,j))),R):L},u.$$arity=-2),t.def(n,"$convert_file",_=function(t,e){var r;return null==e&&(e=s([],{})),c(i("::","File"),"open",[t,o(d,"FILE_READ_MODE")],(r=function(t){var n=r.$$s||this;return null==t&&(t=$),n.$convert(t,e)},r.$$s=this,r.$$arity=1,r))},_.$$arity=-2),t.alias(n,"render","convert"),t.alias(n,"render_file","convert_file")}(t.get_singleton_class(_),d)}(n[0],n)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,$=t.const_get_relative,i=(t.breaker,t.slice,t.module),o=t.klass,a=t.send,s=t.hash2,l=t.truthy;return t.add_stubs(["$register_for","$merge","$proc","$[]=","$-","$attr","$[]","$==","$attr?","$join","$map","$split","$lstrip"]),function(e,c){var u=[i(e,"Asciidoctor")].concat(c);!function(e,n,i){var c,u,_,d,p=o(e,n,"HighlightJsAdapter"),f=[p].concat(i);p.$register_for("highlightjs","highlight.js"),t.def(p,"$initialize",c=function(e){var n=c.$$p,$=this,i=r,o=r,s=r;for(n&&(c.$$p=null),o=0,s=arguments.length,i=new Array(s);o<s;o++)i[o]=arguments[o];return t.slice.call(arguments,0,arguments.length),a($,t.find_super_dispatcher($,"initialize",c,!1),i,n),$.name=$.pre_class="highlightjs"},c.$$arity=-1),t.def(p,"$format",u=function(e,n,$){var i,o=this;return u.$$p&&(u.$$p=null),a(o,t.find_super_dispatcher(o,"format",u,!1),[e,n,$.$merge(s(["transform"],{transform:a(o,"proc",[],(i=function(e,$){var o,s,c,u;i.$$s;return null==e&&(e=r),null==$&&($=r),s=["class","language-"+(l(o=n)?o:"none")+" hljs"],a($,"[]=",t.to_a(s)),s[(c=s.length,u=1,"number"==typeof c&&"number"==typeof u?c-u:c["$-"](u))]},i.$$s=o,i.$$arity=2,i))}))],null)},u.$$arity=3),t.def(p,"$docinfo?",_=function(t){return!0},_.$$arity=1),t.def(p,"$docinfo",d=function(t,e,n){var i,o,s=this;return o=e.$attr("highlightjsdir",n["$[]"]("cdn_base_url")+"/highlight.js/"+$(f,"HIGHLIGHT_JS_VERSION")),t["$=="]("head")?'<link rel="stylesheet" href="'+o+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+n["$[]"]("self_closing_tag_slash")+">":'<script src="'+o+'/highlight.min.js"><\/script>\n'+(l(e["$attr?"]("highlightjs-languages"))?a(e.$attr("highlightjs-languages").$split(","),"map",[],(i=function(t){return i.$$s,null==t&&(t=r),'<script src="'+o+"/languages/"+t.$lstrip()+'.min.js"><\/script>\n'},i.$$s=s,i.$$arity=1,i)).$join():"")+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n<\/script>"},d.$$arity=3)}($(u,"SyntaxHighlighter"),n($(u,"SyntaxHighlighter"),"Base"),u)}(e[0],e)},Opal.modules["asciidoctor/syntax_highlighter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.hash2,l=t.send,c=t.truthy,u=t.klass;return t.add_stubs(["$attr_reader","$raise","$class","$extend","$private_class_method","$register","$map","$to_s","$each","$[]=","$registry","$-","$[]","$for","$===","$new","$name","$private","$include","$==","$delete","$join","$content"]),function(r,n){var _=[a(r,"Asciidoctor")].concat(n);!function(r,n){var _,d,p,f,h,m,y,g,v,b=a(r,"SyntaxHighlighter"),x=[b].concat(n);b.$attr_reader("name"),t.def(b,"$initialize",_=function(t,e,r){return null==e&&(e="html5"),null==r&&(r=s([],{})),this.name=this.pre_class=t},_.$$arity=-2),t.def(b,"$docinfo?",d=function(t){return $},d.$$arity=1),t.def(b,"$docinfo",p=function(t,e,r){return this.$raise(i("::","NotImplementedError"),o(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},p.$$arity=3),t.def(b,"$highlight?",f=function(){return $},f.$$arity=0),t.def(b,"$highlight",h=function(t,e,r,n){return this.$raise(i("::","NotImplementedError"),o(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},h.$$arity=4),t.def(b,"$format",m=function(t,e,r){return this.$raise(i("::","NotImplementedError"),o(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},m.$$arity=3),t.def(b,"$write_stylesheet?",y=function(t){return $},y.$$arity=1),t.def(b,"$write_stylesheet",g=function(t,e){return this.$raise(i("::","NotImplementedError"),o(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},g.$$arity=2),t.defs(b,"$included",v=function(t){return t.$extend(o(x,"Config"))},v.$$arity=1),b.$private_class_method("included"),function(e,r){var n,i=a(e,"Config"),s=[i].concat(r);t.def(i,"$register_for",n=function(e){var r,n,i=this;return r=t.slice.call(arguments,0,arguments.length),l(o(s,"SyntaxHighlighter"),"register",[i].concat(t.to_a(l(r,"map",[],((n=function(t){return n.$$s,null==t&&(t=$),t.$to_s()}).$$s=i,n.$$arity=1,n)))))},n.$$arity=-1)}(x[0],x),function(r,n){var u,_,d,p,f=a(r,"Factory"),h=[f].concat(n);t.def(f,"$register",u=function(r,n){var i,o,a=this;return i=t.slice.call(arguments,1,arguments.length),l(i,"each",[],(o=function(n){var i,a=o.$$s||this;return null==n&&(n=$),i=[n,r],l(a.$registry(),"[]=",t.to_a(i)),i[e(i.length,1)]},o.$$s=a,o.$$arity=1,o))},u.$$arity=-2),t.def(f,"$for",_=function(t){return this.$registry()["$[]"](t)},_.$$arity=1),t.def(f,"$create",d=function(t,e,r){var n=$;return null==e&&(e="html5"),null==r&&(r=s([],{})),c(n=this.$for(t))?(c(i("::","Class")["$==="](n))&&(n=n.$new(t,e,r)),c(n.$name())||this.$raise(i("::","NameError"),n.$class()+" must specify a value for `name'"),n):$},d.$$arity=-2),f.$private(),t.def(f,"$registry",p=function(){return this.$raise(i("::","NotImplementedError"),o(h,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},p.$$arity=0)}(x[0],x),function(e,r,n){var i,a=u(e,null,"CustomFactory"),l=[a].concat(n);a.$include(o(l,"Factory")),t.def(a,"$initialize",i=function(t){var e;return null==t&&(t=$),this.registry=c(e=t)?e:s([],{})},i.$$arity=-1),a.$private(),a.$attr_reader("registry")}(x[0],0,x),function(e,r){var n,i=a(e,"DefaultFactory"),l=[i].concat(r);i.$include(o(l,"Factory")),t.class_variable_set(l[0],"@@registry",s([],{})),i.$private(),t.def(i,"$registry",n=function(){var t;return null==(t=l[0].$$cvars["@@registry"])?$:t},n.$$arity=0),o(l,"RUBY_ENGINE")["$=="]("opal")}(x[0],x),function(t,e,r){var n=u(t,e,"DefaultFactoryProxy"),$=[n].concat(r);n.$include(o($,"DefaultFactory")),o($,"RUBY_ENGINE")["$=="]("opal")}(x[0],o(x,"CustomFactory"),x),function(r,n,i){var a,_=u(r,null,"Base"),d=[_].concat(i);_.$$prototype.pre_class=$,_.$include(o(d,"SyntaxHighlighter")),t.def(_,"$format",a=function(r,n,i){var o,a,u,_=this,d=$,p=$,f=$,h=$;return u=c(i["$[]"]("nowrap"))?_.pre_class+" highlight nowrap":_.pre_class+" highlight",c(d=i["$[]"]("transform"))?(d["$[]"](p=s(["class"],{class:u}),f=c(n)?s(["data-lang"],{"data-lang":n}):s([],{})),c(n=f.$delete("data-lang"))&&(h=["data-lang",n],l(f,"[]=",t.to_a(h)),h[e(h.length,1)]),"<pre"+l(p,"map",[],(o=function(t,e){return o.$$s,null==t&&(t=$),null==e&&(e=$)," "+t+'="'+e+'"'},o.$$s=_,o.$$arity=2,o)).$join()+"><code"+l(f,"map",[],(a=function(t,e){return a.$$s,null==t&&(t=$),null==e&&(e=$)," "+t+'="'+e+'"'},a.$$s=_,a.$$arity=2,a)).$join()+">"+r.$content()+"</code></pre>"):'<pre class="'+u+'"><code'+(c(n)?' data-lang="'+n+'"':"")+">"+r.$content()+"</code></pre>"},a.$$arity=3)}(x[0],0,x),b.$extend(o(x,"DefaultFactory"))}(_[0],_)}(n[0],n),r.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),o(n,"RUBY_ENGINE")["$=="]("opal"),$},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var $=[],i=t.nil,o=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),l=t.klass,c=t.hash2,u=t.send,_=t.truthy,d=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$sprintf","$to_f","$read_parse","$convert","$read_parse_convert","$private","$const_defined?","$==","$clock_gettime"]),function($,p){var f=[s($,"Asciidoctor")].concat(p);!function($,s,p){var f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N=l($,null,"Timings"),F=[N].concat(p);N.$$prototype.timers=N.$$prototype.log=i,t.def(N,"$initialize",f=function(){return this.log=c([],{}),this.timers=c([],{})},f.$$arity=0),t.def(N,"$start",h=function(r){var n;return n=[r,this.$now()],u(this.timers,"[]=",t.to_a(n)),n[e(n.length,1)]},h.$$arity=1),t.def(N,"$record",m=function(r){var n,$=this;return n=[r,e($.$now(),$.timers.$delete(r))],u($.log,"[]=",t.to_a(n)),n[e(n.length,1)]},m.$$arity=1),t.def(N,"$time",y=function(e){var $,o,a=this,s=i;return $=t.slice.call(arguments,0,arguments.length),s=u($,"reduce",[0],(o=function(t,e){var n,$=o.$$s||this;return null==$.log&&($.log=i),null==t&&(t=i),null==e&&(e=i),r(t,_(n=$.log["$[]"](e))?n:0)},o.$$s=a,o.$$arity=2,o)),_(n(s,0))?s:i},y.$$arity=-1),t.def(N,"$read",g=function(){return this.$time("read")},g.$$arity=0),t.def(N,"$parse",v=function(){return this.$time("parse")},v.$$arity=0),t.def(N,"$read_parse",b=function(){return this.$time("read","parse")},b.$$arity=0),t.def(N,"$convert",x=function(){return this.$time("convert")},x.$$arity=0),t.def(N,"$read_parse_convert",k=function(){return this.$time("read","parse","convert")},k.$$arity=0),t.def(N,"$write",w=function(){return this.$time("write")},w.$$arity=0),t.def(N,"$total",E=function(){return this.$time("read","parse","convert","write")},E.$$arity=0),t.def(N,"$print_report",A=function(t,e){var r=this;return null==d.stdout&&(d.stdout=i),null==t&&(t=d.stdout),null==e&&(e=i),_(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+r.$sprintf("%05.5f",r.$read_parse().$to_f())),t.$puts("  Time to convert document: "+r.$sprintf("%05.5f",r.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+r.$sprintf("%05.5f",r.$read_parse_convert().$to_f()))},A.$$arity=-1),N.$private(),_(_(O=o("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((S=o("::","Process","skip_raise"))&&(R=S,R)&&(C=R)&&((I=C.$clock_gettime)&&!I.$$stub||C["$respond_to_missing?"]("clock_gettime"))?"method":i)["$=="]("method"):O)?(t.const_set(F[0],"CLOCK_ID",o(o("::","Process"),"CLOCK_MONOTONIC")),t.def(N,"$now",T=function(){return o("::","Process").$clock_gettime(a(F,"CLOCK_ID"))},T.$$arity=0)):t.def(N,"$now",L=function(){return o("::","Time").$now()},L.$$arity=0)}(f[0],0,f)}($[0],$)},Opal.modules["asciidoctor/converter/composite"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,$=t.const_get_qualified,i=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,s=t.hash2,l=t.send,c=t.truthy;return t.add_stubs(["$attr_reader","$each","$respond_to?","$composed","$init_backend_traits","$backend_traits","$new","$find_converter","$[]=","$-","$convert","$converter_for","$node_name","$[]","$handles?","$raise"]),function(r,u){var _=[o(r,"Asciidoctor")].concat(u);!function(r,i,o){var u,_,d,p,f=a(r,i,"CompositeConverter");[f].concat(o);f.$$prototype.converter_cache=f.$$prototype.converters=n,f.$attr_reader("converters"),t.def(f,"$initialize",u=function(r,i,o){var a,u,_,d,p,f,h=this;if(a=t.slice.call(arguments,1,arguments.length),null==(u=t.extract_kwargs(a)))u=s([],{});else if(!u.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return _=a,null==(d=u.$$smap.backend_traits_source)&&(d=n),h.backend=r,l(h.converters=_,"each",[],(p=function(t){var e=p.$$s||this;return null==t&&(t=n),c(t["$respond_to?"]("composed"))?t.$composed(e):n},p.$$s=h,p.$$arity=1,p)),c(d)&&h.$init_backend_traits(d.$backend_traits()),h.converter_cache=l($("::","Hash"),"new",[],(f=function(r,$){var i,o=f.$$s||this;return null==r&&(r=n),null==$&&($=n),i=[$,o.$find_converter($)],l(r,"[]=",t.to_a(i)),i[e(i.length,1)]},f.$$s=h,f.$$arity=2,f))},u.$$arity=-2),t.def(f,"$convert",_=function(t,e,r){var $;return null==e&&(e=n),null==r&&(r=n),this.$converter_for(e=c($=e)?$:t.$node_name()).$convert(t,e,r)},_.$$arity=-2),t.def(f,"$converter_for",d=function(t){return this.converter_cache["$[]"](t)},d.$$arity=1),t.def(f,"$find_converter",p=function(e){try{var r,$=this;return l($.converters,"each",[],((r=function($){if(r.$$s,null==$&&($=n),!c($["$handles?"](e)))return n;t.ret($)}).$$s=$,r.$$arity=1,r)),$.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},p.$$arity=1)}(i(_,"Converter"),$(i(_,"Converter"),"Base"),_)}(r[0],r)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var o=[],a=t.nil,s=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,_=t.send,d=t.hash2,p=t.truthy,f=t.gvars;return t.add_stubs(["$register_for","$default=","$-","$==","$[]","$init_backend_traits","$node_name","$===","$convert_inline_quoted","$convert_paragraph","$convert_inline_anchor","$convert_section","$convert_listing","$convert_literal","$convert_ulist","$convert_olist","$convert_dlist","$convert_admonition","$convert_colist","$convert_embedded","$convert_example","$convert_floating_title","$convert_image","$convert_inline_break","$convert_inline_button","$convert_inline_callout","$convert_inline_footnote","$convert_inline_image","$convert_inline_indexterm","$convert_inline_kbd","$convert_inline_menu","$convert_open","$convert_page_break","$convert_preamble","$convert_quote","$convert_sidebar","$convert_stem","$convert_table","$convert_thematic_break","$convert_verse","$convert_video","$convert_document","$convert_toc","$convert_pass","$convert_audio","$empty?","$attr","$attr?","$<<","$include?","$sub_replacements","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$primary_stylesheet_data","$instance","$read_contents","$syntax_highlighter","$size","$docinfo","$id","$sections?","$doctype","$role?","$role","$join","$noheader","$convert","$converter","$generate_manname_section","$header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$docinfo?","$[]=","$delete_at","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$convert_outline","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_attribute_value","$append_link_constraint_attrs","$highlight?","$to_sym","$format","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$columns","$to_h","$rows","$colspan","$rowspan","$unshift","$shift","$split","$pop","$nil_or_empty?","$type","$catalog","$get_root_document","$xreftext","$target","$reftext","$chop","$sub","$match","$private","$upcase","$nested?","$parent_document","$to_s","$handles?","$send"]),function(o,h){var m=[c(o,"Asciidoctor")].concat(h);!function(o,c,h){var m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V,J,Z,Q,tt,et,rt,nt,$t,it,ot,at,st,lt,ct,ut=u(o,c,"Html5Converter"),_t=[ut].concat(h);ut.$$prototype.void_element_slash=ut.$$prototype.xml_mode=ut.$$prototype.refs=ut.$$prototype.resolving_xref=a,ut.$register_for("html5"),ct=[["",""]],_(t.const_set(_t[0],"QUOTE_TAGS",d(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",t.to_a(ct)),e(ct.length,1),t.const_set(_t[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),t.const_set(_t[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),l(_t,"RUBY_ENGINE")["$=="]("opal")&&(t.const_set(_t[0],"SvgPreambleRx",new RegExp("^"+l(_t,"CC_ALL")+"*?(?=<svg[\\s>])")),t.const_set(_t[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)),t.const_set(_t[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+l(_t,"CC_ANY")+"*?\\1")),t.def(ut,"$initialize",m=function(t,e){var r=this,n=a;return null==e&&(e=d([],{})),r.backend=t,e["$[]"]("htmlsyntax")["$=="]("xml")?(n="xml",r.xml_mode=!0,r.void_element_slash="/"):(n="html",r.xml_mode=a,r.void_element_slash=""),r.$init_backend_traits(d(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:n,outfilesuffix:".html",supports_templates:!0}))},m.$$arity=-2),t.def(ut,"$convert",y=function(e,r,n){var $=y.$$p,i=this,o=a,s=a,l=a,c=a;for($&&(y.$$p=null),l=0,c=arguments.length,s=new Array(c);l<c;l++)s[l]=arguments[l];return null==r&&(r=e.$node_name()),null==n&&(n=a),"inline_quoted"["$==="](o=r)?i.$convert_inline_quoted(e):"paragraph"["$==="](o)?i.$convert_paragraph(e):"inline_anchor"["$==="](o)?i.$convert_inline_anchor(e):"section"["$==="](o)?i.$convert_section(e):"listing"["$==="](o)?i.$convert_listing(e):"literal"["$==="](o)?i.$convert_literal(e):"ulist"["$==="](o)?i.$convert_ulist(e):"olist"["$==="](o)?i.$convert_olist(e):"dlist"["$==="](o)?i.$convert_dlist(e):"admonition"["$==="](o)?i.$convert_admonition(e):"colist"["$==="](o)?i.$convert_colist(e):"embedded"["$==="](o)?i.$convert_embedded(e):"example"["$==="](o)?i.$convert_example(e):"floating_title"["$==="](o)?i.$convert_floating_title(e):"image"["$==="](o)?i.$convert_image(e):"inline_break"["$==="](o)?i.$convert_inline_break(e):"inline_button"["$==="](o)?i.$convert_inline_button(e):"inline_callout"["$==="](o)?i.$convert_inline_callout(e):"inline_footnote"["$==="](o)?i.$convert_inline_footnote(e):"inline_image"["$==="](o)?i.$convert_inline_image(e):"inline_indexterm"["$==="](o)?i.$convert_inline_indexterm(e):"inline_kbd"["$==="](o)?i.$convert_inline_kbd(e):"inline_menu"["$==="](o)?i.$convert_inline_menu(e):"open"["$==="](o)?i.$convert_open(e):"page_break"["$==="](o)?i.$convert_page_break(e):"preamble"["$==="](o)?i.$convert_preamble(e):"quote"["$==="](o)?i.$convert_quote(e):"sidebar"["$==="](o)?i.$convert_sidebar(e):"stem"["$==="](o)?i.$convert_stem(e):"table"["$==="](o)?i.$convert_table(e):"thematic_break"["$==="](o)?i.$convert_thematic_break(e):"verse"["$==="](o)?i.$convert_verse(e):"video"["$==="](o)?i.$convert_video(e):"document"["$==="](o)?i.$convert_document(e):"toc"["$==="](o)?i.$convert_toc(e):"pass"["$==="](o)?i.$convert_pass(e):"audio"["$==="](o)?i.$convert_audio(e):_(i,t.find_super_dispatcher(i,"convert",y,!1),s,$)},y.$$arity=-2),t.def(ut,"$convert_document",g=function($){var i,o,s,c,u,f,h,m,y,g,v,b,x,k=this,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a,D=a,z=a,B=a,M=a,j=a;return f="<br"+(h=k.void_element_slash)+">",p((w=$.$attr("asset-uri-scheme","https"))["$empty?"]())||(w+=":"),m=w+"//cdnjs.cloudflare.com/ajax/libs",y=$["$attr?"]("linkcss"),g=p($["$attr?"]("max-width"))?' style="max-width: '+$.$attr("max-width")+';"':"",E=["<!DOCTYPE html>"],v=p($["$attr?"]("nolang"))?"":' lang="'+$.$attr("lang","en")+'"',E["$<<"]("<html"+(p(k.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+v+">"),E["$<<"]('<head>\n<meta charset="'+$.$attr("encoding","UTF-8")+'"'+h+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+h+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+h+'>\n<meta name="generator" content="Asciidoctor '+$.$attr("asciidoctor-version")+'"'+h+">"),p($["$attr?"]("app-name"))&&E["$<<"]('<meta name="application-name" content="'+$.$attr("app-name")+'"'+h+">"),p($["$attr?"]("description"))&&E["$<<"]('<meta name="description" content="'+$.$attr("description")+'"'+h+">"),p($["$attr?"]("keywords"))&&E["$<<"]('<meta name="keywords" content="'+$.$attr("keywords")+'"'+h+">"),p($["$attr?"]("authors"))&&E["$<<"]('<meta name="author" content="'+(p((A=$.$sub_replacements($.$attr("authors")))["$include?"]("<"))?A.$gsub(l(_t,"XmlSanitizeRx"),""):A)+'"'+h+">"),p($["$attr?"]("copyright"))&&E["$<<"]('<meta name="copyright" content="'+$.$attr("copyright")+'"'+h+">"),p($["$attr?"]("favicon"))&&(p((O=$.$attr("favicon"))["$empty?"]())?(O="favicon.ico",S="image/x-icon"):S=p(R=l(_t,"Helpers").$extname(O,a))?R["$=="](".ico")?"image/x-icon":"image/"+R.$slice(1,R.$length()):"image/x-icon",E["$<<"]('<link rel="icon" type="'+S+'" href="'+O+'"'+h+">")),E["$<<"]("<title>"+$.$doctitle(d(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),p(l(_t,"DEFAULT_STYLESHEET_KEYS")["$include?"]($.$attr("stylesheet")))?(p(C=$.$attr("webfonts"))&&E["$<<"]('<link rel="stylesheet" href="'+w+"//fonts.googleapis.com/css?family="+(p(C["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":C)+'"'+h+">"),p(y)?E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path(l(_t,"DEFAULT_STYLESHEET_NAME"),$.$attr("stylesdir",""),!1)+'"'+h+">"):E["$<<"]("<style>\n"+l(_t,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")):p($["$attr?"]("stylesheet"))&&(p(y)?E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path($.$attr("stylesheet"),$.$attr("stylesdir",""))+'"'+h+">"):E["$<<"]("<style>\n"+$.$read_contents($.$attr("stylesheet"),d(["start","warn_on_failure","label"],{start:$.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),p($["$attr?"]("icons","font"))&&(p($["$attr?"]("iconfont-remote"))?E["$<<"]('<link rel="stylesheet" href="'+$.$attr("iconfont-cdn",m+"/font-awesome/"+l(_t,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+h+">"):(I=$.$attr("iconfont-name","font-awesome")+".css",E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path(I,$.$attr("stylesdir",""),!1)+'"'+h+">"))),p(T=$.$syntax_highlighter())&&E["$<<"](L=E.$size()),p((N=$.$docinfo())["$empty?"]())||E["$<<"](N),E["$<<"]("</head>"),b=p($.$id())?' id="'+$.$id()+'"':"",F=p(p(i=p(o=p(s=x=$["$sections?"]())?$["$attr?"]("toc-class"):s)?$["$attr?"]("toc"):o)?$["$attr?"]("toc-placement","auto"):i)?[$.$doctype(),$.$attr("toc-class"),"toc-"+$.$attr("toc-position","header")]:[$.$doctype()],p($["$role?"]())&&F["$<<"]($.$role()),E["$<<"]("<body"+b+' class="'+F.$join(" ")+'">'),p((N=$.$docinfo("header"))["$empty?"]())||E["$<<"](N),p($.$noheader())||(E["$<<"]('<div id="header"'+g+">"),$.$doctype()["$=="]("manpage")?(E["$<<"]("<h1>"+$.$doctitle()+" Manual Page</h1>"),p(p(i=p(o=x)?$["$attr?"]("toc"):o)?$["$attr?"]("toc-placement","auto"):i)&&E["$<<"]('<div id="toc" class="'+$.$attr("toc-class","toc")+'">\n<div id="toctitle">'+$.$attr("toc-title")+"</div>\n"+$.$converter().$convert($,"outline")+"\n</div>"),p($["$attr?"]("manpurpose"))&&E["$<<"](k.$generate_manname_section($))):(p($["$header?"]())&&(p($.$notitle())||E["$<<"]("<h1>"+$.$header().$title()+"</h1>"),D=[],z=1,_($.$authors(),"each",[],((c=function(t){return c.$$s,null==t&&(t=a),D["$<<"]('<span id="author'+(p(r(z,1))?z:"")+'" class="author">'+$.$sub_replacements(t.$name())+"</span>"+f),p(t.$email())&&D["$<<"]('<span id="email'+(p(r(z,1))?z:"")+'" class="email">'+$.$sub_macros(t.$email())+"</span>"+f),z=n(z,1)}).$$s=k,c.$$arity=1,c)),p($["$attr?"]("revnumber"))&&D["$<<"]('<span id="revnumber">'+(p(i=$.$attr("version-label"))?i:"").$downcase()+" "+$.$attr("revnumber")+(p($["$attr?"]("revdate"))?",":"")+"</span>"),p($["$attr?"]("revdate"))&&D["$<<"]('<span id="revdate">'+$.$attr("revdate")+"</span>"),p($["$attr?"]("revremark"))&&D["$<<"](f+'<span id="revremark">'+$.$attr("revremark")+"</span>"),p(D["$empty?"]())||(E["$<<"]('<div class="details">'),E.$concat(D),E["$<<"]("</div>"))),p(p(i=p(o=x)?$["$attr?"]("toc"):o)?$["$attr?"]("toc-placement","auto"):i)&&E["$<<"]('<div id="toc" class="'+$.$attr("toc-class","toc")+'">\n<div id="toctitle">'+$.$attr("toc-title")+"</div>\n"+$.$converter().$convert($,"outline")+"\n</div>")),E["$<<"]("</div>")),E["$<<"]('<div id="content"'+g+">\n"+$.$content()+"\n</div>"),p(p(i=$["$footnotes?"]())?$["$attr?"]("nofootnotes")["$!"]():i)&&(E["$<<"]('<div id="footnotes"'+g+">\n<hr"+h+">"),_($.$footnotes(),"each",[],((u=function(t){return u.$$s,null==t&&(t=a),E["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=k,u.$$arity=1,u)),E["$<<"]("</div>")),p($.$nofooter())||(E["$<<"]('<div id="footer"'+g+">"),E["$<<"]('<div id="footer-text">'),p($["$attr?"]("revnumber"))&&E["$<<"]($.$attr("version-label")+" "+$.$attr("revnumber")+f),p(p(i=$["$attr?"]("last-update-label"))?$["$attr?"]("reproducible")["$!"]():i)&&E["$<<"]($.$attr("last-update-label")+" "+$.$attr("docdatetime")),E["$<<"]("</div>"),E["$<<"]("</div>")),p(T)&&(p(T["$docinfo?"]("head"))?(B=[L,T.$docinfo("head",$,d(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:m,linkcss:y,self_closing_tag_slash:h}))],_(E,"[]=",t.to_a(B)),B[e(B.length,1)]):E.$delete_at(L),p(T["$docinfo?"]("footer"))&&E["$<<"](T.$docinfo("footer",$,d(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:m,linkcss:y,self_closing_tag_slash:h})))),p($["$attr?"]("stem"))&&(M=$.$attr("eqnums","none"),p(M["$empty?"]())&&(M="AMS"),j=' equationNumbers: { autoNumber: "'+M+'" } ',E["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+l(_t,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+l(_t,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+l(_t,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+j+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n<\/script>\n<script src="'+m+"/mathjax/"+l(_t,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),p((N=$.$docinfo("footer"))["$empty?"]())||E["$<<"](N),E["$<<"]("</body>"),E["$<<"]("</html>"),E.$join(l(_t,"LF"))},g.$$arity=1),t.def(ut,"$convert_embedded",v=function(t){var e,r,n,$,i=this,o=a,s=a,c=a;return o=[],t.$doctype()["$=="]("manpage")?(p(t.$notitle())||(s=p(t.$id())?' id="'+t.$id()+'"':"",o["$<<"]("<h1"+s+">"+t.$doctitle()+" Manual Page</h1>")),p(t["$attr?"]("manpurpose"))&&o["$<<"](i.$generate_manname_section(t))):p(p(e=t["$header?"]())?t.$notitle()["$!"]():e)&&(s=p(t.$id())?' id="'+t.$id()+'"':"",o["$<<"]("<h1"+s+">"+t.$header().$title()+"</h1>")),p(p(e=p(r=p(n=t["$sections?"]())?t["$attr?"]("toc"):n)?(c=t.$attr("toc-placement"))["$!="]("macro"):r)?c["$!="]("preamble"):e)&&o["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+t.$converter().$convert(t,"outline")+"\n</div>"),o["$<<"](t.$content()),p(p(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&(o["$<<"]('<div id="footnotes">\n<hr'+i.void_element_slash+">"),_(t.$footnotes(),"each",[],(($=function(t){return $.$$s,null==t&&(t=a),o["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=i,$.$$arity=1,$)),o["$<<"]("</div>")),o.$join(l(_t,"LF"))},v.$$arity=1),t.def(ut,"$convert_outline",b=function(t,e){var r,n,o,s,c,u=a,f=a;return null==e&&(e=d([],{})),p(t["$sections?"]())?(s=p(r=e["$[]"]("sectnumlevels"))?r:(p(n=t.$document().$attributes()["$[]"]("sectnumlevels"))?n:3).$to_i(),c=p(r=e["$[]"]("toclevels"))?r:(p(n=t.$document().$attributes()["$[]"]("toclevels"))?n:2).$to_i(),u=t.$sections(),f=['<ul class="sectlevel'+u["$[]"](0).$level()+'">'],_(u,"each",[],(o=function(e){var r,n,u=o.$$s||this,_=a,h=a,m=a,y=a;return null==e&&(e=a),n=e.$level(),p(e.$caption())?_=e.$captioned_title():p(p(r=e.$numbered())?$(n,s):r)?p(p(r=i(n,2))?t.$document().$doctype()["$=="]("book"):r)?(h=e.$sectname(),_="chapter"["$==="](h)?(p(m=t.$document().$attributes()["$[]"]("chapter-signifier"))?m+" ":"")+e.$sectnum()+" "+e.$title():"part"["$==="](h)?(p(m=t.$document().$attributes()["$[]"]("part-signifier"))?m+" ":"")+e.$sectnum(a,":")+" "+e.$title():e.$sectnum()+" "+e.$title()):_=e.$sectnum()+" "+e.$title():_=e.$title(),p(_["$include?"]("<a"))&&(_=_.$gsub(l(_t,"DropAnchorRx"),"")),p(p(r=i(n,c))?y=u.$convert_outline(e,d(["toclevels","sectnumlevels"],{toclevels:c,sectnumlevels:s})):r)?(f["$<<"]('<li><a href="#'+e.$id()+'">'+_+"</a>"),f["$<<"](y),f["$<<"]("</li>")):f["$<<"]('<li><a href="#'+e.$id()+'">'+_+"</a></li>")},o.$$s=this,o.$$arity=1,o)),f["$<<"]("</ul>"),f.$join(l(_t,"LF"))):a},b.$$arity=-2),t.def(ut,"$convert_section",x=function(t){var e,r,o=a,s=a,l=a,c=a,u=a,_=a,d=a,f=a;return o=t.$document().$attributes(),s=t.$level(),p(t.$caption())?l=t.$captioned_title():p(p(e=t.$numbered())?$(s,(p(r=o["$[]"]("sectnumlevels"))?r:3).$to_i()):e)?p(p(e=i(s,2))?t.$document().$doctype()["$=="]("book"):e)?(c=t.$sectname(),l="chapter"["$==="](c)?(p(u=o["$[]"]("chapter-signifier"))?u+" ":"")+t.$sectnum()+" "+t.$title():"part"["$==="](c)?(p(u=o["$[]"]("part-signifier"))?u+" ":"")+t.$sectnum(a,":")+" "+t.$title():t.$sectnum()+" "+t.$title()):l=t.$sectnum()+" "+t.$title():l=t.$title(),p(t.$id())?(_=' id="'+(d=t.$id())+'"',p(o["$[]"]("sectlinks"))&&(l='<a class="link" href="#'+d+'">'+l+"</a>"),p(o["$[]"]("sectanchors"))&&(l=o["$[]"]("sectanchors")["$=="]("after")?l+'<a class="anchor" href="#'+d+'"></a>':'<a class="anchor" href="#'+d+'"></a>'+l)):_="",s["$=="](0)?"<h1"+_+' class="sect0'+(p(f=t.$role())?" "+f:"")+'">'+l+"</h1>\n"+t.$content():'<div class="sect'+s+(p(f=t.$role())?" "+f:"")+'">\n<h'+n(s,1)+_+">"+l+"</h"+n(s,1)+">\n"+(s["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},x.$$arity=1),t.def(ut,"$convert_admonition",k=function(t){var e,r,n,$,i=a,o=a;return r=p(t.$id())?' id="'+t.$id()+'"':"",n=t.$attr("name"),$=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",i=p(t.$document()["$attr?"]("icons"))?p(p(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+r+' class="admonitionblock '+n+(p(o=t.$role())?" "+o:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+i+'\n</td>\n<td class="content">\n'+$+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},k.$$arity=1),t.def(ut,"$convert_audio",w=function(t){var e,r,n,$,i,o,a,s,l=this;return r=l.xml_mode,n=p(t.$id())?' id="'+t.$id()+'"':"",$=' class="'+["audioblock",t.$role()].$compact().$join(" ")+'"',i=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",o=t.$attr("start"),a=t.$attr("end"),s=p(p(e=o)?e:a)?"#t="+(p(e=o)?e:"")+(p(a)?","+a:""):"","<div"+n+$+">\n"+i+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+s+'"'+(p(t["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",r):"")+(p(t["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",r))+(p(t["$option?"]("loop"))?l.$append_boolean_attribute("loop",r):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},w.$$arity=1),t.def(ut,"$convert_colist",E=function(t){var e,r,$,i,o,s=a,c=a,u=a;return s=[],i=p(t.$id())?' id="'+t.$id()+'"':"",o=' class="'+["colist",t.$style(),t.$role()].$compact().$join(" ")+'"',s["$<<"]("<div"+i+o+">"),p(t["$title?"]())&&s["$<<"]('<div class="title">'+t.$title()+"</div>"),p(t.$document()["$attr?"]("icons"))?(s["$<<"]("<table>"),e=[t.$document()["$attr?"]("icons","font"),0],c=e[0],u=e[1],_(t.$items(),"each",[],(r=function(e){var $=r.$$s||this,i=a;return null==$.void_element_slash&&($.void_element_slash=a),null==e&&(e=a),u=n(u,1),i=p(c)?'<i class="conum" data-value="'+u+'"></i><b>'+u+"</b>":'<img src="'+t.$icon_uri("callouts/"+u)+'" alt="'+u+'"'+$.void_element_slash+">",s["$<<"]("<tr>\n<td>"+i+"</td>\n<td>"+e.$text()+(p(e["$blocks?"]())?n(l(_t,"LF"),e.$content()):"")+"</td>\n</tr>")},r.$$s=this,r.$$arity=1,r)),s["$<<"]("</table>")):(s["$<<"]("<ol>"),_(t.$items(),"each",[],(($=function(t){return $.$$s,null==t&&(t=a),s["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(p(t["$blocks?"]())?n(l(_t,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,$.$$arity=1,$)),s["$<<"]("</ol>")),s["$<<"]("</div>"),s.$join(l(_t,"LF"))},E.$$arity=1),t.def(ut,"$convert_dlist",A=function(t){var e,r,n,$,i,o,s=this,c=a,u=a,d=a,f=a,h=a;return c=[],i=p(t.$id())?' id="'+t.$id()+'"':"",u=t.$style(),o=' class="'+("qanda"["$==="](u)?["qlist","qanda",t.$role()]:"horizontal"["$==="](u)?["hdlist",t.$role()]:["dlist",t.$style(),t.$role()]).$compact().$join(" ")+'"',c["$<<"]("<div"+i+o+">"),p(t["$title?"]())&&c["$<<"]('<div class="title">'+t.$title()+"</div>"),u=t.$style(),"qanda"["$==="](u)?(c["$<<"]("<ol>"),_(t.$items(),"each",[],(e=function(t,r){var n,$=e.$$s||this;return null==t&&(t=a),null==r&&(r=a),c["$<<"]("<li>"),_(t,"each",[],((n=function(t){return n.$$s,null==t&&(t=a),c["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=$,n.$$arity=1,n)),p(r)&&(p(r["$text?"]())&&c["$<<"]("<p>"+r.$text()+"</p>"),p(r["$blocks?"]())&&c["$<<"](r.$content())),c["$<<"]("</li>")},e.$$s=s,e.$$arity=2,e)),c["$<<"]("</ol>")):"horizontal"["$==="](u)?(d=s.void_element_slash,c["$<<"]("<table>"),p(p(r=t["$attr?"]("labelwidth"))?r:t["$attr?"]("itemwidth"))&&(c["$<<"]("<colgroup>"),f=p(t["$attr?"]("labelwidth"))?' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"':"",c["$<<"]("<col"+f+d+">"),f=p(t["$attr?"]("itemwidth"))?' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"':"",c["$<<"]("<col"+f+d+">"),c["$<<"]("</colgroup>")),_(t.$items(),"each",[],(n=function(e,r){var $,i=n.$$s||this,o=a;return null==e&&(e=a),null==r&&(r=a),c["$<<"]("<tr>"),c["$<<"]('<td class="hdlist1'+(p(t["$option?"]("strong"))?" strong":"")+'">'),o=!0,_(e,"each",[],(($=function(t){return $.$$s,null==t&&(t=a),p(o)||c["$<<"]("<br"+d+">"),c["$<<"](t.$text()),o=a}).$$s=i,$.$$arity=1,$)),c["$<<"]("</td>"),c["$<<"]('<td class="hdlist2">'),p(r)&&(p(r["$text?"]())&&c["$<<"]("<p>"+r.$text()+"</p>"),p(r["$blocks?"]())&&c["$<<"](r.$content())),c["$<<"]("</td>"),c["$<<"]("</tr>")},n.$$s=s,n.$$arity=2,n)),c["$<<"]("</table>")):(c["$<<"]("<dl>"),h=p(t.$style())?"":' class="hdlist1"',_(t.$items(),"each",[],($=function(t,e){var r,n=$.$$s||this;return null==t&&(t=a),null==e&&(e=a),_(t,"each",[],((r=function(t){return r.$$s,null==t&&(t=a),c["$<<"]("<dt"+h+">"+t.$text()+"</dt>")}).$$s=n,r.$$arity=1,r)),p(e)?(c["$<<"]("<dd>"),p(e["$text?"]())&&c["$<<"]("<p>"+e.$text()+"</p>"),p(e["$blocks?"]())&&c["$<<"](e.$content()),c["$<<"]("</dd>")):a},$.$$s=s,$.$$arity=2,$)),c["$<<"]("</dl>")),c["$<<"]("</div>"),c.$join(l(_t,"LF"))},A.$$arity=1),t.def(ut,"$convert_example",O=function(t){var e,r=a,n=a,$=a,i=a;return e=p(t.$id())?' id="'+t.$id()+'"':"",p(t["$option?"]("collapsible"))?(r=p(t.$role())?' class="'+t.$role()+'"':"",n=p(t["$title?"]())?'<summary class="title">'+t.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+e+r+(p(t["$option?"]("open"))?" open":"")+">\n"+n+'\n<div class="content">\n'+t.$content()+"\n</div>\n</details>"):($=p(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+e+' class="exampleblock'+(p(i=t.$role())?" "+i:"")+'">\n'+$+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},O.$$arity=1),t.def(ut,"$convert_floating_title",S=function(t){var e;return"<"+(e="h"+n(t.$level(),1))+(p(t.$id())?' id="'+t.$id()+'"':"")+' class="'+[t.$style(),t.$role()].$compact().$join(" ")+'">'+t.$title()+"</"+e+">"},S.$$arity=1),t.def(ut,"$convert_image",R=function(t){var e,r,n,$,o,c=this,u=a,_=a,d=a,f=a;return u=t.$attr("target"),n=p(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",$=p(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",p(p(e=p(r=t["$attr?"]("format","svg"))?r:u["$include?"](".svg"))?i(t.$document().$safe(),s(l(_t,"SafeMode"),"SECURE")):e)?p(t["$option?"]("inline"))?_=p(e=c.$read_svg_contents(t,u))?e:'<span class="alt">'+t.$alt()+"</span>":p(t["$option?"]("interactive"))?(d=p(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+c.$encode_attribute_value(t.$alt())+'"'+n+$+c.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",_='<object type="image/svg+xml" data="'+t.$image_uri(u)+'"'+n+$+">"+d+"</object>"):_='<img src="'+t.$image_uri(u)+'" alt="'+c.$encode_attribute_value(t.$alt())+'"'+n+$+c.void_element_slash+">":_='<img src="'+t.$image_uri(u)+'" alt="'+c.$encode_attribute_value(t.$alt())+'"'+n+$+c.void_element_slash+">",p(t["$attr?"]("link"))&&(_='<a class="image" href="'+t.$attr("link")+'"'+c.$append_link_constraint_attrs(t).$join()+">"+_+"</a>"),o=p(t.$id())?' id="'+t.$id()+'"':"",f=["imageblock"],p(t["$attr?"]("float"))&&f["$<<"](t.$attr("float")),p(t["$attr?"]("align"))&&f["$<<"]("text-"+t.$attr("align")),p(t.$role())&&f["$<<"](t.$role()),"<div"+o+(' class="'+f.$join(" ")+'"')+'>\n<div class="content">\n'+_+"\n</div>"+(p(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":"")+"\n</div>"},R.$$arity=1),t.def(ut,"$convert_listing",C=function(r){var $,i,o,s,l=a,c=a,u=a,f=a,h=a,m=a,y=a,g=a;return i=p($=r["$option?"]("nowrap"))?$:r.$document()["$attr?"]("prewrap")["$!"](),r.$style()["$=="]("source")?(l=r.$attr("language"),p(c=r.$document().$syntax_highlighter())?(u=p(c["$highlight?"]())?d(["css_mode","style"],{css_mode:(p($=(f=r.$document().$attributes())["$[]"](c.$name()+"-css"))?$:"class").$to_sym(),style:f["$[]"](c.$name()+"-style")}):d([],{}),h=["nowrap",i],_(u,"[]=",t.to_a(h)),h[e(h.length,1)]):(m='<pre class="highlight'+(p(i)?" nowrap":"")+'"><code'+(p(l)?' class="language-'+l+'" data-lang="'+l+'"':"")+">",y="</code></pre>")):(m="<pre"+(p(i)?' class="nowrap"':"")+">",y="</pre>"),o=p(r.$id())?' id="'+r.$id()+'"':"",s=p(r["$title?"]())?'<div class="title">'+r.$captioned_title()+"</div>\n":"","<div"+o+' class="listingblock'+(p(g=r.$role())?" "+g:"")+'">\n'+s+'<div class="content">\n'+(p(c)?c.$format(r,l,u):n(n(m,p($=r.$content())?$:""),y))+"\n</div>\n</div>"},C.$$arity=1),t.def(ut,"$convert_literal",I=function(t){var e,r,n,$,i=a;return r=p(t.$id())?' id="'+t.$id()+'"':"",n=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",$=p(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(p(i=t.$role())?" "+i:"")+'">\n'+n+'<div class="content">\n<pre'+(p($)?' class="nowrap"':"")+">"+t.$content()+"</pre>\n</div>\n</div>"},I.$$arity=1),t.def(ut,"$convert_stem",T=function(r){var n,$,i,o,s,c,u,d=a,h=a,m=a,y=a;return o=p(r.$id())?' id="'+r.$id()+'"':"",s=p(r["$title?"]())?'<div class="title">'+r.$title()+"</div>\n":"",$=l(_t,"BLOCK_MATH_DELIMITERS")["$[]"](d=r.$style().$to_sym()),n=t.to_ary($),c=null==n[0]?a:n[0],u=null==n[1]?a:n[1],p(h=r.$content())?(p((n=d["$=="]("asciimath"))?h["$include?"](l(_t,"LF")):d["$=="]("asciimath"))&&(m=l(_t,"LF")+"<br"+this.void_element_slash+">",h=_(h,"gsub",[l(_t,"StemBreakRx")],((i=function(){var t,r,n;i.$$s;return""+u+(r=m,n=e(((t=f["~"])===a?a:t["$[]"](0)).$count(l(_t,"LF")),1),"number"==typeof r&&"number"==typeof n?r*n:r["$*"](n))+l(_t,"LF")+c}).$$s=this,i.$$arity=0,i))),p(p(n=h["$start_with?"](c))?h["$end_with?"](u):n)||(h=""+c+h+u)):h="","<div"+o+' class="stemblock'+(p(y=r.$role())?" "+y:"")+'">\n'+s+'<div class="content">\n'+h+"\n</div>\n</div>"},T.$$arity=1),t.def(ut,"$convert_olist",L=function(t){var e,r,n,$,i,o,s=this,c=a,u=a;return c=[],r=p(t.$id())?' id="'+t.$id()+'"':"",n=' class="'+["olist",t.$style(),t.$role()].$compact().$join(" ")+'"',c["$<<"]("<div"+r+n+">"),p(t["$title?"]())&&c["$<<"]('<div class="title">'+t.$title()+"</div>"),$=p(u=t.$list_marker_keyword())?' type="'+u+'"':"",i=p(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",o=p(t["$option?"]("reversed"))?s.$append_boolean_attribute("reversed",s.xml_mode):"",c["$<<"]('<ol class="'+t.$style()+'"'+$+i+o+">"),_(t.$items(),"each",[],((e=function(t){return e.$$s,null==t&&(t=a),p(t.$id())?c["$<<"]('<li id="'+t.$id()+'"'+(p(t.$role())?' class="'+t.$role()+'"':"")+">"):p(t.$role())?c["$<<"]('<li class="'+t.$role()+'">'):c["$<<"]("<li>"),c["$<<"]("<p>"+t.$text()+"</p>"),p(t["$blocks?"]())&&c["$<<"](t.$content()),c["$<<"]("</li>")}).$$s=s,e.$$arity=1,e)),c["$<<"]("</ol>"),c["$<<"]("</div>"),c.$join(l(_t,"LF"))},L.$$arity=1),t.def(ut,"$convert_open",N=function(t){var e,n,$,i=a,o=a,s=a,l=a;return(i=t.$style())["$=="]("abstract")?p((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(o=p(t.$id())?' id="'+t.$id()+'"':"",s=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+o+' class="quoteblock abstract'+(p(l=t.$role())?" "+l:"")+'">\n'+s+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):p((e=i["$=="]("partintro"))?p(n=p($=r(t.$level(),0))?$:t.$parent().$context()["$!="]("section"))?n:t.$document().$doctype()["$!="]("book"):i["$=="]("partintro"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(o=p(t.$id())?' id="'+t.$id()+'"':"",s=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+o+' class="openblock'+(p(p(e=i)?i["$!="]("open"):e)?" "+i:"")+(p(l=t.$role())?" "+l:"")+'">\n'+s+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},N.$$arity=1),t.def(ut,"$convert_page_break",F=function(t){return'<div style="page-break-after: always;"></div>'},F.$$arity=1),t.def(ut,"$convert_paragraph",D=function(t){var e=a;return e=p(t.$role())?(p(t.$id())?' id="'+t.$id()+'"':"")+' class="paragraph '+t.$role()+'"':p(t.$id())?' id="'+t.$id()+'" class="paragraph"':' class="paragraph"',p(t["$title?"]())?"<div"+e+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div"+e+">\n<p>"+t.$content()+"</p>\n</div>"},D.$$arity=1),t.alias(ut,"convert_pass","content_only"),t.def(ut,"$convert_preamble",z=function(t){var e,r,n=a,$=a;return $=p(p(e=p(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+n.$converter().$convert(n,"outline")+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+$+"\n</div>"},z.$$arity=1),t.def(ut,"$convert_quote",B=function(t){var e,r,n,$,i,o,s=this,l=a,c=a;return r=p(t.$id())?' id="'+t.$id()+'"':"",n=' class="'+["quoteblock",t.$role()].$compact().$join(" ")+'"',$=p(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",i=p(t["$attr?"]("attribution"))?t.$attr("attribution"):a,o=p(t["$attr?"]("citetitle"))?t.$attr("citetitle"):a,p(p(e=i)?e:o)?(l=p(o)?"<cite>"+o+"</cite>":"",c='\n<div class="attribution">\n'+(p(i)?"&#8212; "+i+(p(o)?"<br"+s.void_element_slash+">\n":""):"")+l+"\n</div>"):c="","<div"+r+n+">"+$+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+c+"\n</div>"},B.$$arity=1),t.def(ut,"$convert_thematic_break",M=function(t){return"<hr"+this.void_element_slash+">"},M.$$arity=1),t.def(ut,"$convert_sidebar",j=function(t){var e,r,n=a;return e=p(t.$id())?' id="'+t.$id()+'"':"",r=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+e+' class="sidebarblock'+(p(n=t.$role())?" "+n:"")+'">\n<div class="content">\n'+r+t.$content()+"\n</div>\n</div>"},j.$$arity=1),t.def(ut,"$convert_table",q=function(t){var e,$,i,o,s,c,u,d,f=this,h=a,m=a,y=a,g=a,v=a,b=a;return h=[],o=p(t.$id())?' id="'+t.$id()+'"':"",(m=t.$attr("frame","all","table-frame"))["$=="]("topbot")&&(m="ends"),y=["tableblock","frame-"+m,"grid-"+t.$attr("grid","all","table-grid")],p(s=t.$attr("stripes",a,"table-stripes"))&&y["$<<"]("stripes-"+s),g="",p(p(e=c=t["$option?"]("autowidth"))?t["$attr?"]("width")["$!"]():e)?y["$<<"]("fit-content"):(v=t.$attr("tablepcwidth"))["$=="](100)?y["$<<"]("stretch"):g=' style="width: '+v+'%;"',p(t["$attr?"]("float"))&&y["$<<"](t.$attr("float")),p(u=t.$role())&&y["$<<"](u),d=' class="'+y.$join(" ")+'"',h["$<<"]("<table"+o+d+g+">"),p(t["$title?"]())&&h["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),p(r(t.$attr("rowcount"),0))&&(b=f.void_element_slash,h["$<<"]("<colgroup>"),p(c)?h=n(h,l(_t,"Array").$new(t.$columns().$size(),"<col"+b+">")):_(t.$columns(),"each",[],(($=function(t){return $.$$s,null==t&&(t=a),h["$<<"](p(t["$option?"]("autowidth"))?"<col"+b+">":'<col style="width: '+t.$attr("colpcwidth")+'%;"'+b+">")}).$$s=f,$.$$arity=1,$)),h["$<<"]("</colgroup>"),_(t.$rows().$to_h(),"each",[],(i=function(e,r){var n,$=i.$$s||this;return null==e&&(e=a),null==r&&(r=a),p(r["$empty?"]())?a:(h["$<<"]("<t"+e+">"),_(r,"each",[],(n=function(r){var $,i=n.$$s||this;return null==r&&(r=a),h["$<<"]("<tr>"),_(r,"each",[],(($=function(r){$.$$s;var n,i,o,s,l,c,u=a,_=a;return null==r&&(r=a),e["$=="]("head")?u=r.$text():(_=r.$style(),u="asciidoc"["$==="](_)?'<div class="content">'+r.$content()+"</div>":"literal"["$==="](_)?'<div class="literal"><pre>'+r.$text()+"</pre></div>":p((u=r.$content())["$empty?"]())?"":'<p class="tableblock">'+u.$join('</p>\n<p class="tableblock">')+"</p>"),i=p(p(n=e["$=="]("head"))?n:r.$style()["$=="]("header"))?"th":"td",o=' class="tableblock halign-'+r.$attr("halign")+" valign-"+r.$attr("valign")+'"',s=p(r.$colspan())?' colspan="'+r.$colspan()+'"':"",l=p(r.$rowspan())?' rowspan="'+r.$rowspan()+'"':"",c=p(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",h["$<<"]("<"+i+o+s+l+c+">"+u+"</"+i+">")}).$$s=i,$.$$arity=1,$)),h["$<<"]("</tr>")},n.$$s=$,n.$$arity=1,n)),h["$<<"]("</t"+e+">"))},i.$$s=f,i.$$arity=2,i))),h["$<<"]("</table>"),h.$join(l(_t,"LF"))},q.$$arity=1),t.def(ut,"$convert_toc",P=function(t){var e,r,n,$,i=a,o=a,s=a;return p(p(e=p(r=(i=t.$document())["$attr?"]("toc-placement","macro"))?i["$sections?"]():r)?i["$attr?"]("toc"):e)?(p(t.$id())?(o=' id="'+t.$id()+'"',s=' id="'+t.$id()+'title"'):(o=' id="toc"',s=' id="toctitle"'),n=p(t["$title?"]())?t.$title():i.$attr("toc-title"),$=p(t["$attr?"]("levels"))?t.$attr("levels").$to_i():a,"<div"+o+' class="'+(p(t["$role?"]())?t.$role():i.$attr("toc-class","toc"))+'">\n<div'+s+' class="title">'+n+"</div>\n"+i.$converter().$convert(i,"outline",d(["toclevels"],{toclevels:$}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},P.$$arity=1),t.def(ut,"$convert_ulist",U=function(t){var e,r,n,$=a,i=a,o=a,s=a,c=a;return $=[],r=p(t.$id())?' id="'+t.$id()+'"':"",i=["ulist",t.$style(),t.$role()].$compact(),o=s="",p(n=t["$option?"]("checklist"))?(i.$unshift(i.$shift(),"checklist"),c=' class="checklist"',p(t["$option?"]("interactive"))?p(this.xml_mode)?(o='<input type="checkbox" data-item-complete="1" checked="checked"/> ',s='<input type="checkbox" data-item-complete="0"/> '):(o='<input type="checkbox" data-item-complete="1" checked> ',s='<input type="checkbox" data-item-complete="0"> '):p(t.$document()["$attr?"]("icons","font"))?(o='<i class="fa fa-check-square-o"></i> ',s='<i class="fa fa-square-o"></i> '):(o="&#10003; ",s="&#10063; ")):c=p(t.$style())?' class="'+t.$style()+'"':"",$["$<<"]("<div"+r+' class="'+i.$join(" ")+'">'),p(t["$title?"]())&&$["$<<"]('<div class="title">'+t.$title()+"</div>"),$["$<<"]("<ul"+c+">"),_(t.$items(),"each",[],((e=function(t){var r;e.$$s;return null==t&&(t=a),p(t.$id())?$["$<<"]('<li id="'+t.$id()+'"'+(p(t.$role())?' class="'+t.$role()+'"':"")+">"):p(t.$role())?$["$<<"]('<li class="'+t.$role()+'">'):$["$<<"]("<li>"),p(p(r=n)?t["$attr?"]("checkbox"):r)?$["$<<"]("<p>"+(p(t["$attr?"]("checked"))?o:s)+t.$text()+"</p>"):$["$<<"]("<p>"+t.$text()+"</p>"),p(t["$blocks?"]())&&$["$<<"](t.$content()),$["$<<"]("</li>")}).$$s=this,e.$$arity=1,e)),$["$<<"]("</ul>"),$["$<<"]("</div>"),$.$join(l(_t,"LF"))},U.$$arity=1),t.def(ut,"$convert_verse",H=function(t){var e,r,n,$,i,o,s=this,l=a,c=a;return r=p(t.$id())?' id="'+t.$id()+'"':"",n=' class="'+["verseblock",t.$role()].$compact().$join(" ")+'"',$=p(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",i=p(t["$attr?"]("attribution"))?t.$attr("attribution"):a,o=p(t["$attr?"]("citetitle"))?t.$attr("citetitle"):a,p(p(e=i)?e:o)?(l=p(o)?"<cite>"+o+"</cite>":"",c='\n<div class="attribution">\n'+(p(i)?"&#8212; "+i+(p(o)?"<br"+s.void_element_slash+">\n":""):"")+l+"\n</div>"):c="","<div"+r+n+">"+$+'\n<pre class="content">'+t.$content()+"</pre>"+c+"\n</div>"},H.$$arity=1),t.def(ut,"$convert_video",Y=function(e){var r,n,$,i,o,s,l,c,u=this,_=a,d=a,f=a,h=a,m=a,y=a,g=a,v=a,b=a,x=a,k=a,w=a,E=a,A=a,O=a,S=a,R=a,C=a,I=a,T=a,L=a,N=a,F=a,D=a,z=a,B=a,M=a,j=a,q=a,P=a,U=a;return $=u.xml_mode,i=p(e.$id())?' id="'+e.$id()+'"':"",_=["videoblock"],p(e["$attr?"]("float"))&&_["$<<"](e.$attr("float")),p(e["$attr?"]("align"))&&_["$<<"]("text-"+e.$attr("align")),p(e.$role())&&_["$<<"](e.$role()),o=' class="'+_.$join(" ")+'"',s=p(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",l=p(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",c=p(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",d=e.$attr("poster"),"vimeo"["$==="](d)?(p((f=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(f+=":"),h=p(e["$attr?"]("start"))?"#at="+e.$attr("start"):"",m=["?"],n=e.$attr("target").$split("/",2),r=t.to_ary(n),y=null==r[0]?a:r[0],g=null==r[1]?a:r[1],v=p(g=p(r=g)?r:e.$attr("hash"))?(p(r=m.$pop())?r:"&amp;")+"h="+g:"",b=p(e["$option?"]("autoplay"))?(p(r=m.$pop())?r:"&amp;")+"autoplay=1":"",x=p(e["$option?"]("loop"))?(p(r=m.$pop())?r:"&amp;")+"loop=1":"",k=p(e["$option?"]("muted"))?(p(r=m.$pop())?r:"&amp;")+"muted=1":"","<div"+i+o+">"+s+'\n<div class="content">\n<iframe'+l+c+' src="'+f+"//player.vimeo.com/video/"+y+v+b+x+k+h+'" frameborder="0"'+(p(e["$option?"]("nofullscreen"))?"":u.$append_boolean_attribute("allowfullscreen",$))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](d)?(p((f=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(f+=":"),w=p(e["$option?"]("related"))?1:0,E=p(e["$attr?"]("start"))?"&amp;start="+e.$attr("start"):"",A=p(e["$attr?"]("end"))?"&amp;end="+e.$attr("end"):"",b=p(e["$option?"]("autoplay"))?"&amp;autoplay=1":"",x=p(O=e["$option?"]("loop"))?"&amp;loop=1":"",S=p(e["$option?"]("muted"))?"&amp;mute=1":"",R=p(e["$option?"]("nocontrols"))?"&amp;controls=0":"",p(e["$option?"]("nofullscreen"))?(C="&amp;fs=0",I=""):(C="",I=u.$append_boolean_attribute("allowfullscreen",$)),T=p(e["$option?"]("modest"))?"&amp;modestbranding=1":"",L=p(e["$attr?"]("theme"))?"&amp;theme="+e.$attr("theme"):"",N=p(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):"",n=e.$attr("target").$split("/",2),r=t.to_ary(n),y=null==r[0]?a:r[0],F=null==r[1]?a:r[1],p(F=p(r=F)?r:e.$attr("list"))?D="&amp;list="+F:(n=y.$split(",",2),r=t.to_ary(n),y=null==r[0]?a:r[0],z=null==r[1]?a:r[1],D=p(z=p(r=z)?r:e.$attr("playlist"))?"&amp;playlist="+y+","+z:p(O)?"&amp;playlist="+y:""),"<div"+i+o+">"+s+'\n<div class="content">\n<iframe'+l+c+' src="'+f+"//www.youtube.com/embed/"+y+"?rel="+w+E+A+b+x+S+R+D+C+T+L+N+'" frameborder="0"'+I+"></iframe>\n</div>\n</div>"):(B=p((M=e.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+e.$media_uri(M)+'"',j=p((M=e.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+M+'"',q=e.$attr("start"),P=e.$attr("end"),U=p(p(r=q)?r:P)?"#t="+(p(r=q)?r:"")+(p(P)?","+P:""):"","<div"+i+o+">"+s+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+U+'"'+l+c+B+(p(e["$option?"]("autoplay"))?u.$append_boolean_attribute("autoplay",$):"")+(p(e["$option?"]("muted"))?u.$append_boolean_attribute("muted",$):"")+(p(e["$option?"]("nocontrols"))?"":u.$append_boolean_attribute("controls",$))+(p(e["$option?"]("loop"))?u.$append_boolean_attribute("loop",$):"")+j+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},Y.$$arity=1),t.def(ut,"$convert_inline_anchor",G=function(t){var e,r,n=this,$=a,i=a,o=a,s=a,c=a,u=a,_=a,d=a;return $=t.$type(),"xref"["$==="]($)?(p(i=t.$attributes()["$[]"]("path"))?(o=n.$append_link_constraint_attrs(t,p(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),s=p(e=t.$text())?e:i):(o=p(t.$role())?' class="'+t.$role()+'"':"",p(s=t.$text())||(p(l(_t,"AbstractNode")["$==="](c=p(e=(n.refs=p(r=n.refs)?r:t.$document().$catalog()["$[]"]("refs"))["$[]"](u=t.$attributes()["$[]"]("refid")))?e:p(u["$nil_or_empty?"]())?_=n.$get_root_document(t):a))?p(p(e=n.resolving_xref=p(r=n.resolving_xref)?r:d=!0)?d:e)?(p(s=c.$xreftext(t.$attr("xrefstyle",a,!0)))?p(s["$include?"]("<a"))&&(s=s.$gsub(l(_t,"DropAnchorRx"),"")):s=p(_)?"[^top]":"["+u+"]",n.resolving_xref=a):s=p(_)?"[^top]":"["+u+"]":s="["+u+"]")),'<a href="'+t.$target()+'"'+o+">"+s+"</a>"):"ref"["$==="]($)?'<a id="'+t.$id()+'"></a>':"link"["$==="]($)?(o=p(t.$id())?[' id="'+t.$id()+'"']:[],p(t.$role())&&o["$<<"](' class="'+t.$role()+'"'),p(t["$attr?"]("title"))&&o["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+n.$append_link_constraint_attrs(t,o).$join()+">"+t.$text()+"</a>"):"bibref"["$==="]($)?'<a id="'+t.$id()+'"></a>['+(p(e=t.$reftext())?e:t.$id())+"]":(n.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),a)},G.$$arity=1),t.def(ut,"$convert_inline_break",W=function(t){return t.$text()+"<br"+this.void_element_slash+">"},W.$$arity=1),t.def(ut,"$convert_inline_button",X=function(t){return'<b class="button">'+t.$text()+"</b>"},X.$$arity=1),t.def(ut,"$convert_inline_callout",K=function(t){var e=a;return p(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":p(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":p(s("::","Array")["$==="](e=t.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+t.$text()+")</b>--&gt;":e+'<b class="conum">('+t.$text()+")</b>"},K.$$arity=1),t.def(ut,"$convert_inline_footnote",V=function(t){var e;return p(e=t.$attr("index"))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(p(t.$id())?' id="_footnote_'+t.$id()+'"':"")+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":a},V.$$arity=1),t.def(ut,"$convert_inline_image",J=function(t){var e,r,n,$=this,o=a,c=a,u=a,_=a,d=a,f=a,h=a,m=a;return o=t.$target(),(c=p(e=t.$type())?e:"image")["$=="]("icon")?(u=t.$document().$attr("icons"))["$=="]("font")?(_="fa fa-"+o,p(t["$attr?"]("size"))&&(_=_+" fa-"+t.$attr("size")),p(t["$attr?"]("flip"))?_=_+" fa-flip-"+t.$attr("flip"):p(t["$attr?"]("rotate"))&&(_=_+" fa-rotate-"+t.$attr("rotate")),f='<i class="'+_+'"'+(d=p(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"")+"></i>"):p(u)?(d=p(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",p(t["$attr?"]("height"))&&(d=d+' height="'+t.$attr("height")+'"'),p(t["$attr?"]("title"))&&(d=d+' title="'+t.$attr("title")+'"'),f='<img src="'+t.$icon_uri(o)+'" alt="'+$.$encode_attribute_value(t.$alt())+'"'+d+$.void_element_slash+">"):f="["+t.$alt()+"&#93;":(d=p(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",p(t["$attr?"]("height"))&&(d=d+' height="'+t.$attr("height")+'"'),p(t["$attr?"]("title"))&&(d=d+' title="'+t.$attr("title")+'"'),p(p(e=p(r=t["$attr?"]("format","svg"))?r:o["$include?"](".svg"))?i(t.$document().$safe(),s(l(_t,"SafeMode"),"SECURE")):e)?p(t["$option?"]("inline"))?f=p(e=$.$read_svg_contents(t,o))?e:'<span class="alt">'+t.$alt()+"</span>":p(t["$option?"]("interactive"))?(h=p(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+$.$encode_attribute_value(t.$alt())+'"'+d+$.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",f='<object type="image/svg+xml" data="'+t.$image_uri(o)+'"'+d+">"+h+"</object>"):f='<img src="'+t.$image_uri(o)+'" alt="'+$.$encode_attribute_value(t.$alt())+'"'+d+$.void_element_slash+">":f='<img src="'+t.$image_uri(o)+'" alt="'+$.$encode_attribute_value(t.$alt())+'"'+d+$.void_element_slash+">"),p(t["$attr?"]("link"))&&(f='<a class="image" href="'+t.$attr("link")+'"'+$.$append_link_constraint_attrs(t).$join()+">"+f+"</a>"),m=c,p(n=t.$role())?m=p(t["$attr?"]("float"))?m+" "+t.$attr("float")+" "+n:m+" "+n:p(t["$attr?"]("float"))&&(m=m+" "+t.$attr("float")),'<span class="'+m+'">'+f+"</span>"},J.$$arity=1),t.def(ut,"$convert_inline_indexterm",Z=function(t){return t.$type()["$=="]("visible")?t.$text():""},Z.$$arity=1),t.def(ut,"$convert_inline_kbd",Q=function(t){var e=a;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e.$join("</kbd>+<kbd>")+"</kbd></span>"},Q.$$arity=1),t.def(ut,"$convert_inline_menu",tt=function(t){var e,r,n,$=a,i=a;return r="</b>"+(e=p(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',n=t.$attr("menu"),p(($=t.$attr("submenus"))["$empty?"]())?p(i=t.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="menuitem">'+i+"</b></span>":'<b class="menuref">'+n+"</b>":'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="submenu">'+$.$join(r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},tt.$$arity=1),t.def(ut,"$convert_inline_quoted",et=function(e){var r,n,$,i,o=a,s=a;return n=l(_t,"QUOTE_TAGS")["$[]"](e.$type()),o=null==(r=t.to_ary(n))[0]?a:r[0],$=null==r[1]?a:r[1],i=null==r[2]?a:r[2],p(e.$id())?(s=p(e.$role())?' class="'+e.$role()+'"':"",p(i)?o.$chop()+' id="'+e.$id()+'"'+s+">"+e.$text()+$:'<span id="'+e.$id()+'"'+s+">"+o+e.$text()+$+"</span>"):p(e.$role())?p(i)?o.$chop()+' class="'+e.$role()+'">'+e.$text()+$:'<span class="'+e.$role()+'">'+o+e.$text()+$+"</span>":""+o+e.$text()+$},et.$$arity=1),t.def(ut,"$read_svg_contents",rt=function(e,r){var n,$=a,i=a,o=a,s=a;if(p($=e.$read_contents(r,d(["start","normalize","label","warn_if_empty"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(p($["$empty?"]()))return a;p($["$start_with?"]("<svg"))||($=$.$sub(l(_t,"SvgPreambleRx"),"")),i=o=s=a,_(["width","height"],"each",[],((n=function(t){var r,c;n.$$s;if(null==t&&(t=a),!p(e["$attr?"](t)))return a;if(p(o));else{if((s=p(r=s)?r:p(c=$.$match(l(_t,"SvgStartTagRx")))?c:"no_match")["$=="]("no_match"))return a;o=(i=s["$[]"](0)).$gsub(l(_t,"DimensionAttributeRx"),"")}return o=o.$chop()+" "+t+'="'+e.$attr(t)+'">'}).$$s=this,n.$$arity=1,n)),p(o)&&($=""+o+$["$[]"](t.Range.$new(i.$length(),-1,!1)))}return $},rt.$$arity=2),ut.$private(),t.def(ut,"$append_boolean_attribute",nt=function(t,e){return p(e)?" "+t+'="'+t+'"':" "+t},nt.$$arity=2),t.def(ut,"$append_link_constraint_attrs",$t=function(t,e){var r,n=a,$=a;return null==e&&(e=[]),p(t["$option?"]("nofollow"))&&(n="nofollow"),p($=t.$attributes()["$[]"]("window"))?(e["$<<"](' target="'+$+'"'),p(p(r=$["$=="]("_blank"))?r:t["$option?"]("noopener"))&&e["$<<"](p(n)?' rel="'+n+' noopener"':' rel="noopener"')):p(n)&&e["$<<"](' rel="'+n+'"'),e},$t.$$arity=-2),t.def(ut,"$encode_attribute_value",it=function(t){return p(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},it.$$arity=1),t.def(ut,"$generate_manname_section",ot=function(t){var e,r=a,n=a,$=a,i=a;return r=t.$attr("manname-title","Name"),p(p(e=n=t.$sections()["$[]"](0))?($=n.$title())["$=="]($.$upcase()):e)&&(r=r.$upcase()),"<h2"+(p(i=t.$attr("manname-id"))?' id="'+i+'"':"")+">"+r+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("mannames").$join(", ")+" - "+t.$attr("manpurpose")+"</p>\n</div>"},ot.$$arity=1),t.def(ut,"$get_root_document",at=function(t){for(;p((t=t.$document())["$nested?"]());)t=t.$parent_document();return t},at.$$arity=1),t.def(ut,"$method_missing",st=function(e,r){var n,$,i=st.$$p,o=this,s=a,l=a,c=a,u=a;for(i&&(st.$$p=null),c=0,u=arguments.length,l=new Array(u);c<u;c++)l[c]=arguments[c];return n=t.slice.call(arguments,1,arguments.length),p(p($=(s=e.$to_s())["$start_with?"]("convert_")["$!"]())?o["$handles?"](s):$)?_(o,"send",["convert_"+s].concat(t.to_a(n))):_(o,t.find_super_dispatcher(o,"method_missing",st,!1),l,i)},st.$$arity=-2),t.def(ut,"$respond_to_missing?",lt=function(e,r){var n,$=this,i=a;return t.slice.call(arguments,1,arguments.length),p(n=(i=e.$to_s())["$start_with?"]("convert_")["$!"]())?$["$handles?"](i):n},lt.$$arity=-2)}(l(m,"Converter"),s(l(m,"Converter"),"Base"),m)}(o[0],o)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var i=[],o=t.nil,a=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.truthy,_=t.hash2,d=t.send,p=t.hash;return t.add_stubs(["$==","$[]=","$config","$-","$const_defined?","$singleton_class?","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$parse_blocks","$empty?","$include?","$sub_attributes","$parse","$each","$define_method","$unshift","$shift","$send","$size","$binding","$receiver","$define_singleton_method","$instance_exec","$to_proc","$call","$option","$flatten","$respond_to?","$to_s","$partition","$to_i","$<<","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$split","$capitalize","$instance_variable_set","$resolve_args","$enable_dsl","$singleton_class","$process_block_given?","$source_location","$freeze","$resolve_class","$<","$update_config","$as_symbol","$name","$name=","$pop","$-@","$next_auto_id","$generate_name"]),s(i,"RUBY_ENGINE")["$=="]("opal"),function(i,f){var h=[l(i,"Asciidoctor")].concat(f);!function(i,f){var h=l(i,"Extensions"),m=[h].concat(f);!function($,i,l){var p,f,h,m,y,g,v,b,x,k,w,E,A=c($,null,"Processor"),O=[A].concat(l);A.$$prototype.config=o,function(r,n){var $,i,a;[r].concat(n);t.def(r,"$config",$=function(){var t,e=this;return null==e.config&&(e.config=o),e.config=u(t=e.config)?t:_([],{})},$.$$arity=0),t.def(r,"$option",i=function(r,n){var $;return $=[r,n],d(this.$config(),"[]=",t.to_a($)),$[e($.length,1)]},i.$$arity=2),t.def(r,"$enable_dsl",a=function(){var t=this;return u(t["$const_defined?"]("DSL"))?u(t["$singleton_class?"]())?t.$include(t.$const_get("DSL")):t.$extend(t.$const_get("DSL")):o},a.$$arity=0),t.alias(r,"use_dsl","enable_dsl")}(t.get_singleton_class(A),O),A.$attr_reader("config"),t.def(A,"$initialize",p=function(t){return null==t&&(t=_([],{})),this.config=this.$class().$config().$merge(t)},p.$$arity=-1),t.def(A,"$update_config",f=function(t){return this.config.$update(t)},f.$$arity=1),t.def(A,"$process",h=function(e){var r=this;return t.slice.call(arguments,0,arguments.length),r.$raise(a("::","NotImplementedError"),s(O,"Processor")+" subclass "+r.$class()+" must implement the #process method")},h.$$arity=-1),t.def(A,"$create_section",m=function($,i,a,l){var c,p,f=o,h=o,m=o,y=o,g=o,v=o,b=o,x=o,k=o;return null==l&&(l=_([],{})),f=$.$document(),p=(h=f.$doctype())["$=="]("book"),m=u(c=l["$[]"]("level"))?c:r($.$level(),1),u(y=a.$delete("style"))?u(u(c=p)?y["$=="]("abstract"):c)?(g=(c=["chapter",1])[0],m=c[1]):(g=(c=[y,!0])[0],v=c[1],m["$=="](0)&&(m=1)):u(p)?g=m["$=="](0)?"part":u(n(m,1))?"section":"chapter":u((c=h["$=="]("manpage"))?i.$casecmp("synopsis")["$=="](0):h["$=="]("manpage"))?(g=(c=["synopsis",!0])[0],v=c[1]):g="section",b=s(O,"Section").$new($,m),c=[i,g],b["$title="](c[0]),b["$sectname="](c[1]),u(v)?(x=[!0],d(b,"special=",t.to_a(x)),x[e(x.length,1)],u(l.$fetch("numbered",y["$=="]("appendix")))?(x=[!0],d(b,"numbered=",t.to_a(x)),x[e(x.length,1)]):u(u(c=l["$key?"]("numbered")["$!"]())?f["$attr?"]("sectnums","all"):c)&&(x=[!u(u(c=p)?m["$=="](1):c)||"chapter"],d(b,"numbered=",t.to_a(x)),x[e(x.length,1)])):u(n(m,0))?u(l.$fetch("numbered",f["$attr?"]("sectnums")))&&(x=[!u(b.$special())||!!u(c=$.$numbered())||c],d(b,"numbered=",t.to_a(x)),x[e(x.length,1)]):u(l.$fetch("numbered",u(c=p)?f["$attr?"]("partnums"):c))&&(x=[!0],d(b,"numbered=",t.to_a(x)),x[e(x.length,1)]),(k=a["$[]"]("id"))["$=="](!1)?a.$delete("id"):(x=[(x=["id",u(c=k)?c:u(f["$attr?"]("sectids"))?s(O,"Section").$generate_id(b.$title(),f):o],d(a,"[]=",t.to_a(x)),x[e(x.length,1)])],d(b,"id=",t.to_a(x)),x[e(x.length,1)]),b.$update_attributes(a),b},m.$$arity=-4),t.def(A,"$create_block",y=function(t,e,r,n,$){return null==$&&($=_([],{})),s(O,"Block").$new(t,e,_(["source","attributes"],{source:r,attributes:n}).$merge($))},y.$$arity=-5),t.def(A,"$create_list",g=function(t,e,r){var n=o;return null==r&&(r=o),n=s(O,"List").$new(t,e),u(r)&&n.$update_attributes(r),n},g.$$arity=-3),t.def(A,"$create_list_item",v=function(t,e){return null==e&&(e=o),s(O,"ListItem").$new(t,e)},v.$$arity=-2),t.def(A,"$create_image_block",b=function(r,n,$){var i,l,c=o,p=o;return null==$&&($=_([],{})),u(i=n["$[]"]("target"))||this.$raise(a("::","ArgumentError"),"Unable to create an image block, target attribute is required"),u(n["$[]"]("alt"))||(c=["alt",(c=["default-alt",s(O,"Helpers").$basename(i,!0).$tr("_-"," ")],d(n,"[]=",t.to_a(c)),c[e(c.length,1)])],d(n,"[]=",t.to_a(c)),c[e(c.length,1)]),l=u(n["$key?"]("title"))?n.$delete("title"):o,p=this.$create_block(r,"image",o,n,$),u(l)&&(c=[l],d(p,"title=",t.to_a(c)),c[e(c.length,1)],p.$assign_caption(n.$delete("caption"),"figure")),p},b.$$arity=-3),t.def(A,"$create_inline",x=function(t,e,r,n){return null==n&&(n=_([],{})),s(O,"Inline").$new(t,e,r,e["$=="]("quoted")?_(["type"],{type:"unquoted"}).$merge(n):n)},x.$$arity=-4),t.def(A,"$parse_content",k=function(t,e,r){var n;return null==r&&(r=o),n=u(s(O,"Reader")["$==="](e))?e:s(O,"Reader").$new(e),s(O,"Parser").$parse_blocks(n,t,r),t},k.$$arity=-3),t.def(A,"$parse_attributes",w=function(t,e,r){var n;return null==r&&(r=_([],{})),u(!u(e)||e["$empty?"]())?_([],{}):(u(u(n=r["$[]"]("sub_attributes"))?e["$include?"](s(O,"ATTR_REF_HEAD")):n)&&(e=t.$sub_attributes(e)),s(O,"AttributeList").$new(e).$parse(u(n=r["$[]"]("positional_attributes"))?n:[]))},w.$$arity=-3),d([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(E=function(e,r,n){var $,i=E.$$s||this;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),d(i,"define_method",[e],($=function(e){var i,o=$.$$s||this;return(i=t.slice.call(arguments,0,arguments.length)).$unshift(i.$shift(),n),d(o,"send",[r].concat(t.to_a(i)))},$.$$s=i,$.$$arity=-1,$))},E.$$s=A,E.$$arity=3,E))}(m[0],0,m),function(r,n){var $,i,s,c=l(r,"ProcessorDsl");[c].concat(n);t.def(c,"$option",$=function(r,n){var $;return $=[r,n],d(this.$config(),"[]=",t.to_a($)),$[e($.length,1)]},$.$$arity=2),t.def(c,"$process",i=function(e){var r,n,$,s=i.$$p,l=s||o,c=this,_=o;return null==c.process_block&&(c.process_block=o),s&&(i.$$p=null),s&&(i.$$p=null),r=t.slice.call(arguments,0,arguments.length),l!==o?(u(r["$empty?"]())||c.$raise(a("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),u(u(n=l.$binding())?c["$=="](l.$binding().$receiver()):n)||(_=c,d(l,"define_singleton_method",["call"],($=function(e){var r;$.$$s;return r=t.slice.call(arguments,0,arguments.length),d(_,"instance_exec",t.to_a(r),l.$to_proc())},$.$$s=c,$.$$arity=-1,$))),c.process_block=l):u(null!=(n=c.process_block)&&n!==o?"instance-variable":o)?d(c.process_block,"call",t.to_a(r)):c.$raise(a("::","NotImplementedError"),c.$class()+" #process method called before being registered")},i.$$arity=-1),t.def(c,"$process_block_given?",s=function(){var t;return null!=(t=this.process_block)&&t!==o?"instance-variable":o},s.$$arity=0)}(m[0],m),function(e,r){var n,$=l(e,"DocumentProcessorDsl"),i=[$].concat(r);$.$include(s(i,"ProcessorDsl")),t.def($,"$prefer",n=function(){return this.$option("position",">>")},n.$$arity=0)}(m[0],m),function(r,$){var i,c,p,f,h,m=l(r,"SyntaxProcessorDsl"),y=[m].concat($);m.$include(s(y,"ProcessorDsl")),t.def(m,"$named",i=function(t){var e=this;return u(s(y,"Processor")["$==="](e))?e.name=t:e.$option("name",t)},i.$$arity=1),t.def(m,"$content_model",c=function(t){return this.$option("content_model",t)},c.$$arity=1),t.alias(m,"parse_content_as","content_model"),t.def(m,"$positional_attributes",p=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.$option("positional_attrs",r.$flatten())},p.$$arity=-1),t.alias(m,"name_positional_attributes","positional_attributes"),t.alias(m,"positional_attrs","positional_attributes"),t.def(m,"$default_attributes",f=function(t){return this.$option("default_attrs",t)},f.$$arity=1),t.alias(m,"default_attrs","default_attributes"),t.def(m,"$resolve_attributes",h=function(r){var $,i,s,l,c,p=this,f=o,h=o,m=o;return $=t.slice.call(arguments,0,arguments.length),u(n((i=$).$size(),1))||u((i=i.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(i=[i]),(!0)["$==="](f=i)?(p.$option("positional_attrs",[]),p.$option("default_attrs",_([],{}))):a("::","Array")["$==="](f)?(s=[[],_([],{})],h=s[0],m=s[1],d(i,"each",[],((l=function(r){l.$$s;var n,$,i=o,a=o,s=o,c=o;return null==r&&(r=o),u((r=r.$to_s())["$include?"]("="))?($=r.$partition("="),i=null==(n=t.to_ary($))[0]?o:n[0],null==n[1]||n[1],a=null==n[2]?o:n[2],u(i["$include?"](":"))&&($=i.$partition(":"),n=t.to_ary($),s=null==n[0]?o:n[0],null==n[1]||n[1],i=null==n[2]?o:n[2],c=[s=s["$=="]("@")?h.$size():s.$to_i(),i],d(h,"[]=",t.to_a(c)),c[e(c.length,1)]),c=[i,a],d(m,"[]=",t.to_a(c)),c[e(c.length,1)]):u(r["$include?"](":"))?($=r.$partition(":"),n=t.to_ary($),s=null==n[0]?o:n[0],null==n[1]||n[1],i=null==n[2]?o:n[2],c=[s=s["$=="]("@")?h.$size():s.$to_i(),i],d(h,"[]=",t.to_a(c)),c[e(c.length,1)]):h["$<<"](r)}).$$s=p,l.$$arity=1,l)),p.$option("positional_attrs",h.$compact()),p.$option("default_attrs",m)):a("::","Hash")["$==="](f)?(s=[[],_([],{})],h=s[0],m=s[1],d(i,"each",[],((c=function(r,n){c.$$s;var $,i,a=o,s=o,l=o;return null==r&&(r=o),null==n&&(n=o),u((a=r.$to_s())["$include?"](":"))&&(i=a.$partition(":"),$=t.to_ary(i),s=null==$[0]?o:$[0],null==$[1]||$[1],a=null==$[2]?o:$[2],l=[s=s["$=="]("@")?h.$size():s.$to_i(),a],d(h,"[]=",t.to_a(l)),l[e(l.length,1)]),u(n)?(l=[a,n],d(m,"[]=",t.to_a(l)),l[e(l.length,1)]):o}).$$s=p,c.$$arity=2,c)),p.$option("positional_attrs",h.$compact()),p.$option("default_attrs",m)):p.$raise(a("::","ArgumentError"),"unsupported attributes specification for macro: "+i.$inspect())},h.$$arity=-1),t.alias(m,"resolves_attributes","resolve_attributes")}(m[0],m),function(e,r,n){var $,i=c(e,r,"Preprocessor"),o=[i].concat(n);t.def(i,"$process",$=function(t,e){return this.$raise(a("::","NotImplementedError"),s(o,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},$.$$arity=2)}(m[0],s(m,"Processor"),m),t.const_set(s(m,"Preprocessor"),"DSL",s(m,"DocumentProcessorDsl")),function(e,r,n){var $,i=c(e,r,"TreeProcessor"),o=[i].concat(n);t.def(i,"$process",$=function(t){return this.$raise(a("::","NotImplementedError"),s(o,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},$.$$arity=1)}(m[0],s(m,"Processor"),m),t.const_set(s(m,"TreeProcessor"),"DSL",s(m,"DocumentProcessorDsl")),t.const_set(m[0],"Treeprocessor",s(m,"TreeProcessor")),function(e,r,n){var $,i=c(e,r,"Postprocessor"),o=[i].concat(n);t.def(i,"$process",$=function(t,e){return this.$raise(a("::","NotImplementedError"),s(o,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},$.$$arity=2)}(m[0],s(m,"Processor"),m),t.const_set(s(m,"Postprocessor"),"DSL",s(m,"DocumentProcessorDsl")),function(e,r,n){var $,i,o=c(e,r,"IncludeProcessor"),l=[o].concat(n);t.def(o,"$process",$=function(t,e,r,n){return this.$raise(a("::","NotImplementedError"),s(l,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},$.$$arity=4),t.def(o,"$handles?",i=function(t){return!0},i.$$arity=1)}(m[0],s(m,"Processor"),m),function(e,r){var n,$=l(e,"IncludeProcessorDsl"),i=[$].concat(r);$.$include(s(i,"DocumentProcessorDsl")),t.def($,"$handles?",n=function(e){var r,$,i=n.$$p,s=i||o,l=this;return null==l.handles_block&&(l.handles_block=o),i&&(n.$$p=null),i&&(n.$$p=null),r=t.slice.call(arguments,0,arguments.length),s!==o?(u(r["$empty?"]())||l.$raise(a("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),l.handles_block=s):!u(($=l.handles_block,null!=$&&$!==o?"instance-variable":o))||l.handles_block.$call(r["$[]"](0))},n.$$arity=-1)}(m[0],m),t.const_set(s(m,"IncludeProcessor"),"DSL",s(m,"IncludeProcessorDsl")),function(r,n,$){var i,l,p=c(r,n,"DocinfoProcessor"),f=[p].concat($);p.$$prototype.config=o,t.def(p,"$initialize",i=function(r){var n,$=i.$$p,a=this,s=o;return $&&(i.$$p=null),null==r&&(r=_([],{})),d(a,t.find_super_dispatcher(a,"initialize",i,!1),[r],null),u(n=a.config["$[]"]("location"))?n:(s=["location","head"],d(a.config,"[]=",t.to_a(s)),s[e(s.length,1)])},i.$$arity=-1),t.def(p,"$process",l=function(t){return this.$raise(a("::","NotImplementedError"),s(f,"DocinfoProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1)}(m[0],s(m,"Processor"),m),function(e,r){var n,$=l(e,"DocinfoProcessorDsl"),i=[$].concat(r);$.$include(s(i,"DocumentProcessorDsl")),t.def($,"$at_location",n=function(t){return this.$option("location",t)},n.$$arity=1)}(m[0],m),t.const_set(s(m,"DocinfoProcessor"),"DSL",s(m,"DocinfoProcessorDsl")),function(r,n,$){var i,l,p=c(r,n,"BlockProcessor"),f=[p].concat($);p.$$prototype.config=o,p.$attr_accessor("name"),t.def(p,"$initialize",i=function(r,n){var $,s,l=i.$$p,c=this,p=o;return l&&(i.$$p=null),null==r&&(r=o),null==n&&(n=_([],{})),d(c,t.find_super_dispatcher(c,"initialize",i,!1),[n],null),c.name=u($=r)?$:c.config["$[]"]("name"),s=c.config["$[]"]("contexts"),a("::","NilClass")["$==="](s)?u($=c.config["$[]"]("contexts"))||(p=["contexts",["open","paragraph"].$to_set()],d(c.config,"[]=",t.to_a(p)),p[e(p.length,1)]):a("::","Symbol")["$==="](s)?(p=["contexts",[c.config["$[]"]("contexts")].$to_set()],d(c.config,"[]=",t.to_a(p)),p[e(p.length,1)]):(p=["contexts",c.config["$[]"]("contexts").$to_set()],d(c.config,"[]=",t.to_a(p)),p[e(p.length,1)]),u($=c.config["$[]"]("content_model"))?$:(p=["content_model","compound"],d(c.config,"[]=",t.to_a(p)),p[e(p.length,1)])},i.$$arity=-1),t.def(p,"$process",l=function(t,e,r){return this.$raise(a("::","NotImplementedError"),s(f,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3)}(m[0],s(m,"Processor"),m),function(e,r){var n,$=l(e,"BlockProcessorDsl"),i=[$].concat(r);$.$include(s(i,"SyntaxProcessorDsl")),t.def($,"$contexts",n=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.$option("contexts",r.$flatten().$to_set())},n.$$arity=-1),t.alias($,"on_contexts","contexts"),t.alias($,"on_context","contexts"),t.alias($,"bind_to","contexts")}(m[0],m),t.const_set(s(m,"BlockProcessor"),"DSL",s(m,"BlockProcessorDsl")),function(r,n,$){var i,l,p=c(r,n,"MacroProcessor"),f=[p].concat($);p.$$prototype.config=o,p.$attr_accessor("name"),t.def(p,"$initialize",i=function(r,n){var $,a=i.$$p,s=this,l=o;return a&&(i.$$p=null),null==r&&(r=o),null==n&&(n=_([],{})),d(s,t.find_super_dispatcher(s,"initialize",i,!1),[n],null),s.name=u($=r)?$:s.config["$[]"]("name"),u($=s.config["$[]"]("content_model"))?$:(l=["content_model","attributes"],d(s.config,"[]=",t.to_a(l)),l[e(l.length,1)])},i.$$arity=-1),t.def(p,"$process",l=function(t,e,r){return this.$raise(a("::","NotImplementedError"),s(f,"MacroProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3)}(m[0],s(m,"Processor"),m),function(e,r){var n,$=l(e,"MacroProcessorDsl"),i=[$].concat(r);$.$include(s(i,"SyntaxProcessorDsl")),t.def($,"$resolve_attributes",n=function(e){var r,$,i=n.$$p,a=this,s=o,l=o,c=o;for(i&&(n.$$p=null),l=0,c=arguments.length,s=new Array(c);l<c;l++)s[l]=arguments[l];return r=t.slice.call(arguments,0,arguments.length),u(($=r).$size()["$=="](1)?$["$[]"](0)["$!"]():$.$size()["$=="](1))?a.$option("content_model","text"):(d(a,t.find_super_dispatcher(a,"resolve_attributes",n,!1),s,i),a.$option("content_model","attributes"))},n.$$arity=-1),t.alias($,"resolves_attributes","resolve_attributes")}(m[0],m),function(e,r,n){var $,i=c(e,r,"BlockMacroProcessor"),l=[i].concat(n);i.$$prototype.name=o,t.def(i,"$name",$=function(){var t=this;return u(s(l,"MacroNameRx")["$match?"](t.name.$to_s()))||t.$raise(a("::","ArgumentError"),"invalid name for block macro: "+t.name),t.name},$.$$arity=0)}(m[0],s(m,"MacroProcessor"),m),t.const_set(s(m,"BlockMacroProcessor"),"DSL",s(m,"MacroProcessorDsl")),function(r,n,$){var i,l,p=c(r,n,"InlineMacroProcessor"),f=[p].concat($);p.$$prototype.config=p.$$prototype.name=o,t.class_variable_set(f[0],"@@rx_cache",_([],{})),t.def(p,"$regexp",i=function(){var r,n=this,$=o;return u(r=n.config["$[]"]("regexp"))?r:($=["regexp",n.$resolve_regexp(n.name.$to_s(),n.config["$[]"]("format"))],d(n.config,"[]=",t.to_a($)),$[e($.length,1)])},i.$$arity=0),t.def(p,"$resolve_regexp",l=function(r,n){var $,i,l=o;return u(s(f,"MacroNameRx")["$match?"](r))||this.$raise(a("::","ArgumentError"),"invalid name for inline macro: "+r),u($=(null==(i=f[0].$$cvars["@@rx_cache"])?o:i)["$[]"]([r,n]))?$:(l=[[r,n],new RegExp("\\\\?"+r+":"+(n["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+s(f,"CC_ANY")+"*?[^\\\\])\\]")],d(null==(i=f[0].$$cvars["@@rx_cache"])?o:i,"[]=",t.to_a(l)),l[e(l.length,1)])},l.$$arity=2)}(m[0],s(m,"MacroProcessor"),m),function(e,r){var n,$,i=l(e,"InlineMacroProcessorDsl"),o=[i].concat(r);i.$include(s(o,"MacroProcessorDsl")),t.def(i,"$format",n=function(t){return this.$option("format",t)},n.$$arity=1),t.alias(i,"match_format","format"),t.alias(i,"using_format","format"),t.def(i,"$match",$=function(t){return this.$option("regexp",t)},$.$$arity=1)}(m[0],m),t.const_set(s(m,"InlineMacroProcessor"),"DSL",s(m,"InlineMacroProcessorDsl")),function(e,r,n){var $,i=c(e,null,"Extension");[i].concat(n);i.$attr_reader("kind"),i.$attr_reader("config"),i.$attr_reader("instance"),t.def(i,"$initialize",$=function(t,e,r){var n=this;return n.kind=t,n.instance=e,n.config=r},$.$$arity=3)}(m[0],0,m),function(e,r,n){var $,i=c(e,r,"ProcessorExtension");[i].concat(n);i.$attr_reader("process_method"),t.def(i,"$initialize",$=function(e,r,n){var i,a=this;return $.$$p&&($.$$p=null),null==n&&(n=o),d(a,t.find_super_dispatcher(a,"initialize",$,!1),[e,r,r.$config()],null),a.process_method=u(i=n)?i:r.$method("process")},$.$$arity=-3)}(m[0],s(m,"Extension"),m),function(e,r,n){var $,i=c(e,null,"Group"),l=[i].concat(n);(function(e,r){var n,$=[e].concat(r);t.def(e,"$register",n=function(t){return null==t&&(t=o),s($,"Extensions").$register(t,this)},n.$$arity=-1)})(t.get_singleton_class(i),l),t.def(i,"$activate",$=function(t){return this.$raise(a("::","NotImplementedError"))},$.$$arity=1)}(m[0],0,m),function(i,l,p){var f,h,m,y,g,v,b,x,k,w,E,A,O,S,R,C,I,T,L,N,F,D,z,B,M,j,q,P,U,H,Y,G,W,X,K,V=c(i,null,"Registry"),J=[V].concat(p);V.$$prototype.groups=V.$$prototype.preprocessor_extensions=V.$$prototype.tree_processor_extensions=V.$$prototype.postprocessor_extensions=V.$$prototype.include_processor_extensions=V.$$prototype.docinfo_processor_extensions=V.$$prototype.block_extensions=V.$$prototype.block_macro_extensions=V.$$prototype.inline_macro_extensions=o,V.$attr_reader("document"),V.$attr_reader("groups"),t.def(V,"$initialize",f=function(t){var e=this;return null==t&&(t=_([],{})),e.groups=t,e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=o,e.document=o},f.$$arity=-1),t.def(V,"$activate",h=function(t){var e,n=this,$=o;return n.document=t,u(($=r(s(J,"Extensions").$groups().$values(),n.groups.$values()))["$empty?"]())||d($,"each",[],(e=function(t){var r=e.$$s||this,n=o;return null==t&&(t=o),n=t,a("::","Proc")["$==="](n)?(n=t.$arity(),(0)["$==="](n)||(-1)["$==="](n)?d(r,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(r):o):a("::","Class")["$==="](n)?t.$new().$activate(r):t.$activate(r)},e.$$s=n,e.$$arity=1,e)),n},h.$$arity=1),t.def(V,"$preprocessor",m=function(e){var r,n=m.$$p,$=n||o,i=this;return n&&(m.$$p=null),n&&(m.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_document_processor",["preprocessor",r],$.$to_proc())},m.$$arity=-1),t.def(V,"$preprocessors?",y=function(){return this.preprocessor_extensions["$!"]()["$!"]()},y.$$arity=0),t.def(V,"$preprocessors",g=function(){return this.preprocessor_extensions},g.$$arity=0),t.def(V,"$tree_processor",v=function(e){var r,n=v.$$p,$=n||o,i=this;return n&&(v.$$p=null),n&&(v.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_document_processor",["tree_processor",r],$.$to_proc())},v.$$arity=-1),t.def(V,"$tree_processors?",b=function(){return this.tree_processor_extensions["$!"]()["$!"]()},b.$$arity=0),t.def(V,"$tree_processors",x=function(){return this.tree_processor_extensions},x.$$arity=0),t.alias(V,"treeprocessor","tree_processor"),t.alias(V,"treeprocessors?","tree_processors?"),t.alias(V,"treeprocessors","tree_processors"),t.def(V,"$postprocessor",k=function(e){var r,n=k.$$p,$=n||o,i=this;return n&&(k.$$p=null),n&&(k.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_document_processor",["postprocessor",r],$.$to_proc())},k.$$arity=-1),t.def(V,"$postprocessors?",w=function(){return this.postprocessor_extensions["$!"]()["$!"]()},w.$$arity=0),t.def(V,"$postprocessors",E=function(){return this.postprocessor_extensions},E.$$arity=0),t.def(V,"$include_processor",A=function(e){var r,n=A.$$p,$=n||o,i=this;return n&&(A.$$p=null),n&&(A.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_document_processor",["include_processor",r],$.$to_proc())},A.$$arity=-1),t.def(V,"$include_processors?",O=function(){return this.include_processor_extensions["$!"]()["$!"]()},O.$$arity=0),t.def(V,"$include_processors",S=function(){return this.include_processor_extensions},S.$$arity=0),t.def(V,"$docinfo_processor",R=function(e){var r,n=R.$$p,$=n||o,i=this;return n&&(R.$$p=null),n&&(R.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_document_processor",["docinfo_processor",r],$.$to_proc())},R.$$arity=-1),t.def(V,"$docinfo_processors?",C=function(t){var e,r=this;return null==t&&(t=o),!!u(r.docinfo_processor_extensions)&&(!u(t)||d(r.docinfo_processor_extensions,"any?",[],((e=function(r){return e.$$s,null==r&&(r=o),r.$config()["$[]"]("location")["$=="](t)}).$$s=r,e.$$arity=1,e)))},C.$$arity=-1),t.def(V,"$docinfo_processors",I=function(t){var e,r=this;return null==t&&(t=o),u(r.docinfo_processor_extensions)?u(t)?d(r.docinfo_processor_extensions,"select",[],((e=function(r){return e.$$s,null==r&&(r=o),r.$config()["$[]"]("location")["$=="](t)}).$$s=r,e.$$arity=1,e)):r.docinfo_processor_extensions:o},I.$$arity=-1),t.def(V,"$block",T=function(e){var r,n=T.$$p,$=n||o,i=this;return n&&(T.$$p=null),n&&(T.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_syntax_processor",["block",r],$.$to_proc())},T.$$arity=-1),t.def(V,"$blocks?",L=function(){return this.block_extensions["$!"]()["$!"]()},L.$$arity=0),t.def(V,"$registered_for_block?",N=function(t,e){var r=o;return!!u(r=this.block_extensions["$[]"](t.$to_sym()))&&(!!u(r.$config()["$[]"]("contexts")["$include?"](e))&&r)},N.$$arity=2),t.def(V,"$find_block_extension",F=function(t){return this.block_extensions["$[]"](t.$to_sym())},F.$$arity=1),t.def(V,"$block_macro",D=function(e){var r,n=D.$$p,$=n||o,i=this;return n&&(D.$$p=null),n&&(D.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_syntax_processor",["block_macro",r],$.$to_proc())},D.$$arity=-1),t.def(V,"$block_macros?",z=function(){return this.block_macro_extensions["$!"]()["$!"]()},z.$$arity=0),t.def(V,"$registered_for_block_macro?",B=function(t){var e;return!!u(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},B.$$arity=1),t.def(V,"$find_block_macro_extension",M=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},M.$$arity=1),t.def(V,"$inline_macro",j=function(e){var r,n=j.$$p,$=n||o,i=this;return n&&(j.$$p=null),n&&(j.$$p=null),r=t.slice.call(arguments,0,arguments.length),d(i,"add_syntax_processor",["inline_macro",r],$.$to_proc())},j.$$arity=-1),t.def(V,"$inline_macros?",q=function(){return this.inline_macro_extensions["$!"]()["$!"]()},q.$$arity=0),t.def(V,"$registered_for_inline_macro?",P=function(t){var e;return!!u(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},P.$$arity=1),t.def(V,"$find_inline_macro_extension",U=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},U.$$arity=1),t.def(V,"$inline_macros",H=function(){return this.inline_macro_extensions.$values()},H.$$arity=0),t.def(V,"$prefer",Y=function(e){var r,n,$=Y.$$p,i=$||o,a=this,l=o,c=o,_=o;return $&&(Y.$$p=null),$&&(Y.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=r,l=u(s(J,"ProcessorExtension")["$==="](c=n.$shift()))?c:d(a,"send",[c].concat(t.to_a(n)),i.$to_proc()),(_=a.$instance_variable_get(("@"+l.$kind()+"_extensions").$to_sym())).$unshift(_.$delete(l)),l},Y.$$arity=-1),V.$private(),t.def(V,"$add_document_processor",G=function(e,r){var n,i,l,c,_=G.$$p,p=_||o,f=this,h=o,m=o,y=o,g=o,v=o,b=o,x=o,k=o,w=o;return _&&(G.$$p=null),_&&(G.$$p=null),h=e.$to_s().$tr("_"," "),c=d(h.$split(),"map",[],(n=function(t){return n.$$s,null==t&&(t=o),t.$capitalize()},n.$$s=f,n.$$arity=1,n)).$join().$to_sym(),m=s(J,"Extensions").$const_get(c,!1),y=u(a("::","AsciidoctorJ","skip_raise")?"constant":o)?a(a("::","AsciidoctorJ"),"Extensions").$const_get(c,!1):o,g=u(i=f.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?i:f.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),p!==o?(v=f.$resolve_args(r,1),(b=m.$new(v)).$singleton_class().$enable_dsl(),p.$arity()["$=="](0)?d(b,"instance_exec",[],p.$to_proc()):t.yield1(p,b),u(b["$process_block_given?"]())||f.$raise(a("::","ArgumentError"),"No block specified to process "+h+" extension at "+p.$source_location()),b.$freeze(),x=s(J,"ProcessorExtension").$new(e,b)):(l=f.$resolve_args(r,2),b=null==(i=t.to_ary(l))[0]?o:i[0],v=null==i[1]?o:i[1],u(k=s(J,"Helpers").$resolve_class(b))?(u(u(i=$(k,m))?i:u(l=y)?$(k,y):l)||f.$raise(a("::","ArgumentError"),"Invalid type for "+h+" extension: "+b),(w=k.$new(v)).$freeze(),x=s(J,"ProcessorExtension").$new(e,w)):u(u(i=m["$==="](b))?i:u(l=y)?y["$==="](b):l)?(b.$update_config(v),b.$freeze(),x=s(J,"ProcessorExtension").$new(e,b)):f.$raise(a("::","ArgumentError"),"Invalid arguments specified for registering "+h+" extension: "+r)),x.$config()["$[]"]("position")["$=="](">>")?g.$unshift(x):g["$<<"](x),x},G.$$arity=2),t.def(V,"$add_syntax_processor",W=function(r,n){var i,l,c,p,f,h=W.$$p,m=h||o,y=this,g=o,v=o,b=o,x=o,k=o,w=o,E=o,A=o,O=o;return h&&(W.$$p=null),h&&(W.$$p=null),g=r.$to_s().$tr("_"," "),p=d(g.$split(),"map",[],(i=function(t){return i.$$s,null==t&&(t=o),t.$capitalize()},i.$$s=y,i.$$arity=1,i))["$<<"]("Processor").$join().$to_sym(),v=s(J,"Extensions").$const_get(p,!1),b=u(a("::","AsciidoctorJ","skip_raise")?"constant":o)?a(a("::","AsciidoctorJ"),"Extensions").$const_get(p,!1):o,f=u(l=y.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?l:y.$instance_variable_set(("@"+r+"_extensions").$to_sym(),_([],{})),m!==o?(c=y.$resolve_args(n,2),l=t.to_ary(c),x=null==l[0]?o:l[0],k=null==l[1]?o:l[1],(w=v.$new(y.$as_symbol(x),k)).$singleton_class().$enable_dsl(),m.$arity()["$=="](0)?d(w,"instance_exec",[],m.$to_proc()):t.yield1(m,w),u(x=y.$as_symbol(w.$name()))||y.$raise(a("::","ArgumentError"),"No name specified for "+g+" extension at "+m.$source_location()),u(w["$process_block_given?"]())||y.$raise(a("::","NoMethodError"),"No block specified to process "+g+" extension at "+m.$source_location()),w.$freeze(),E=[x,s(J,"ProcessorExtension").$new(r,w)],d(f,"[]=",t.to_a(E)),E[e(E.length,1)]):(c=y.$resolve_args(n,3),l=t.to_ary(c),w=null==l[0]?o:l[0],x=null==l[1]?o:l[1],k=null==l[2]?o:l[2],u(A=s(J,"Helpers").$resolve_class(w))?(u(u(l=$(A,v))?l:u(c=b)?$(A,b):c)||y.$raise(a("::","ArgumentError"),"Class specified for "+g+" extension does not inherit from "+v+": "+w),O=A.$new(y.$as_symbol(x),k),u(x=y.$as_symbol(O.$name()))||y.$raise(a("::","ArgumentError"),"No name specified for "+g+" extension: "+w),O.$freeze(),E=[x,s(J,"ProcessorExtension").$new(r,O)],d(f,"[]=",t.to_a(E)),E[e(E.length,1)]):u(u(l=v["$==="](w))?l:u(c=b)?b["$==="](w):c)?(w.$update_config(k),u(x=u(x)?(E=[y.$as_symbol(x)],d(w,"name=",t.to_a(E)),E[e(E.length,1)]):y.$as_symbol(w.$name()))||y.$raise(a("::","ArgumentError"),"No name specified for "+g+" extension: "+w),w.$freeze(),E=[x,s(J,"ProcessorExtension").$new(r,w)],d(f,"[]=",t.to_a(E)),E[e(E.length,1)]):y.$raise(a("::","ArgumentError"),"Invalid arguments specified for registering "+g+" extension: "+n))},W.$$arity=2),t.def(V,"$resolve_args",X=function(t,i){var s,l=o;return s=u(a("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():_([],{}),i["$=="](1)?s:(u(n(l=e(e(i,1),t.$size()),0))?t=r(t,a("::","Array").$new(l)):u($(l,0))&&t.$pop(l["$-@"]()),t["$<<"](s),t)},X.$$arity=2),t.def(V,"$as_symbol",K=function(t){return u(t)?t.$to_sym():o},K.$$arity=1)}(m[0],0,m),function(n,$){var i,l,c,f,h,m,y,g=[n].concat($);t.def(n,"$generate_name",i=function(){return"extgrp"+this.$next_auto_id()},i.$$arity=0),t.def(n,"$next_auto_id",l=function(){var t,e=this;return null==e.auto_id&&(e.auto_id=o),e.auto_id=u(t=e.auto_id)?t:-1,e.auto_id=r(e.auto_id,1)},l.$$arity=0),t.def(n,"$groups",c=function(){var t,e=this;return null==e.groups&&(e.groups=o),e.groups=u(t=e.groups)?t:_([],{})},c.$$arity=0),t.def(n,"$create",f=function(t){var e,r=f.$$p,n=r||o;return r&&(f.$$p=null),r&&(f.$$p=null),null==t&&(t=o),n!==o?s(g,"Registry").$new(p(u(e=t)?e:this.$generate_name(),n)):s(g,"Registry").$new()},f.$$arity=-1),t.def(n,"$register",h=function(r){var n,$,i=h.$$p,l=i||o,c=this,_=o,p=o,f=o,m=o,y=o;return i&&(h.$$p=null),i&&(h.$$p=null),_=(n=t.slice.call(arguments,0,arguments.length)).$size(),l!==o?p=l:u(f=n.$pop())?p=u($=s(g,"Helpers").$resolve_class(f))?$:f:c.$raise(a("::","ArgumentError"),"Extension group to register not specified"),m=u($=n.$pop())?$:c.$generate_name(),u(n["$empty?"]())||c.$raise(a("::","ArgumentError"),"Wrong number of arguments ("+_+" for 1..2)"),y=[m.$to_sym(),p],d(c.$groups(),"[]=",t.to_a(y)),y[e(y.length,1)]},h.$$arity=-1),t.def(n,"$unregister_all",m=function(){return this.groups=_([],{}),o},m.$$arity=0),t.def(n,"$unregister",y=function(e){var r,n,$=this;return r=t.slice.call(arguments,0,arguments.length),d(r,"each",[],(n=function(t){var e=n.$$s||this;return null==e.groups&&(e.groups=o),null==t&&(t=o),e.groups.$delete(t.$to_sym())},n.$$s=$,n.$$arity=1,n)),o},y.$$arity=-1)}(t.get_singleton_class(h),m)}(h[0],h)}(i[0],i)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,$=(t.const_get_relative,t.breaker,t.slice,t.module),i=t.klass,o=t.truthy;return t.add_stubs(["$rstrip","$read","$join"]),function(e,a){var s=[$(e,"Asciidoctor")].concat(a);!function(e,$,a){var s,l=i(e,null,"Stylesheets");[l].concat(a);l.$$prototype.primary_stylesheet_data=r,t.def(l,"$primary_stylesheet_data",s=function(){var t;return this.primary_stylesheet_data=o(t=this.primary_stylesheet_data)?t:n("::","IO").$read(n("::","File").$join("css","asciidoctor.css")).$rstrip()},s.$$arity=0)}(s[0],0,s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative),n=(t.breaker,t.slice,t.module),$=t.klass;return function(e,i){var o=[n(e,"Asciidoctor")].concat(i);!function(e,r,n){var i,o=$(e,r,"Document");[o].concat(n);t.def(o,"$fill_datetime_attributes",i=function(e,r){var n,$,i,o,a,s,l,c,u=t.truthy,_=t.falsy,d=t.nil,p=function(t,e){return 0===e?t.getUTCFullYear():t.getFullYear()},f=function(t,e){return 0===e?t.getUTCMonth():t.getMonth()},h=function(t,e){return 0===e?t.getUTCDate():t.getDate()},m=function(t,e){return 0===e?t.getUTCHours():t.getHours()},y=new Date;if(t.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(y.setTime(1e3*parseInt(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))),$=y,n=0):n=-y.getTimezoneOffset()/60,u(i=e["$[]"]("localdate")))_(o=e["$[]"]("localyear"))&&(o=4===i.indexOf("-")?i.substring(0,4):d,e["$[]="]("localyear",o));else{var g=p(y,n).toString();i=g+"-"+("0"+(f(y,n)+1)).slice(-2)+"-"+("0"+h(y,n)).slice(-2),e["$[]="]("localdate",i),o=g,e["$[]="]("localyear",g)}_(a=e["$[]"]("localtime"))&&(a=("0"+m(y,n)).slice(-2)+":"+("0"+y.getMinutes()).slice(-2)+":"+("0"+y.getSeconds()).slice(-2)+" "+(0===n?"UTC":n>0?("+0"+100*n).slice(-5):("-0"+100*-n).slice(-5)),e["$[]="]("localtime",a));if(_(s=e["$[]"]("localdatetime"))&&(s=i+" "+a,e["$[]="]("localdatetime",s)),u($)?r=$:u(r)?n=-r.getTimezoneOffset()/60:r=y,u(l=e["$[]"]("docdate")))e["$[]="]("docyear",4===l.indexOf("-")?l.substring(0,4):d);else{var v=p(r,n).toString();l=v+"-"+("0"+(f(r,n)+1)).slice(-2)+"-"+("0"+h(r,n)).slice(-2),e["$[]="]("docdate",l),_(e["$[]"]("docyear"))&&e["$[]="]("docyear",v)}_(c=e["$[]"]("doctime"))&&(c=("0"+m(r,n)).slice(-2)+":"+("0"+r.getMinutes()).slice(-2)+":"+("0"+r.getSeconds()).slice(-2)+" "+(0===n?"UTC":n>0?("+0"+100*n).slice(-5):("-0"+100*-n).slice(-5)),e["$[]="]("doctime",c));return _(e["$[]"]("docdatetime"))&&e["$[]="]("docdatetime",l+" "+c),d},i.$$arity=2)}(o[0],r(o,"AbstractBlock"),o)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){var $=[r(e,"Asciidoctor")].concat(n);!function(e,n){var $,i=r(e,"Substitutors");[i].concat(n);t.def(i,"$sub_placeholder",$=function(t,e){return t.replace("%s",e)},$.$$arity=2)}($[0],$)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),n=t.klass,$=t.truthy;return function(e,i){var o=[r(e,"Asciidoctor")].concat(i);!function(e,r,i){var o,a,s=n(e,null,"Parser");[s].concat(i);$(String.prototype.repeat)?t.defs(s,"$uniform?",o=function(t,e,r){return e.repeat(r)===t},o.$$arity=3):t.defs(s,"$uniform?",a=function(t,e,r){return Array.apply(null,{length:r}).map((function(){return e})).join("")===t},a.$$arity=3)}(o[0],0,o)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),i=t.truthy;return t.add_stubs(["$key?","$registry","$[]","$include?","$include","$empty?","$debug","$logger","$join","$keys"]),function(e,o){var a=[$(e,"Asciidoctor")].concat(o);!function(e,o){var a=[$(e,"SyntaxHighlighter")].concat(o);!function(e,o){var a,s=$(e,"Factory"),l=[s].concat(o);t.def(s,"$for",a=function(t){var e=this;return i(e.$registry()["$key?"](t))?e.$registry()["$[]"](t):(i(e["$include?"](n(l,"Logging")))||e.$include(n(l,"Logging")),i(e.$registry()["$empty?"]())?e.$logger().$debug("no syntax highlighter available, functionality disabled."):e.$logger().$debug("syntax highlighter named '"+t+"' is not available, must be one of: '"+e.$registry().$keys().$join("', '")+"'."),r)},a.$$arity=1)}(a[0],a)}(a[0],a)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),e.$require("asciidoctor/js/asciidoctor_ext/document"),e.$require("asciidoctor/js/asciidoctor_ext/substitutors"),e.$require("asciidoctor/js/asciidoctor_ext/parser"),e.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),e.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$chr","$rjust","$message_as_string","$<","$write","$call","$[]"]),function(e,o,a){var s,l=$(e,null,"Logger"),c=[l].concat(a);return l.$$prototype.level=l.$$prototype.progname=l.$$prototype.pipe=l.$$prototype.formatter=r,function(e,r,n){var i,o=$(e,null,"Formatter");[o].concat(n);t.def(o,"$call",i=function(t,e,r,n){var $;return $=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+("00"+1e3*(new Date).getMilliseconds()).slice(-6),t.$chr()+", ["+$+"] "+t.$rjust(5)+" -- "+r+": "+this.$message_as_string(n)},i.$$arity=4)}(c[0],0,c),t.def(l,"$add",s=function(e,$,o){var a,l,u,_=s.$$p,d=_||r,p=this;return _&&(s.$$p=null),_&&(s.$$p=null),null==$&&($=r),null==o&&(o=r),i((l=e=i(a=e)?a:n(c,"UNKNOWN"),u=p.level,"number"==typeof l&&"number"==typeof u?l<u:l["$<"](u)))||(o=i(a=o)?a:p.progname,i($)||(d!==r?$=t.yieldX(d,[]):($=o,o=p.progname)),p.pipe.$write(p.formatter.$call(i(a=n(c,"SEVERITY_LABELS")["$[]"](e))?a:"ANY",new Date,o,$))),!0},s.$$arity=-2),r&&"add"}(e[0],0,e)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),e.$require("asciidoctor/js/asciidoctor_ext"),e.$require("asciidoctor/js/opal_ext/logger")},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],$=t.nil,i=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.send,l=t.truthy,c=t.hash2;t.add_stubs(["$require","$==","$to_h","$sort","$map","$constants","$const_get","$downcase","$to_s","$<=>","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$singleton_class","$<<","$define","$dirname","$absolute_path","$__dir__","$join","$home","$pwd","$to_set","$tap","$each","$chr","$each_key","$slice","$[]=","$-","$length","$merge","$default=","$drop","$insert"]),r.$require("set"),o(n,"RUBY_ENGINE")["$=="]("opal")&&r.$require("asciidoctor/js"),function(r,n){var u,_,d,p,f,h=a(r,"Asciidoctor"),m=[h].concat(n),y=$;t.const_set(m[0],"RUBY_ENGINE_OPAL",t.const_set(m[0],"RUBY_ENGINE",i("::","RUBY_ENGINE"))["$=="]("opal")),function(e,r){var n,i,o,l,c,u=a(e,"SafeMode"),_=[u].concat(r);t.const_set(_[0],"UNSAFE",0),t.const_set(_[0],"SAFE",1),t.const_set(_[0],"SERVER",10),t.const_set(_[0],"SECURE",20),u.names_by_value=s(s(u.$constants(!1),"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=$),[e.$const_get(t),t.$to_s().$downcase()]},n.$$s=u,n.$$arity=1,n)),"sort",[],(i=function(e,r){i.$$s;var n,o,a,s=$;return null==e&&(e=$),null==r&&(r=$),o=e,s=null==(n=t.to_ary(o))[0]?$:n[0],o=r,a=null==(n=t.to_ary(o))[0]?$:n[0],s["$<=>"](a)},i.$$s=u,i.$$arity=2,i.$$has_top_level_mlhs_arg=!0,i)).$to_h(),t.defs(u,"$value_for_name",o=function(t){return this.$const_get(t.$upcase(),!1)},o.$$arity=1),t.defs(u,"$name_for_value",l=function(t){var e=this;return null==e.names_by_value&&(e.names_by_value=$),e.names_by_value["$[]"](t)},l.$$arity=1),t.defs(u,"$names",c=function(){var t=this;return null==t.names_by_value&&(t.names_by_value=$),t.names_by_value.$values()},c.$$arity=0)}(m[0],m),function(e,r){var n=a(e,"Compliance"),o=[n].concat(r);n.keys=i("::","Set").$new(),function(e,r){var n;[e].concat(r);e.$attr_reader("keys"),t.def(e,"$define",n=function(t,e){var r=this;return null==r.keys&&(r.keys=$),r.$instance_variable_set("@"+t,e),r.$singleton_class().$send("attr_accessor",t),r.keys["$<<"](t),$},n.$$arity=2)}(t.get_singleton_class(n),o),n.$define("block_terminates_paragraph",!0),n.$define("strict_verbatim_paragraphs",!0),n.$define("underline_style_section_titles",!0),n.$define("unwrap_standalone_preamble",!0),n.$define("attribute_missing","skip"),n.$define("attribute_undefined","drop-line"),n.$define("shorthand_property_syntax",!0),n.$define("natural_xrefs",!0),n.$define("unique_id_start_index",2),n.$define("markdown_syntax",!0)}(m[0],m),l(o(m,"ROOT_DIR","skip_raise")?"constant":$)||t.const_set(m[0],"ROOT_DIR",i("::","File").$dirname(i("::","File").$absolute_path(h.$__dir__()))),t.const_set(m[0],"LIB_DIR",i("::","File").$join(o(m,"ROOT_DIR"),"lib")),t.const_set(m[0],"DATA_DIR",i("::","File").$join(o(m,"ROOT_DIR"),"data")),t.const_set(m[0],"USER_HOME",function(){try{return i("::","Dir").$home()}catch(e){if(!t.rescue(e,[o(m,"StandardError")]))throw e;try{return l(u=i("::","ENV")["$[]"]("HOME"))?u:i("::","Dir").$pwd()}finally{t.pop_exception()}}}()),t.const_set(m[0],"LF","\n"),t.const_set(m[0],"NULL","\0"),t.const_set(m[0],"TAB","\t"),t.const_set(m[0],"MAX_INT",9007199254740991),t.const_set(m[0],"UTF_8",i(i("::","Encoding"),"UTF_8")),t.const_set(m[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(m[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(m[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(m[0],"FILE_READ_MODE",l(o(m,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),t.const_set(m[0],"URI_READ_MODE",o(m,"FILE_READ_MODE")),t.const_set(m[0],"FILE_WRITE_MODE",l(o(m,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),t.const_set(m[0],"DEFAULT_DOCTYPE","article"),t.const_set(m[0],"DEFAULT_BACKEND","html5"),t.const_set(m[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(m[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(m[0],"BACKEND_ALIASES",c(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(m[0],"DEFAULT_PAGE_WIDTHS",c(["docbook"],{docbook:425})),t.const_set(m[0],"DEFAULT_EXTENSIONS",c(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(m[0],"ASCIIDOC_EXTENSIONS",c([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),t.const_set(m[0],"SETEXT_SECTION_LEVELS",c(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(m[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(m[0],"ADMONITION_STYLE_HEADS",s(i("::","Set").$new(),"tap",[],(_=function(t){var e,r=_.$$s||this;return null==t&&(t=$),s(o(m,"ADMONITION_STYLES"),"each",[],((e=function(r){return e.$$s,null==r&&(r=$),t["$<<"](r.$chr())}).$$s=r,e.$$arity=1,e))},_.$$s=h,_.$$arity=1,_))),t.const_set(m[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(m[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(m[0],"DELIMITED_BLOCKS",c(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",i("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",i("::","Set").$new()],",===":["table",i("::","Set").$new()],":===":["table",i("::","Set").$new()],"!===":["table",i("::","Set").$new()],"////":["comment",i("::","Set").$new()],"```":["fenced_code",i("::","Set").$new()]})),t.const_set(m[0],"DELIMITED_BLOCK_HEADS",s(c([],{}),"tap",[],(d=function(r){var n,i=d.$$s||this;return null==r&&(r=$),s(o(m,"DELIMITED_BLOCKS"),"each_key",[],(n=function(i){var o;n.$$s;return null==i&&(i=$),o=[i.$slice(0,2),!0],s(r,"[]=",t.to_a(o)),o[e(o.length,1)]},n.$$s=i,n.$$arity=1,n))},d.$$s=h,d.$$arity=1,d))),t.const_set(m[0],"DELIMITED_BLOCK_TAILS",s(c([],{}),"tap",[],(p=function(r){var n,i=p.$$s||this;return null==r&&(r=$),s(o(m,"DELIMITED_BLOCKS"),"each_key",[],(n=function(i){n.$$s;var o=$;return null==i&&(i=$),i.$length()["$=="](4)?(o=[i,i["$[]"](e(i.$length(),1))],s(r,"[]=",t.to_a(o)),o[e(o.length,1)]):$},n.$$s=i,n.$$arity=1,n))},p.$$s=h,p.$$arity=1,p))),t.const_set(m[0],"CAPTION_ATTRIBUTE_NAMES",c(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),t.const_set(m[0],"LAYOUT_BREAK_CHARS",c(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(m[0],"MARKDOWN_THEMATIC_BREAK_CHARS",c(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(m[0],"HYBRID_LAYOUT_BREAK_CHARS",o(m,"LAYOUT_BREAK_CHARS").$merge(o(m,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(m[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(m[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(m[0],"ORDERED_LIST_KEYWORDS",c(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(m[0],"ATTR_REF_HEAD","{"),t.const_set(m[0],"LIST_CONTINUATION","+"),t.const_set(m[0],"HARD_LINE_BREAK"," +"),t.const_set(m[0],"LINE_CONTINUATION"," \\"),t.const_set(m[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(m[0],"BLOCK_MATH_DELIMITERS",c(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(m[0],"INLINE_MATH_DELIMITERS",c(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),y=["asciimath"],s(t.const_set(m[0],"STEM_TYPE_ALIASES",c(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",t.to_a(y)),y[e(y.length,1)],t.const_set(m[0],"FONT_AWESOME_VERSION","4.7.0"),t.const_set(m[0],"HIGHLIGHT_JS_VERSION","9.18.3"),t.const_set(m[0],"MATHJAX_VERSION","2.7.9"),t.const_set(m[0],"DEFAULT_ATTRIBUTES",c(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),t.const_set(m[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(m[0],"INTRINSIC_ATTRIBUTES",c(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),o(m,"RUBY_ENGINE")["$=="]("opal"),t.const_set(m[0],"QUOTE_SUBS",s(c([],{}),"tap",[],((f=function(r){f.$$s;var n=$,i=$;return null==r&&(r=$),y=[!1,n=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+o(m,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)\\*(?!"+o(m,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+o(m,"CC_ALL")+'*?\\S)`"(?!'+o(m,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)`'(?!"+o(m,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+o(m,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)`(?!["+o(m,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+o(m,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)_(?!"+o(m,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+o(m,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)#(?!"+o(m,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]],s(r,"[]=",t.to_a(y)),y[e(y.length,1)],y=[!0,i=n.$drop(0)],s(r,"[]=",t.to_a(y)),y[e(y.length,1)],y=[2,["double","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)''(?!"+o(m,"CG_WORD")+")","m")]],s(i,"[]=",t.to_a(y)),y[e(y.length,1)],y=[3,["single","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)'(?!"+o(m,"CG_WORD")+")","m")]],s(i,"[]=",t.to_a(y)),y[e(y.length,1)],y=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+o(m,"CC_ALL")+"+?)\\+\\+","m")]],s(i,"[]=",t.to_a(y)),y[e(y.length,1)],y=[5,["monospaced","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)\\+(?!"+o(m,"CG_WORD")+")","m")]],s(i,"[]=",t.to_a(y)),y[e(y.length,1)],i.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+o(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+o(m,"CC_ALL")+"*?\\S)'(?!"+o(m,"CG_WORD")+")","m")])}).$$s=h,f.$$arity=1,f))),t.const_set(m[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+o(m,"CG_WORD")+")\\\\?--(?="+o(m,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+o(m,"CG_ALNUM")+")\\\\?'(?="+o(m,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),o(m,"RUBY_ENGINE")["$=="]("opal"),o(m,"RUBY_ENGINE")["$=="]("opal")}(n[0],n),r.$require("asciidoctor.rb/../asciidoctor/core_ext"),r.$require("asciidoctor.rb/../asciidoctor/helpers"),r.$require("asciidoctor.rb/../asciidoctor/logging"),r.$require("asciidoctor.rb/../asciidoctor/rx"),r.$require("asciidoctor.rb/../asciidoctor/substitutors"),r.$require("asciidoctor.rb/../asciidoctor/version"),r.$require("asciidoctor.rb/../asciidoctor/abstract_node"),r.$require("asciidoctor.rb/../asciidoctor/abstract_block"),r.$require("asciidoctor.rb/../asciidoctor/attribute_list"),r.$require("asciidoctor.rb/../asciidoctor/block"),r.$require("asciidoctor.rb/../asciidoctor/callouts"),r.$require("asciidoctor.rb/../asciidoctor/converter"),r.$require("asciidoctor.rb/../asciidoctor/document"),r.$require("asciidoctor.rb/../asciidoctor/inline"),r.$require("asciidoctor.rb/../asciidoctor/list"),r.$require("asciidoctor.rb/../asciidoctor/parser"),r.$require("asciidoctor.rb/../asciidoctor/path_resolver"),r.$require("asciidoctor.rb/../asciidoctor/reader"),r.$require("asciidoctor.rb/../asciidoctor/section"),r.$require("asciidoctor.rb/../asciidoctor/stylesheets"),r.$require("asciidoctor.rb/../asciidoctor/table"),r.$require("asciidoctor.rb/../asciidoctor/writer"),r.$require("asciidoctor.rb/../asciidoctor/load"),r.$require("asciidoctor.rb/../asciidoctor/convert"),o(n,"RUBY_ENGINE")["$=="]("opal")&&(r.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),r.$require("asciidoctor.rb/../asciidoctor/timings"),r.$require("asciidoctor/js/postscript"))}(Opal);var e=function(t){return t&&!t.$$is_hash?Opal.hash2(Object.keys(t),t):t},r=function(t){var e={};if(t){var r=t.$$smap;for(var n in r){var $=r[n];e[n]=$===Opal.nil?void 0:$}var i=t.$$map;if(i){var o=[];for(var a in i){var s=i[a],l=s.value;o[s.key-1]=l===Opal.nil?void 0:l}o.length>0&&(e.$positional=o)}}return e},n=function(t){var e={};if(t){var r=t.$$keys;for(var n in r){var $=r[n].value;e[n.toString()]=$===Opal.nil?void 0:$}}return e},$=function(t){if(t=e(t)){var r=t["$[]"]("attributes");r&&"object"==typeof r&&"Object"===r.constructor.name&&(t=t.$dup())["$[]="]("attributes",e(r))}return t};function i(t,n,$,i,o){var a,s,l,c,u=Opal.klass(Opal.Object,t,n,(function(){})),_={};for(var d in $)Object.prototype.hasOwnProperty.call($,d)&&function(t){var e=$[t];"postConstruct"===t?a=e:"initialize"===t?s=e:"constructor"===t?l=e:(i&&Object.prototype.hasOwnProperty.call(i,t)&&(_[t]=!0),Opal.def(u,"$"+t,(function(){var r;return r=o&&Object.prototype.hasOwnProperty.call(o,t)?o[t](arguments):arguments,e.apply(this,r)})))}(d);if(c="function"==typeof l?function(){for(var t=Array.from(arguments),e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=r(t[e]));t.unshift(null);var n=new(Function.prototype.bind.apply(l,t));Object.assign(this,n),"function"==typeof a&&a.bind(this)()}:"function"==typeof s?function(){for(var t=Array.from(arguments),e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=r(t[e]));s.apply(this,t),"function"==typeof a&&a.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",c)),"function"==typeof a&&a.bind(this)()},Opal.def(u,"$initialize",c),Opal.def(u,"super",(function(t){if("function"==typeof t)Opal.send(this,Opal.find_super_dispatcher(this,t.name,t));else{for(var r=Array.from(arguments),n=0;n<r.length;n++)"object"==typeof r[n]&&(r[n]=e(r[n]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",c),r)}})),i)for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&!Object.prototype.hasOwnProperty.call(_,p)&&function(t){var e=i[t];Opal.def(u,"$"+t,(function(){return e.apply(this,arguments)}))}(p);return u}var o=Opal.Asciidoctor.$$class;o.prototype.getCoreVersion=function(){return this.$$const.VERSION},o.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},o.prototype.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,$(e));return r===Opal.nil?"":r},o.prototype.convertFile=function(t,e){return this.$convert_file(t,$(e))},o.prototype.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,$(e))},o.prototype.loadFile=function(t,e){return this.$load_file(t,$(e))};var a=Opal.Asciidoctor.AbstractBlock;a.prototype.append=function(t){return this.$append(t),this},a.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},a.prototype.setTitle=function(t){return t=void 0===t?Opal.nil:t,this["$title="](t)},a.prototype.assignCaption=function(t,e){t=void 0===t?Opal.nil:t,e=void 0===e?null:e,this.$assign_caption(t,e)},a.prototype.getCaptionedTitle=function(){return this.$captioned_title()},a.prototype.getStyle=function(){var t=this.style;return t===Opal.nil?void 0:t},a.prototype.setStyle=function(t){this.style=t},a.prototype.getSourceLocation=function(){var t=this.source_location;if(t!==Opal.nil)return t.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},t.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},t.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},t.getLineNumber=function(){var t=this.lineno;return t===Opal.nil?void 0:t},t},a.prototype.getCaption=function(){var t=this.$caption();return t===Opal.nil?void 0:t},a.prototype.setCaption=function(t){this.caption=void 0===t?Opal.nil:t},a.prototype.getLevel=function(){var t=this.level;return t===Opal.nil?void 0:t},a.prototype.getSubstitutions=function(){return this.subs},a.prototype.hasSubstitution=function(t){return this["$sub?"](t)},a.prototype.removeSubstitution=function(t){this.$remove_sub(t)},a.prototype.hasBlocks=function(){return this.blocks.length>0},a.prototype.getBlocks=function(){return this.blocks},a.prototype.getContent=function(){return this.$content()},a.prototype.convert=function(){return this.$convert()},a.prototype.findBy=function(t,r){return void 0===r&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof r?Opal.send(this,"find_by",[e(t)],r):this.$find_by(e(t))},a.prototype.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},a.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},a.prototype.getSections=function(){return this.$sections()},a.prototype.getNumeral=function(){return this.$numeral()},a.prototype.setNumeral=function(t){this["$numeral="](t)},a.prototype.hasTitle=function(){return this["$title?"]()},a.prototype.getAlt=function(){return this.$alt()};var s=Opal.Asciidoctor.Section;s.create=function(t,r,n,$){return $&&$.attributes&&($.attributes=e($.attributes)),this.$new(t,r,n,e($))},s.prototype.setLevel=function(t){this.level=t},s.prototype.getIndex=function(){return this.index},s.prototype.setIndex=function(t){this.index=t},s.prototype.getSectionName=function(){var t=this.sectname;return t===Opal.nil?void 0:t},s.prototype.setSectionName=function(t){this.sectname=t},s.prototype.isSpecial=function(){return this.special},s.prototype.setSpecial=function(t){this.special=t},s.prototype.isNumbered=function(){return this.numbered},s.prototype.getCaption=function(){var t=this.caption;return t===Opal.nil?void 0:t},s.prototype.getName=function(){return this.getTitle()};var l=Opal.Asciidoctor.Block;l.create=function(t,r,n){return n&&n.attributes&&(n.attributes=e(n.attributes)),this.$new(t,r,e(n))},l.prototype.getSource=function(){return this.$source()},l.prototype.getSourceLines=function(){return this.lines};var c=Opal.Asciidoctor.AbstractNode;c.prototype.applySubstitutions=function(t,e){return this.$apply_subs(t,e)},c.prototype.resolveSubstitutions=function(t,e,r,n){void 0===e&&(e="block"),void 0===r&&(r=Opal.nil),void 0===n&&(n=Opal.nil);const $=this.$resolve_subs(t,e,r,n);return $===Opal.nil?void 0:$},c.prototype.resolveBlockSubstitutions=function(t,e,r){return this.resolveSubstitutions(t,"block",e,r)},c.prototype.resolvePassSubstitutions=function(t){return this.resolveSubstitutions(t,"inline",void 0,"passthrough macro")},c.prototype.getNodeName=function(){return this.node_name},c.prototype.getAttributes=function(){return r(this.attributes)},c.prototype.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===Opal.nil?void 0:n},c.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},c.prototype.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==Opal.nil&&n},c.prototype.setAttribute=function(t,e,r){return void 0===r&&(r=!0),this.$set_attr(t,e,r)},c.prototype.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},c.prototype.getDocument=function(){return this.document},c.prototype.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},c.prototype.isInline=function(){return this["$inline?"]()},c.prototype.isBlock=function(){return this["$block?"]()},c.prototype.isRole=function(t){return this["$role?"](t)},c.prototype.getRole=function(){return this.$role()},c.prototype.hasRole=function(t){return this["$has_role?"](t)},c.prototype.getRoles=function(){return this.$roles()},c.prototype.addRole=function(t){return this.$add_role(t)},c.prototype.removeRole=function(t){return this.$remove_role(t)},c.prototype.isReftext=function(){return this["$reftext?"]()},c.prototype.getReftext=function(){var t=this.$reftext();return t===Opal.nil?void 0:t},c.prototype.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},c.prototype.getId=function(){var t=this.id;return t===Opal.nil?void 0:t},c.prototype.setId=function(t){this.id=t},c.prototype.isOption=function(t){return this["$option?"](t)},c.prototype.setOption=function(t){return this.$set_option(t)},c.prototype.getIconUri=function(t){return this.$icon_uri(t)},c.prototype.getMediaUri=function(t,e){return this.$media_uri(t,e)},c.prototype.getImageUri=function(t,e){return this.$image_uri(t,e)},c.prototype.getConverter=function(){return this.$converter()},c.prototype.readContents=function(t,r){return this.$read_contents(t,e(r))},c.prototype.readAsset=function(t,r){var n=this.$read_asset(t,e(r));return n===Opal.nil?void 0:n},c.prototype.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},c.prototype.normalizeSystemPath=function(t,r,n,$){return this.$normalize_system_path(t,r,n,e($))},c.prototype.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var u=Opal.Asciidoctor.Document;u.prototype.getRefs=function(){return r(this.catalog.$$smap.refs)},u.prototype.getImages=function(){return this.catalog.$$smap.images},u.prototype.getLinks=function(){return this.catalog.$$smap.links},u.prototype.hasFootnotes=function(){return this["$footnotes?"]()},u.prototype.getFootnotes=function(){return this.$footnotes()},u.prototype.getHeader=function(){return this.header},u.prototype.setAttribute=function(t,e){return this.$set_attribute(t,e)},u.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},u.prototype.convert=function(t){var r=this.$convert(e(t));return r===Opal.nil?"":r},u.prototype.write=function(t,e){return this.$write(t,e)},u.prototype.getAuthor=function(){return this.$author()},u.prototype.getSource=function(){return this.$source()},u.prototype.getSourceLines=function(){return this.$source_lines()},u.prototype.isNested=function(){return this["$nested?"]()},u.prototype.isEmbedded=function(){return this["$embedded?"]()},u.prototype.hasExtensions=function(){return this["$extensions?"]()},u.prototype.getDoctype=function(){return this.doctype},u.prototype.getBackend=function(){return this.backend},u.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},u.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},u.prototype.setTitle=function(t){return this["$title="](t)},u.prototype.getDocumentTitle=function(t){var r=this.$doctitle(e(t));return r===Opal.nil?void 0:r},u.prototype.getDoctitle=u.prototype.getDocumentTitle,u.prototype.getCatalog=function(){return r(this.catalog)},u.prototype.getReferences=u.prototype.getCatalog,u.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},u.prototype.getRevdate=function(){return this.getRevisionDate()},u.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},u.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},u.prototype.setHeaderAttribute=function(t,e,r){return void 0===r&&(r=!0),void 0===e&&(e=""),this.$set_header_attribute(t,e,r)},u.prototype.getAuthors=function(){return this.$authors()};var _=u.Footnote;_.prototype.getIndex=function(){var t=this.$$data.index;return t===Opal.nil?void 0:t},_.prototype.getId=function(){var t=this.$$data.id;return t===Opal.nil?void 0:t},_.prototype.getText=function(){var t=this.$$data.text;return t===Opal.nil?void 0:t};var d=u.ImageReference;d.prototype.getTarget=function(){return this.$$data.target},d.prototype.getImagesDirectory=function(){var t=this.$$data.imagesdir;return t===Opal.nil?void 0:t};var p=u.Author;p.prototype.getName=function(){var t=this.$$data.name;return t===Opal.nil?void 0:t},p.prototype.getFirstName=function(){var t=this.$$data.firstname;return t===Opal.nil?void 0:t},p.prototype.getMiddleName=function(){var t=this.$$data.middlename;return t===Opal.nil?void 0:t},p.prototype.getLastName=function(){var t=this.$$data.lastname;return t===Opal.nil?void 0:t},p.prototype.getInitials=function(){var t=this.$$data.initials;return t===Opal.nil?void 0:t},p.prototype.getEmail=function(){var t=this.$$data.email;return t===Opal.nil?void 0:t},u.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var f=u.RevisionInfo;f.prototype.getDate=function(){return this.date},f.prototype.getNumber=function(){return this.number},f.prototype.getRemark=function(){return this.remark},f.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};var h=Opal.Asciidoctor.SafeMode;h.getValueForName=function(t){return this.$value_for_name(t)},h.getNameForValue=function(t){var e=this.$name_for_value(t);return e===Opal.nil?void 0:e},h.getNames=function(){return this.$names()};var m=Opal.Asciidoctor.Callouts;m.create=function(){return this.$new()},m.prototype.register=function(t){return this.$register(t)},m.prototype.readNextId=function(){return this.$read_next_id()},m.prototype.getCalloutIds=function(t){return this.$callout_ids(t)},m.prototype.getLists=function(){var t=this.lists;if(t&&t.length>0)for(var e=0;e<t.length;e++){var n=t[e];if(n&&n.length>0)for(var $=0;$<n.length;$++)"object"==typeof n[$]&&"$$smap"in n[$]&&(n[$]=r(n[$]))}return t},m.prototype.getListIndex=function(){return this.list_index},m.prototype.getCurrentList=function(){var t=this.$current_list();if(t&&t.length>0)for(var e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=r(t[e]));return t},m.prototype.nextList=function(){return this.$nextList()},m.prototype.rewind=function(){return this.$rewind()},u.prototype.getRevisionInfo=function(){return new u.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},u.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},u.prototype.getNotitle=function(){return this.$notitle()},u.prototype.getNoheader=function(){return this.$noheader()},u.prototype.getNofooter=function(){return this.$nofooter()},u.prototype.hasHeader=function(){return this["$header?"]()},u.prototype.playbackAttributes=function(t){if(t=e(t)){var r=t["$[]"]("attribute_entries");if(r&&Array.isArray(r)){for(var n=[],$=0;$<r.length;$++){var i=r[$];i&&"object"==typeof i&&"Object"===i.constructor.name&&(i.$name=function(){return this.name},i.$value=function(){return this.value},i.$negate=function(){return this.negate}),n.push(i)}t["$[]="]("attribute_entries",n)}}this.$playback_attributes(t)},u.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},u.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},u.prototype.restoreAttributes=function(){return this.$restore_attributes()},u.prototype.parse=function(t){return this.$parse(t)},u.prototype.getDocinfo=function(t,e){return this.$docinfo(t,e)},u.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},u.prototype.incrementAndStoreCounter=function(t,e){return this.$increment_and_store_counter(t,e)},u.prototype.counterIncrement=u.prototype.incrementAndStoreCounter,u.prototype.counter=function(t,e){return this.$counter(t,e)},u.prototype.getSafe=function(){return this.safe},u.prototype.getCompatMode=function(){return this.compat_mode},u.prototype.getSourcemap=function(){var t=this.sourcemap;return t!==Opal.nil&&t},u.prototype.setSourcemap=function(t){this.sourcemap=t},u.prototype.getCounters=function(){return r(this.counters)},u.prototype.getCallouts=function(){return this.$callouts()},u.prototype.getBaseDir=function(){return this.base_dir},u.prototype.getOptions=function(){return r(this.options)},u.prototype.getOutfilesuffix=function(){return this.outfilesuffix},u.prototype.getParentDocument=function(){var t=this.parent_document;return t===Opal.nil?void 0:t},u.prototype.getReader=function(){return this.reader},u.prototype.getConverter=function(){return this.converter},u.prototype.getExtensions=function(){var t=this.extensions;return t===Opal.nil?void 0:t};var y=u.Title;y.prototype.getMain=function(){return this.main},y.prototype.getCombined=function(){return this.combined},y.prototype.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},y.prototype.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},y.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var g=Opal.Asciidoctor.Inline;g.create=function(t,e,r,n){return this.$new(t,e,r,$(n))},g.prototype.convert=function(){return this.$convert()},g.prototype.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},g.prototype.getType=function(){return this.$type()},g.prototype.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t},g.prototype.getAlt=function(){return this.$alt()};var v=Opal.Asciidoctor.List;v.prototype.hasItems=function(){return this["$items?"]()},v.prototype.getItems=function(){return this.blocks};var b=Opal.Asciidoctor.ListItem;b.prototype.getText=function(){return this.$text()},b.prototype.setText=function(t){return this["$text="](t)},b.prototype.hasText=function(){return this["$text?"]()},b.prototype.getMarker=function(){return this.marker},b.prototype.setMarker=function(t){this.marker=t},b.prototype.getList=function(){return this.$list()},b.prototype.getParent=b.prototype.getList;var x=Opal.Asciidoctor.Reader;x.prototype.pushInclude=function(t,r,n,$,i){return this.$push_include(t,r,n,$,e(i))},x.prototype.getCursor=function(){return this.$cursor()},x.prototype.getLines=function(){return this.$lines()},x.prototype.getString=function(){return this.$string()},x.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},x.prototype.isEmpty=function(){return this["$empty?"]()},x.prototype.peekLine=function(t){t=t||!1;var e=this.$peek_line(t);return e===Opal.nil?void 0:e},x.prototype.readLine=function(){var t=this.$read_line();return t===Opal.nil?void 0:t},x.prototype.readLines=function(){return this.$read_lines()},x.prototype.read=function(){return this.$read()},x.prototype.advance=function(){return this.$advance()};var k=Opal.Asciidoctor.Reader.Cursor;k.prototype.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},k.prototype.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},k.prototype.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},k.prototype.getLineNumber=function(){return this.lineno};var w=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=w,w.getLogger=function(){return this.$logger()},w.setLogger=function(t){this["$logger="](t)},w.newLogger=function(t,e){return function(t,e){return i(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),t,e,{},{add:function(t){if(t.length>=2&&"object"==typeof t[2]&&"$$smap"in t[2]){var e=t[2],n=r(e);n.getText=function(){return this.text},n.getSourceLocation=function(){return this.source_location},n.$inspect=function(){var t=this.getSourceLocation();return t?t.getPath()+": line "+t.getLineNumber()+": "+this.getText():this.getText()},t[2]=n}return t.length>=1&&(t[1]=t[1]===Opal.nil?void 0:t[1]),t}})}(t,e).$new()},w.newFormatter=function(t,e){return function(t,e){return i(Opal.const_get_qualified(Opal.Logger,"Formatter"),t,e,{},{call:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=r(t[e]));return t}})}(t,e).$new()};var E=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=E,E.get=function(t){return E.$constants()[t]};var A=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=A,A.prototype.call=function(t,e,r,n){return this.$call(E.get(t),e,r,n)};var O=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=O,O.create=function(){return this.$new()},O.prototype.getMessages=function(){for(var t=this.messages,e=[],n=0;n<t.length;n++){var $=t[n],i=r($);"string"==typeof i.message?i.getText=function(){return this.message}:(i.message=r(i.message),i.getText=function(){return this.message.text}),i.getSeverity=function(){return this.severity.toString()},i.getSourceLocation=function(){return this.message.source_location},e.push(i)}return e};var S=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=S,S.getLogger=function(){return w.$logger()},S.createLogMessage=function(t,r){return S.prototype.$message_with_context(t,e(r))},x.prototype.getLogger=S.getLogger,x.prototype.createLogMessage=S.createLogMessage,c.prototype.getLogger=S.getLogger,c.prototype.createLogMessage=S.createLogMessage;var R=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=R,R.prototype.getMaxSeverity=function(){var t=this.max_severity;return t===Opal.nil?void 0:t},R.prototype.getFormatter=function(){return this.formatter},R.prototype.setFormatter=function(t){this.formatter=t},R.prototype.getLevel=function(){return this.level},R.prototype.setLevel=function(t){this.level=t},R.prototype.getProgramName=function(){return this.progname},R.prototype.setProgramName=function(t){this.progname=t};var C=Opal.const_get_qualified("::","Logger"),I=function(t,e,r){t["$"+e](r)};C.prototype.add=function(t,e,r){var n="string"==typeof t?E[t.toUpperCase()]:t;this.$add(n,e,r)},C.prototype.log=C.prototype.add,C.prototype.debug=function(t){I(this,"debug",t)},C.prototype.info=function(t){I(this,"info",t)},C.prototype.warn=function(t){I(this,"warn",t)},C.prototype.error=function(t){I(this,"error",t)},C.prototype.fatal=function(t){I(this,"fatal",t)},C.prototype.isDebugEnabled=function(){return this["$debug?"]()},C.prototype.isInfoEnabled=function(){return this["$info?"]()},C.prototype.isWarnEnabled=function(){return this["$warn?"]()},C.prototype.isErrorEnabled=function(){return this["$error?"]()},C.prototype.isFatalEnabled=function(){return this["$fatal?"]()};var T=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=T,T.create=function(){return this.$new()},T.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;var L=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=L,L.create=function(){return this.$new()},L.prototype.printReport=function(t,e){var r;if(t)if("function"==typeof t.$add)r=function(e){t.$add(1,e)};else if("function"==typeof t.log)r=t.log;else{if("function"!=typeof t.write)throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");r=function(e){t.write(e,"utf-8")}}else r=function(t){Opal.gvars.stdout.$write(t)};e&&r("Input file: "+e),r(" Time to read and parse source: "+this.$read_parse().toFixed(2)),r(" Time to convert document: "+this.$convert().toFixed(2)),r(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var N=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=N,N.register=function(t,e){var $="string"==typeof t?t:t[0];if("function"==typeof e){var o=e.prototype,a=Object.getOwnPropertyNames(o);for(var s in e={},a){var l=a[s];e[l]=o[l]}}var c=i(F,$,e,{},{format:function(t){return t.length>=2&&"object"==typeof t[2]&&"$$smap"in t[2]&&(t[2]=r(t[2])),t.length>=1&&(t[1]=t[1]===Opal.nil?void 0:t[1]),t},highlight:function(t){if(t.length>=3&&"object"==typeof t[3]&&"$$smap"in t[3]){var e=t[3];for(var $ in e=r(e)){var i=e[$];if("callouts"===$){var o=n(i);for(var a in o)for(var s=o[a],l=0;l<s.length;l++)for(var c=s[l],u=0;u<c.length;u++)c[u]=c[u]===Opal.nil?void 0:c[u];e[$]=o}else e[$]=i===Opal.nil?void 0:i}t[3]=e}return t.length>=2&&(t[2]=t[2]===Opal.nil?void 0:t[2]),t}});for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&function(t){var r=e[t];"handlesHighlighting"===t?Opal.def(c,"$highlight?",(function(){return r.call()})):"hasDocinfo"===t&&Opal.def(c,"$docinfo?",(function(t){return r.apply(this,[t])}))}(u);return Opal.def(c,"$name",(function(){return $})),N.$register(c,t),c},N.get=function(t){var e=N.$for(t);return e===Opal.nil?void 0:e},N.for=N.get;var F=Opal.const_get_qualified(N,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=F,F.prototype.registerFor=function(t){N.$register(this,t)};var D=Opal.Asciidoctor.Table;D.create=function(t,r){return this.$new(t,e(r))},D.prototype.getCaption=function(){return this.caption},D.prototype.getRows=function(){return this.rows},D.prototype.getColumns=function(){return this.columns},D.prototype.getHeadRows=function(){return this.rows.head},D.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},D.prototype.getBodyRows=function(){return this.rows.body},D.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},D.prototype.getFootRows=function(){return this.rows.foot},D.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},D.prototype.hasHeaderOption=function(){return this.has_header_option},D.prototype.hasFooterOption=function(){return""===this.getAttributes()["footer-option"]},D.prototype.hasAutowidthOption=function(){return""===this.getAttributes()["autowidth-option"]},D.prototype.getRowCount=function(){return this.getAttribute("rowcount")},D.prototype.setRowCount=function(t){this.setAttribute("rowcount",t)},D.prototype.getColumnCount=function(){return this.getAttribute("colcount")},D.prototype.setColumnCount=function(t){this.setAttribute("colcount",t)};var z=Opal.Asciidoctor.Table.Rows;z.create=function(t,e,r){return this.$new(t,e,r)},z.prototype.getHead=function(){return this.head},z.prototype.getFoot=function(){return this.foot},z.prototype.getBody=function(){return this.body},z.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};var B=Opal.Asciidoctor.Table.Column;B.create=function(t,r,n){return this.$new(t,r,e(n))},B.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},B.prototype.getWidth=function(){return this.getAttribute("width")},B.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},B.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},B.prototype.getStyle=function(){var t=this.style;return t===Opal.nil?void 0:t};var M=Opal.Asciidoctor.Table.Cell;M.create=function(t,r,n,$){return this.$new(t,r,e(n),e($))},M.prototype.getColumnSpan=function(){var t=this.colspan;return t===Opal.nil?void 0:t},M.prototype.setColumnSpan=function(t){return this["$colspan="](t)},M.prototype.getRowSpan=function(){var t=this.rowspan;return t===Opal.nil?void 0:t},M.prototype.setRowSpan=function(t){return this["$rowspan="](t)},M.prototype.getContent=function(){return this.$content()},M.prototype.getText=function(){return this.$text()},M.prototype.getSource=function(){return this.$source()},M.prototype.getLines=function(){return this.$lines()},M.prototype.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},M.prototype.getFile=function(){var t=this.$file();return t===Opal.nil?void 0:t},M.prototype.getStyle=function(){var t=this.$style();return t===Opal.nil?void 0:t},M.prototype.getColumn=function(){var t=this.$column();return t===Opal.nil?void 0:t},M.prototype.getWidth=function(){return this.getAttribute("width")},M.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},M.prototype.getInnerDocument=function(){var t=this.inner_document;return t===Opal.nil?void 0:t};var j=Opal.Asciidoctor.Converter.TemplateConverter;if(j){Opal.Asciidoctor.TemplateConverter=j,j.create=function(t,r,n){n&&n.template_cache&&(n.template_cache=e(n.template_cache)),this.$new(t,r,e(n))},j.getCache=function(){var t=r(this.caches);if(t){if(t.scans)for(var e in t.scans=r(t.scans),t.scans)t.scans[e]=r(t.scans[e]);t.templates&&(t.templates=r(t.templates))}return t},j.clearCache=function(){this.$clear_caches()},j.prototype.convert=function(t,r,n){return this.$convert(t,r,e(n))},j.prototype.handles=function(t){return this["$handles?"](t)},j.prototype.getTemplates=function(){return r(this.$templates())},j.prototype.register=function(t,e){return this.$register(t,e)};var q={registry:{}};Opal.Asciidoctor.TemplateEngine=q,q.register=function(t,e){if("string"==typeof t)this.registry[t]=e;else for(var r=0;r<t.length;r++){var n=t[r];this.registry[n]=e}}}var P=function(t){return t.$$arity=t.length,t},U=function(t,e,r,n){return"object"==typeof r||r.$$is_class?t["$"+e](r,n):Opal.send(t,e,n&&[n],P(r))},H=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=H,H.create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"create",null,P(t)):"function"==typeof e?Opal.send(this,"create",[t],P(e)):this.$create()},H.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,P(t)):Opal.send(this,"register",[t],P(e))},H.getGroups=function(){return r(this.$groups())},H.unregisterAll=function(){this.$unregister_all()},H.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,$=e.$$keys;n<$.length;n++){var i=$[n];r[i.toString()]=i}for(var o=0;o<t.length;o++){var a=t[o];a in r&&Opal.hash_delete(e,r[a])}};var Y=H.Registry;Y.prototype.getGroups=H.getGroups,Y.prototype.unregisterAll=function(){this.groups=Opal.hash()},Y.prototype.unregister=H.unregister,Y.prototype.prefer=function(t,e){return 1===arguments.length&&(e=t,t=null),"object"==typeof e||e.$$is_class?this.$prefer(t,e):Opal.send(this,"prefer",t&&[t],P(e))},Y.prototype.block=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"block",e,t)},Y.prototype.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"inline_macro",e,t)},Y.prototype.includeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"include_processor",e,t)},Y.prototype.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"block_macro",e,t)},Y.prototype.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"tree_processor",e,t)},Y.prototype.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"postprocessor",e,t)},Y.prototype.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"preprocessor",e,t)},Y.prototype.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"docinfo_processor",e,t)},Y.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},Y.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},Y.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},Y.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},Y.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},Y.prototype.hasBlocks=function(){return this["$blocks?"]()},Y.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},Y.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},Y.prototype.getPreprocessors=function(){return this.$preprocessors()},Y.prototype.getTreeProcessors=function(){return this.$tree_processors()},Y.prototype.getIncludeProcessors=function(){return this.$include_processors()},Y.prototype.getPostprocessors=function(){return this.$postprocessors()},Y.prototype.getDocinfoProcessors=function(t){return this.$docinfo_processors(t)},Y.prototype.getBlocks=function(){return this.block_extensions.$values()},Y.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},Y.prototype.getInlineMacros=function(){return this.$inline_macros()},Y.prototype.getInlineMacroFor=function(t){var e=this["$registered_for_inline_macro?"](t);return!1===e?void 0:e},Y.prototype.getBlockFor=function(t,e){if(void 0===e){var r=this.$find_block_extension(t);return r===Opal.nil?void 0:r}var n=this["$registered_for_block?"](t,e);return!1===n?void 0:n},Y.prototype.getBlockMacroFor=function(t){var e=this["$registered_for_block_macro?"](t);return!1===e?void 0:e};var G=H.Processor;G.prototype.prepend=function(){this.$option("position",">>")},G.prototype.process=function(t){var e=new Proxy(t,{apply:function(t,e,n){for(var $=0;$<n.length;$++)"object"==typeof n[$]&&"$$smap"in n[$]&&(n[$]=r(n[$]));return t.apply(e,n)}});return Opal.send(this,"process",null,P(e))},G.prototype.named=function(t){return this.$named(t)},G.prototype.createBlock=function(t,r,n,$,i){return this.$create_block(t,r,n,e($),e(i))},G.prototype.createList=function(t,r,n){return this.$create_list(t,r,e(n))},G.prototype.createListItem=function(t,e){return this.$create_list_item(t,e)},G.prototype.createImageBlock=function(t,r,n){return this.$create_image_block(t,e(r),e(n))},G.prototype.createParagraph=function(t,r,n,$){return this.$create_paragraph(t,r,e(n),e($))},G.prototype.createOpenBlock=function(t,r,n,$){return this.$create_open_block(t,r,e(n),e($))},G.prototype.createExampleBlock=function(t,r,n,$){return this.$create_example_block(t,r,e(n),e($))},G.prototype.createPassBlock=function(t,r,n,$){return this.$create_pass_block(t,r,e(n),e($))},G.prototype.createListingBlock=function(t,r,n,$){return this.$create_listing_block(t,r,e(n),e($))},G.prototype.createLiteralBlock=function(t,r,n,$){return this.$create_literal_block(t,r,e(n),e($))},G.prototype.createAnchor=function(t,r,n){return n&&n.attributes&&(n.attributes=e(n.attributes)),this.$create_anchor(t,r,e(n))},G.prototype.createInlinePass=function(t,r,n){return n&&n.attributes&&(n.attributes=e(n.attributes)),this.$create_inline_pass(t,r,e(n))},G.prototype.createInline=function(t,r,n,$){return $&&$.attributes&&($.attributes=e($.attributes)),this.$create_inline(t,r,n,e($))},G.prototype.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},G.prototype.parseAttributes=function(t,n,$){return $&&$.attributes&&($.attributes=e($.attributes)),r(this.$parse_attributes(t,n,e($)))},G.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},G.prototype.resolveAttributes=function(t){return"object"!=typeof t||Array.isArray(t)?arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):void 0===t?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(t):this.$resolves_attributes(e(t))},G.prototype.resolvesAttributes=G.prototype.resolveAttributes,G.prototype.getConfig=function(){return r(this.config)},G.prototype.option=function(t,e){this.$option(t,e)};var W=H.BlockProcessor;W.prototype.defaultAttributes=function(t){this.$default_attributes(e(t))},W.prototype.onContext=function(t){return this.$on_context(t)},W.prototype.onContexts=function(t){return this.$on_contexts(Array.prototype.slice.call(arguments))},W.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},W.prototype.parseContentAs=function(t){this.$parse_content_as(t)};var X=H.BlockMacroProcessor;X.prototype.defaultAttributes=function(t){this.$default_attributes(e(t))},X.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},X.prototype.parseContentAs=function(t){this.$parse_content_as(t)};var K=H.InlineMacroProcessor;K.prototype.defaultAttributes=function(t){this.$default_attributes(e(t))},K.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},K.prototype.parseContentAs=function(t){this.$parse_content_as(t)},K.prototype.matchFormat=function(t){this.$match_format(t)},K.prototype.match=function(t){this.$match(t)};var V=H.IncludeProcessor;V.prototype.handles=function(t){return Opal.send(this,"handles?",null,P(t))},V.prototype.prefer=function(){this.$prefer()},H.TreeProcessor.prototype.prefer=function(){this.$prefer()},H.Postprocessor.prototype.prefer=function(){this.$prefer()},H.Preprocessor.prototype.prefer=function(){this.$prefer()};var J=H.DocinfoProcessor;function Z(t,e,r){return i(Opal.const_get_qualified(H,t),e,r,{"handles?":function(){return!0}})}J.prototype.prefer=function(){this.$prefer()},J.prototype.atLocation=function(t){this.$at_location(t)},H.createPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("Postprocessor",t,e)},H.newPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPostprocessor(t,e).$new()},H.createPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("Preprocessor",t,e)},H.newPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPreprocessor(t,e).$new()},H.createTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("TreeProcessor",t,e)},H.newTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createTreeProcessor(t,e).$new()},H.createIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("IncludeProcessor",t,e)},H.newIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createIncludeProcessor(t,e).$new()},H.createDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("DocinfoProcessor",t,e)},H.newDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createDocinfoProcessor(t,e).$new()},H.createBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("BlockProcessor",t,e)},H.newBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockProcessor(t,e).$new()},H.createInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("InlineMacroProcessor",t,e)},H.newInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createInlineMacroProcessor(t,e).$new()},H.createBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("BlockMacroProcessor",t,e)},H.newBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockMacroProcessor(t,e).$new()};var Q=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Q,Q.prototype.convert=function(t,r,n){return this.$convert(t,r,e(n))},Q.create=function(t,r){return this.$create(t,e(r))};var tt=Opal.Asciidoctor.Converter.Factory,et=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=tt;var rt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=rt,tt.register=function(t,r){var n,$,o=function(t,r){t.backend_traits?r.backend_traits=e(t.backend_traits):t.backendTraits?r.backend_traits=e(t.backendTraits):(t.basebackend||t.outfilesuffix||t.filetype||t.htmlsyntax||t.supports_templates)&&(r.backend_traits=e(function(t){return Object.assign({},t.basebackend?{basebackend:t.basebackend}:{},t.outfilesuffix?{outfilesuffix:t.outfilesuffix}:{},t.filetype?{filetype:t.filetype}:{},t.htmlsyntax?{htmlsyntax:t.htmlsyntax}:{},t.supports_templates?{supports_templates:t.supports_templates}:{})}(t)))},a=function(t,e){l(t,e,"$handles?","handles",(function(){return!0}))},s=function(t,e){l(t,e,"$composed","composed")},l=function(t,e,r,n,$){void 0===t[r]&&("function"==typeof t[n]?e[r]=t[n]:$&&(e[r]=$))},c=function(t){"function"!=typeof t["$respond_to?"]&&(t["$respond_to?"]=function(t){return"function"==typeof this[t]})};if("function"==typeof t)(n=i(et,t.constructor.name,{initialize:function(e,r){var n=this,$=new t(e,r);Object.assign(this,$),o($,n);for(var i=Object.getOwnPropertyNames(t.prototype),l=0;l<i.length;l++){var u=i[l];"constructor"!==u&&(n[u]=$[u])}void 0===$.$convert&&"function"==typeof $.convert&&(n.$convert=$.convert),a($,n),s($,n),c(n),n.super(e,r)}})).$extend(rt);else if("object"==typeof t){if(void 0===t.$convert&&"function"==typeof t.convert&&(t.$convert=t.convert),o(t,t),t.backend_traits){for(var u of["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"])t["$"+u]=rt.prototype["$"+u];t.$$meta=rt}a(t,t),s(t,t),l(t,$=t,"$==","==",(function(t){return $===t})),function(t,e){l(t,e,"$send","send",(function(t){var r=Array.prototype.slice.call(arguments,1),n=e["$"+t];if(n)return n.apply(e,r);throw new Error(`undefined method \`${t}\` for \`${e.toString()}\``)}))}(t,t),c(t),n=t}var _=[n].concat(r);return Q.$register.apply(Q,_)},tt.getDefault=function(t){return this.$default(t)},tt.prototype.create=function(t,r){return this.$create(t,e(r))},tt.getRegistry=function(){return r(Q.$registry())},tt.for=function(t){const e=Q.$for(t);return e===Opal.nil?void 0:e},tt.unregisterAll=function(){var t=Q.DefaultFactory.$$cvars["@@registry"];Q.DefaultFactory.$$cvars["@@registry"]=e({html5:t["$[]"]("html5")})};var nt=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=nt,nt.create=function(){return this.$new()},nt.prototype.convert=function(t,e,r){return this.$convert(t,e,r)};return Opal.Asciidoctor.prototype.getVersion=function(){return"2.2.6"},Opal.Asciidoctor}));const Asciidoctor=globalThis.Asciidoctor;delete globalThis.Asciidoctor;let text=Deno.core.ops.op_adoc(),options={safe:"server",doctype:"article",standalone:!0,attributes:"linkcss"};Asciidoctor().convert(text,options);